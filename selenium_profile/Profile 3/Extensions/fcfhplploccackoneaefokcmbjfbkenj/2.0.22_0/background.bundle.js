(()=>{var e,t,n={284:(e,t,n)=>{"use strict";n.d(t,{wD:()=>o});var r=n(341);function o(){return!(0,r.Z)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}e=n.hmd(e)},341:(e,t,n)=>{"use strict";function r(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function o(){return"npm"}n.d(t,{Z:()=>r,e:()=>o})},802:e=>{e.exports=function e(t,n,r){function o(i,a){if(!n[i]){if(!t[i]){if(s)return s(i,!0);throw new Error("Cannot find module '"+i+"'")}var c=n[i]={exports:{}};t[i][0].call(c.exports,(function(e){return o(t[i][1][e]||e)}),c,c.exports,e,t,n,r)}return n[i].exports}for(var s=void 0,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){(function(r,o,s,i,a,c,u,l,d){"use strict";var p=e("crypto");function h(e,t){return function(e,t){var n;if(void 0===(n="passthrough"!==t.algorithm?p.createHash(t.algorithm):new _).write&&(n.write=n.update,n.end=n.update),v(t,n).dispatch(e),n.update||n.end(""),n.digest)return n.digest("buffer"===t.encoding?void 0:t.encoding);var r=n.read();return"buffer"!==t.encoding?r.toString(t.encoding):r}(e,t=g(e,t))}(n=t.exports=h).sha1=function(e){return h(e)},n.keys=function(e){return h(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return h(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return h(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var f=p.getHashes?p.getHashes().slice():["sha1","md5"];f.push("passthrough");var m=["buffer","hex","binary","base64"];function g(e,t){t=t||{};var n={};if(n.algorithm=t.algorithm||"sha1",n.encoding=t.encoding||"hex",n.excludeValues=!!t.excludeValues,n.algorithm=n.algorithm.toLowerCase(),n.encoding=n.encoding.toLowerCase(),n.ignoreUnknown=!0===t.ignoreUnknown,n.respectType=!1!==t.respectType,n.respectFunctionNames=!1!==t.respectFunctionNames,n.respectFunctionProperties=!1!==t.respectFunctionProperties,n.unorderedArrays=!0===t.unorderedArrays,n.unorderedSets=!1!==t.unorderedSets,n.unorderedObjects=!1!==t.unorderedObjects,n.replacer=t.replacer||void 0,n.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var r=0;r<f.length;++r)f[r].toLowerCase()===n.algorithm.toLowerCase()&&(n.algorithm=f[r]);if(-1===f.indexOf(n.algorithm))throw new Error('Algorithm "'+n.algorithm+'"  not supported. supported values: '+f.join(", "));if(-1===m.indexOf(n.encoding)&&"passthrough"!==n.algorithm)throw new Error('Encoding "'+n.encoding+'"  not supported. supported values: '+m.join(", "));return n}function y(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function v(e,t,n){function r(e){return t.update?t.update(e,"utf8"):t.write(e,"utf8")}return n=n||[],{dispatch:function(t){return e.replacer&&(t=e.replacer(t)),this["_"+(null===t?"null":typeof t)](t)},_object:function(t){var o,i=Object.prototype.toString.call(t),a=/\[object (.*)\]/i.exec(i);if(a=(a=a?a[1]:"unknown:["+i+"]").toLowerCase(),0<=(o=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+o+"]");if(n.push(t),void 0!==s&&s.isBuffer&&s.isBuffer(t))return r("buffer:"),r(t);if("object"===a||"function"===a||"asyncfunction"===a){var c=Object.keys(t);e.unorderedObjects&&(c=c.sort()),!1===e.respectType||y(t)||c.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(c=c.filter((function(t){return!e.excludeKeys(t)}))),r("object:"+c.length+":");var u=this;return c.forEach((function(n){u.dispatch(n),r(":"),e.excludeValues||u.dispatch(t[n]),r(",")}))}if(!this["_"+a]){if(e.ignoreUnknown)return r("["+a+"]");throw new Error('Unknown object type "'+a+'"')}this["_"+a](t)},_array:function(t,o){o=void 0!==o?o:!1!==e.unorderedArrays;var s=this;if(r("array:"+t.length+":"),!o||t.length<=1)return t.forEach((function(e){return s.dispatch(e)}));var i=[],a=t.map((function(t){var r=new _,o=n.slice();return v(e,r,o).dispatch(t),i=i.concat(o.slice(n.length)),r.read().toString()}));return n=n.concat(i),a.sort(),this._array(a,!1)},_date:function(e){return r("date:"+e.toJSON())},_symbol:function(e){return r("symbol:"+e.toString())},_error:function(e){return r("error:"+e.toString())},_boolean:function(e){return r("bool:"+e.toString())},_string:function(e){r("string:"+e.length+":"),r(e.toString())},_function:function(t){r("fn:"),y(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return r("number:"+e.toString())},_xml:function(e){return r("xml:"+e.toString())},_null:function(){return r("Null")},_undefined:function(){return r("Undefined")},_regexp:function(e){return r("regex:"+e.toString())},_uint8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return r("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return r("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return r("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return r("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return r("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return r("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return r("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return r("url:"+e.toString())},_map:function(t){r("map:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_set:function(t){r("set:");var n=Array.from(t);return this._array(n,!1!==e.unorderedSets)},_file:function(e){return r("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return r("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return r("domwindow")},_bigint:function(e){return r("bigint:"+e.toString())},_process:function(){return r("process")},_timer:function(){return r("timer")},_pipe:function(){return r("pipe")},_tcp:function(){return r("tcp")},_udp:function(){return r("udp")},_tty:function(){return r("tty")},_statwatcher:function(){return r("statwatcher")},_securecontext:function(){return r("securecontext")},_connection:function(){return r("connection")},_zlib:function(){return r("zlib")},_context:function(){return r("context")},_nodescript:function(){return r("nodescript")},_httpparser:function(){return r("httpparser")},_dataview:function(){return r("dataview")},_signal:function(){return r("signal")},_fsevent:function(){return r("fsevent")},_tlswrap:function(){return r("tlswrap")}}}function _(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,n){return void 0===n&&(n=t,t={}),v(t=g(e,t),n).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_7eac155c.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,n){(function(e,t,r,o,s,i,a,c,u){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,n="+".charCodeAt(0),r="/".charCodeAt(0),o="0".charCodeAt(0),s="a".charCodeAt(0),i="A".charCodeAt(0),a="-".charCodeAt(0),c="_".charCodeAt(0);function u(e){var t=e.charCodeAt(0);return t===n||t===a?62:t===r||t===c?63:t<o?-1:t<o+10?t-o+26+26:t<i+26?t-i:t<s+26?t-s+26:void 0}e.toByteArray=function(e){var n,r;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.length,s="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0,i=new t(3*e.length/4-s),a=0<s?e.length-4:e.length,c=0;function l(e){i[c++]=e}for(n=0;n<a;n+=4,0)l((16711680&(r=u(e.charAt(n))<<18|u(e.charAt(n+1))<<12|u(e.charAt(n+2))<<6|u(e.charAt(n+3))))>>16),l((65280&r)>>8),l(255&r);return 2==s?l(255&(r=u(e.charAt(n))<<2|u(e.charAt(n+1))>>4)):1==s&&(l((r=u(e.charAt(n))<<10|u(e.charAt(n+1))<<4|u(e.charAt(n+2))>>2)>>8&255),l(255&r)),i},e.fromByteArray=function(e){var t,n,r,o,s=e.length%3,i="";function a(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,r=e.length-s;t<r;t+=3)i+=a((o=n=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+a(o>>12&63)+a(o>>6&63)+a(63&o);switch(s){case 1:i+=a((n=e[e.length-1])>>2),i+=a(n<<4&63),i+="==";break;case 2:i+=a((n=(e[e.length-2]<<8)+e[e.length-1])>>10),i+=a(n>>4&63),i+=a(n<<2&63),i+="="}return i}}(void 0===n?this.base64js={}:n)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,t,n){(function(t,r,o,s,i,a,c,u,l){var d=e("base64-js"),p=e("ieee754");function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);var r,s,i,a,c,u=typeof e;if("base64"===t&&"string"==u)for(e=(r=e).trim?r.trim():r.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==u)s=M(e);else if("string"==u)s=o.byteLength(e,t);else{if("object"!=u)throw new Error("First argument needs to be a number, array or string.");s=M(e.length)}if(o._useTypedArrays?i=o._augment(new Uint8Array(s)):((i=this).length=s,i._isBuffer=!0),o._useTypedArrays&&"number"==typeof e.byteLength)i._set(e);else if(O(c=e)||o.isBuffer(c)||c&&"object"==typeof c&&"number"==typeof c.length)for(a=0;a<s;a++)o.isBuffer(e)?i[a]=e.readUInt8(a):i[a]=e[a];else if("string"==u)i.write(e,0,t);else if("number"==u&&!o._useTypedArrays&&!n)for(a=0;a<s;a++)i[a]=0;return i}function h(e,t,n,r){return o._charsWritten=N(function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function f(e,t,n,r){return o._charsWritten=N(function(e){for(var t,n,r,o=[],s=0;s<e.length;s++)n=(t=e.charCodeAt(s))>>8,r=t%256,o.push(r),o.push(n);return o}(t),e,n,r)}function m(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;o++)r+=String.fromCharCode(e[o]);return r}function g(e,t,n,r){r||(j("boolean"==typeof n,"missing or invalid endian"),j(null!=t,"missing offset"),j(t+1<e.length,"Trying to read beyond buffer length"));var o,s=e.length;if(!(s<=t))return n?(o=e[t],t+1<s&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<s&&(o|=e[t+1])),o}function y(e,t,n,r){r||(j("boolean"==typeof n,"missing or invalid endian"),j(null!=t,"missing offset"),j(t+3<e.length,"Trying to read beyond buffer length"));var o,s=e.length;if(!(s<=t))return n?(t+2<s&&(o=e[t+2]<<16),t+1<s&&(o|=e[t+1]<<8),o|=e[t],t+3<s&&(o+=e[t+3]<<24>>>0)):(t+1<s&&(o=e[t+1]<<16),t+2<s&&(o|=e[t+2]<<8),t+3<s&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function v(e,t,n,r){if(r||(j("boolean"==typeof n,"missing or invalid endian"),j(null!=t,"missing offset"),j(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var o=g(e,t,n,!0);return 32768&o?-1*(65535-o+1):o}}function _(e,t,n,r){if(r||(j("boolean"==typeof n,"missing or invalid endian"),j(null!=t,"missing offset"),j(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var o=y(e,t,n,!0);return 2147483648&o?-1*(4294967295-o+1):o}}function b(e,t,n,r){return r||(j("boolean"==typeof n,"missing or invalid endian"),j(t+3<e.length,"Trying to read beyond buffer length")),p.read(e,t,n,23,4)}function S(e,t,n,r){return r||(j("boolean"==typeof n,"missing or invalid endian"),j(t+7<e.length,"Trying to read beyond buffer length")),p.read(e,t,n,52,8)}function w(e,t,n,r,o){o||(j(null!=t,"missing value"),j("boolean"==typeof r,"missing or invalid endian"),j(null!=n,"missing offset"),j(n+1<e.length,"trying to write beyond buffer length"),B(t,65535));var s=e.length;if(!(s<=n))for(var i=0,a=Math.min(s-n,2);i<a;i++)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function k(e,t,n,r,o){o||(j(null!=t,"missing value"),j("boolean"==typeof r,"missing or invalid endian"),j(null!=n,"missing offset"),j(n+3<e.length,"trying to write beyond buffer length"),B(t,4294967295));var s=e.length;if(!(s<=n))for(var i=0,a=Math.min(s-n,4);i<a;i++)e[n+i]=t>>>8*(r?i:3-i)&255}function x(e,t,n,r,o){o||(j(null!=t,"missing value"),j("boolean"==typeof r,"missing or invalid endian"),j(null!=n,"missing offset"),j(n+1<e.length,"Trying to write beyond buffer length"),F(t,32767,-32768)),e.length<=n||w(e,0<=t?t:65535+t+1,n,r,o)}function E(e,t,n,r,o){o||(j(null!=t,"missing value"),j("boolean"==typeof r,"missing or invalid endian"),j(null!=n,"missing offset"),j(n+3<e.length,"Trying to write beyond buffer length"),F(t,2147483647,-2147483648)),e.length<=n||k(e,0<=t?t:4294967295+t+1,n,r,o)}function T(e,t,n,r,o){o||(j(null!=t,"missing value"),j("boolean"==typeof r,"missing or invalid endian"),j(null!=n,"missing offset"),j(n+3<e.length,"Trying to write beyond buffer length"),$(t,34028234663852886e22,-34028234663852886e22)),e.length<=n||p.write(e,t,n,r,23,4)}function C(e,t,n,r,o){o||(j(null!=t,"missing value"),j("boolean"==typeof r,"missing or invalid endian"),j(null!=n,"missing offset"),j(n+7<e.length,"Trying to write beyond buffer length"),$(t,17976931348623157e292,-17976931348623157e292)),e.length<=n||p.write(e,t,n,r,52,8)}n.Buffer=o,n.SlowBuffer=o,n.INSPECT_MAX_BYTES=50,o.poolSize=8192,o._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.byteLength=function(e,t){var n;switch(e+="",t||"utf8"){case"hex":n=e.length/2;break;case"utf8":case"utf-8":n=L(e).length;break;case"ascii":case"binary":case"raw":n=e.length;break;case"base64":n=D(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*e.length;break;default:throw new Error("Unknown encoding")}return n},o.concat=function(e,t){if(j(O(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new o(0);if(1===e.length)return e[0];if("number"!=typeof t)for(s=t=0;s<e.length;s++)t+=e[s].length;for(var n=new o(t),r=0,s=0;s<e.length;s++){var i=e[s];i.copy(n,r),r+=i.length}return n},o.prototype.write=function(e,t,n,r){var s;isFinite(t)?isFinite(n)||(r=n,n=void 0):(s=r,r=t,t=n,n=s),t=Number(t)||0;var i,a,c,u,l,d,p,m,g,y=this.length-t;switch((!n||y<(n=Number(n)))&&(n=y),r=String(r||"utf8").toLowerCase()){case"hex":i=function(e,t,n,r){n=Number(n)||0;var s=e.length-n;(!r||s<(r=Number(r)))&&(r=s);var i=t.length;j(i%2==0,"Invalid hex string"),i/2<r&&(r=i/2);for(var a=0;a<r;a++){var c=parseInt(t.substr(2*a,2),16);j(!isNaN(c),"Invalid hex string"),e[n+a]=c}return o._charsWritten=2*a,a}(this,e,t,n);break;case"utf8":case"utf-8":d=this,p=e,m=t,g=n,i=o._charsWritten=N(L(p),d,m,g);break;case"ascii":case"binary":i=h(this,e,t,n);break;case"base64":a=this,c=e,u=t,l=n,i=o._charsWritten=N(D(c),a,u,l);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":i=f(this,e,t,n);break;default:throw new Error("Unknown encoding")}return i},o.prototype.toString=function(e,t,n){var r,o,s,i,a=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(n=void 0!==n?Number(n):n=a.length)===t)return"";switch(e){case"hex":r=function(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||r<n)&&(n=r);for(var o="",s=t;s<n;s++)o+=A(e[s]);return o}(a,t,n);break;case"utf8":case"utf-8":r=function(e,t,n){var r="",o="";n=Math.min(e.length,n);for(var s=t;s<n;s++)e[s]<=127?(r+=P(o)+String.fromCharCode(e[s]),o=""):o+="%"+e[s].toString(16);return r+P(o)}(a,t,n);break;case"ascii":case"binary":r=m(a,t,n);break;case"base64":o=a,i=n,r=0===(s=t)&&i===o.length?d.fromByteArray(o):d.fromByteArray(o.slice(s,i));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=function(e,t,n){for(var r=e.slice(t,n),o="",s=0;s<r.length;s+=2)o+=String.fromCharCode(r[s]+256*r[s+1]);return o}(a,t,n);break;default:throw new Error("Unknown encoding")}return r},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t=t||0,r!==n&&0!==e.length&&0!==this.length){j(n<=r,"sourceEnd < sourceStart"),j(0<=t&&t<e.length,"targetStart out of bounds"),j(0<=n&&n<this.length,"sourceStart out of bounds"),j(0<=r&&r<=this.length,"sourceEnd out of bounds"),r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var s=r-n;if(s<100||!o._useTypedArrays)for(var i=0;i<s;i++)e[i+t]=this[i+n];else e._set(this.subarray(n,n+s),t)}},o.prototype.slice=function(e,t){var n=this.length;if(e=R(e,n,0),t=R(t,n,n),o._useTypedArrays)return o._augment(this.subarray(e,t));for(var r=t-e,s=new o(r,void 0,!0),i=0;i<r;i++)s[i]=this[i+e];return s},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},o.prototype.readUInt8=function(e,t){if(t||(j(null!=e,"missing offset"),j(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},o.prototype.readUInt16LE=function(e,t){return g(this,e,!0,t)},o.prototype.readUInt16BE=function(e,t){return g(this,e,!1,t)},o.prototype.readUInt32LE=function(e,t){return y(this,e,!0,t)},o.prototype.readUInt32BE=function(e,t){return y(this,e,!1,t)},o.prototype.readInt8=function(e,t){if(t||(j(null!=e,"missing offset"),j(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},o.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},o.prototype.readInt32LE=function(e,t){return _(this,e,!0,t)},o.prototype.readInt32BE=function(e,t){return _(this,e,!1,t)},o.prototype.readFloatLE=function(e,t){return b(this,e,!0,t)},o.prototype.readFloatBE=function(e,t){return b(this,e,!1,t)},o.prototype.readDoubleLE=function(e,t){return S(this,e,!0,t)},o.prototype.readDoubleBE=function(e,t){return S(this,e,!1,t)},o.prototype.writeUInt8=function(e,t,n){n||(j(null!=e,"missing value"),j(null!=t,"missing offset"),j(t<this.length,"trying to write beyond buffer length"),B(e,255)),t>=this.length||(this[t]=e)},o.prototype.writeUInt16LE=function(e,t,n){w(this,e,t,!0,n)},o.prototype.writeUInt16BE=function(e,t,n){w(this,e,t,!1,n)},o.prototype.writeUInt32LE=function(e,t,n){k(this,e,t,!0,n)},o.prototype.writeUInt32BE=function(e,t,n){k(this,e,t,!1,n)},o.prototype.writeInt8=function(e,t,n){n||(j(null!=e,"missing value"),j(null!=t,"missing offset"),j(t<this.length,"Trying to write beyond buffer length"),F(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,n):this.writeUInt8(255+e+1,t,n))},o.prototype.writeInt16LE=function(e,t,n){x(this,e,t,!0,n)},o.prototype.writeInt16BE=function(e,t,n){x(this,e,t,!1,n)},o.prototype.writeInt32LE=function(e,t,n){E(this,e,t,!0,n)},o.prototype.writeInt32BE=function(e,t,n){E(this,e,t,!1,n)},o.prototype.writeFloatLE=function(e,t,n){T(this,e,t,!0,n)},o.prototype.writeFloatBE=function(e,t,n){T(this,e,t,!1,n)},o.prototype.writeDoubleLE=function(e,t,n){C(this,e,t,!0,n)},o.prototype.writeDoubleBE=function(e,t,n){C(this,e,t,!1,n)},o.prototype.fill=function(e,t,n){if(e=e||0,t=t||0,n=n||this.length,"string"==typeof e&&(e=e.charCodeAt(0)),j("number"==typeof e&&!isNaN(e),"value is not a number"),j(t<=n,"end < start"),n!==t&&0!==this.length){j(0<=t&&t<this.length,"start out of bounds"),j(0<=n&&n<=this.length,"end out of bounds");for(var r=t;r<n;r++)this[r]=e}},o.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=A(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},o.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(o._useTypedArrays)return new o(this).buffer;for(var e=new Uint8Array(this.length),t=0,n=e.length;t<n;t+=1)e[t]=this[t];return e.buffer};var I=o.prototype;function R(e,t,n){return"number"!=typeof e?n:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function M(e){return(e=~~Math.ceil(+e))<0?0:e}function O(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function A(e){return e<16?"0"+e.toString(16):e.toString(16)}function L(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(e.charCodeAt(n));else{var o=n;55296<=r&&r<=57343&&n++;for(var s=encodeURIComponent(e.slice(o,n+1)).substr(1).split("%"),i=0;i<s.length;i++)t.push(parseInt(s[i],16))}}return t}function D(e){return d.toByteArray(e)}function N(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);o++)t[o+n]=e[o];return o}function P(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function B(e,t){j("number"==typeof e,"cannot write a non-number as a number"),j(0<=e,"specified a negative value for writing an unsigned value"),j(e<=t,"value is larger than maximum value for type"),j(Math.floor(e)===e,"value has a fractional component")}function F(e,t,n){j("number"==typeof e,"cannot write a non-number as a number"),j(e<=t,"value larger than maximum allowed value"),j(n<=e,"value smaller than minimum allowed value"),j(Math.floor(e)===e,"value has a fractional component")}function $(e,t,n){j("number"==typeof e,"cannot write a non-number as a number"),j(e<=t,"value larger than maximum allowed value"),j(n<=e,"value smaller than minimum allowed value")}function j(e,t){if(!e)throw new Error(t||"Failed assertion")}o._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=I.get,e.set=I.set,e.write=I.write,e.toString=I.toString,e.toLocaleString=I.toString,e.toJSON=I.toJSON,e.copy=I.copy,e.slice=I.slice,e.readUInt8=I.readUInt8,e.readUInt16LE=I.readUInt16LE,e.readUInt16BE=I.readUInt16BE,e.readUInt32LE=I.readUInt32LE,e.readUInt32BE=I.readUInt32BE,e.readInt8=I.readInt8,e.readInt16LE=I.readInt16LE,e.readInt16BE=I.readInt16BE,e.readInt32LE=I.readInt32LE,e.readInt32BE=I.readInt32BE,e.readFloatLE=I.readFloatLE,e.readFloatBE=I.readFloatBE,e.readDoubleLE=I.readDoubleLE,e.readDoubleBE=I.readDoubleBE,e.writeUInt8=I.writeUInt8,e.writeUInt16LE=I.writeUInt16LE,e.writeUInt16BE=I.writeUInt16BE,e.writeUInt32LE=I.writeUInt32LE,e.writeUInt32BE=I.writeUInt32BE,e.writeInt8=I.writeInt8,e.writeInt16LE=I.writeInt16LE,e.writeInt16BE=I.writeInt16BE,e.writeInt32LE=I.writeInt32LE,e.writeInt32BE=I.writeInt32BE,e.writeFloatLE=I.writeFloatLE,e.writeFloatBE=I.writeFloatBE,e.writeDoubleLE=I.writeDoubleLE,e.writeDoubleBE=I.writeDoubleBE,e.fill=I.fill,e.inspect=I.inspect,e.toArrayBuffer=I.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,n){(function(n,r,o,s,i,a,c,u,l){o=e("buffer").Buffer;var d=4,p=new o(d);p.fill(0),t.exports={hash:function(e,t,n,r){return o.isBuffer(e)||(e=new o(e)),function(e,t,n){for(var r=new o(t),s=n?r.writeInt32BE:r.writeInt32LE,i=0;i<e.length;i++)s.call(r,e[i],4*i,!0);return r}(t(function(e,t){var n;e.length%d!=0&&(n=e.length+(d-e.length%d),e=o.concat([e,p],n));for(var r=[],s=t?e.readInt32BE:e.readInt32LE,i=0;i<e.length;i+=d)r.push(s.call(e,i));return r}(e,r),8*e.length),n,r)}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,n){(function(t,r,o,s,i,a,c,u,l){o=e("buffer").Buffer;var d=e("./sha"),p=e("./sha256"),h=e("./rng"),f={sha1:d,sha256:p,md5:e("./md5")},m=64,g=new o(m);function y(e,t){var n=f[e=e||"sha1"],r=[];return n||v("algorithm:",e,"is not yet supported"),{update:function(e){return o.isBuffer(e)||(e=new o(e)),r.push(e),e.length,this},digest:function(e){var s=o.concat(r),i=t?function(e,t,n){o.isBuffer(t)||(t=new o(t)),o.isBuffer(n)||(n=new o(n)),t.length>m?t=e(t):t.length<m&&(t=o.concat([t,g],m));for(var r=new o(m),s=new o(m),i=0;i<m;i++)r[i]=54^t[i],s[i]=92^t[i];var a=e(o.concat([r,n]));return e(o.concat([s,a]))}(n,t,s):n(s);return r=null,e?i.toString(e):i}}}function v(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}g.fill(0),n.createHash=function(e){return y(e)},n.createHmac=y,n.randomBytes=function(e,t){if(!t||!t.call)return new o(h(e));try{t.call(this,void 0,new o(h(e)))}catch(e){t(e)}},function(e,t){for(var n in e)t(e[n],n)}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(e){n[e]=function(){v("sorry,",e,"is not implemented yet")}}))}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,n){(function(n,r,o,s,i,a,c,u,l){var d=e("./helpers");function p(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var n=1732584193,r=-271733879,o=-1732584194,s=271733878,i=0;i<e.length;i+=16){var a=n,c=r,u=o,l=s;n=f(n,r,o,s,e[i+0],7,-680876936),s=f(s,n,r,o,e[i+1],12,-389564586),o=f(o,s,n,r,e[i+2],17,606105819),r=f(r,o,s,n,e[i+3],22,-1044525330),n=f(n,r,o,s,e[i+4],7,-176418897),s=f(s,n,r,o,e[i+5],12,1200080426),o=f(o,s,n,r,e[i+6],17,-1473231341),r=f(r,o,s,n,e[i+7],22,-45705983),n=f(n,r,o,s,e[i+8],7,1770035416),s=f(s,n,r,o,e[i+9],12,-1958414417),o=f(o,s,n,r,e[i+10],17,-42063),r=f(r,o,s,n,e[i+11],22,-1990404162),n=f(n,r,o,s,e[i+12],7,1804603682),s=f(s,n,r,o,e[i+13],12,-40341101),o=f(o,s,n,r,e[i+14],17,-1502002290),n=m(n,r=f(r,o,s,n,e[i+15],22,1236535329),o,s,e[i+1],5,-165796510),s=m(s,n,r,o,e[i+6],9,-1069501632),o=m(o,s,n,r,e[i+11],14,643717713),r=m(r,o,s,n,e[i+0],20,-373897302),n=m(n,r,o,s,e[i+5],5,-701558691),s=m(s,n,r,o,e[i+10],9,38016083),o=m(o,s,n,r,e[i+15],14,-660478335),r=m(r,o,s,n,e[i+4],20,-405537848),n=m(n,r,o,s,e[i+9],5,568446438),s=m(s,n,r,o,e[i+14],9,-1019803690),o=m(o,s,n,r,e[i+3],14,-187363961),r=m(r,o,s,n,e[i+8],20,1163531501),n=m(n,r,o,s,e[i+13],5,-1444681467),s=m(s,n,r,o,e[i+2],9,-51403784),o=m(o,s,n,r,e[i+7],14,1735328473),n=g(n,r=m(r,o,s,n,e[i+12],20,-1926607734),o,s,e[i+5],4,-378558),s=g(s,n,r,o,e[i+8],11,-2022574463),o=g(o,s,n,r,e[i+11],16,1839030562),r=g(r,o,s,n,e[i+14],23,-35309556),n=g(n,r,o,s,e[i+1],4,-1530992060),s=g(s,n,r,o,e[i+4],11,1272893353),o=g(o,s,n,r,e[i+7],16,-155497632),r=g(r,o,s,n,e[i+10],23,-1094730640),n=g(n,r,o,s,e[i+13],4,681279174),s=g(s,n,r,o,e[i+0],11,-358537222),o=g(o,s,n,r,e[i+3],16,-722521979),r=g(r,o,s,n,e[i+6],23,76029189),n=g(n,r,o,s,e[i+9],4,-640364487),s=g(s,n,r,o,e[i+12],11,-421815835),o=g(o,s,n,r,e[i+15],16,530742520),n=y(n,r=g(r,o,s,n,e[i+2],23,-995338651),o,s,e[i+0],6,-198630844),s=y(s,n,r,o,e[i+7],10,1126891415),o=y(o,s,n,r,e[i+14],15,-1416354905),r=y(r,o,s,n,e[i+5],21,-57434055),n=y(n,r,o,s,e[i+12],6,1700485571),s=y(s,n,r,o,e[i+3],10,-1894986606),o=y(o,s,n,r,e[i+10],15,-1051523),r=y(r,o,s,n,e[i+1],21,-2054922799),n=y(n,r,o,s,e[i+8],6,1873313359),s=y(s,n,r,o,e[i+15],10,-30611744),o=y(o,s,n,r,e[i+6],15,-1560198380),r=y(r,o,s,n,e[i+13],21,1309151649),n=y(n,r,o,s,e[i+4],6,-145523070),s=y(s,n,r,o,e[i+11],10,-1120210379),o=y(o,s,n,r,e[i+2],15,718787259),r=y(r,o,s,n,e[i+9],21,-343485551),n=v(n,a),r=v(r,c),o=v(o,u),s=v(s,l)}return Array(n,r,o,s)}function h(e,t,n,r,o,s){return v((i=v(v(t,e),v(r,s)))<<(a=o)|i>>>32-a,n);var i,a}function f(e,t,n,r,o,s,i){return h(t&n|~t&r,e,t,o,s,i)}function m(e,t,n,r,o,s,i){return h(t&r|n&~r,e,t,o,s,i)}function g(e,t,n,r,o,s,i){return h(t^n^r,e,t,o,s,i)}function y(e,t,n,r,o,s,i){return h(n^(t|~r),e,t,o,s,i)}function v(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}t.exports=function(e){return d.hash(e,p,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,n){(function(e,n,r,o,s,i,a,c,u){var l,d;d=function(e){for(var t,n=new Array(e),r=0;r<e;r++)!(3&r)&&(t=4294967296*Math.random()),n[r]=t>>>((3&r)<<3)&255;return n},t.exports=l||d}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,n){(function(n,r,o,s,i,a,c,u,l){var d=e("./helpers");function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var n,r,o,s,i,a=Array(80),c=1732584193,u=-271733879,l=-1732584194,d=271733878,p=-1009589776,m=0;m<e.length;m+=16){for(var g=c,y=u,v=l,_=d,b=p,S=0;S<80;S++){a[S]=S<16?e[m+S]:f(a[S-3]^a[S-8]^a[S-14]^a[S-16],1);var w=h(h(f(c,5),(o=u,s=l,i=d,(r=S)<20?o&s|~o&i:!(r<40)&&r<60?o&s|o&i|s&i:o^s^i)),h(h(p,a[S]),(n=S)<20?1518500249:n<40?1859775393:n<60?-1894007588:-899497514));p=d,d=l,l=f(u,30),u=c,c=w}c=h(c,g),u=h(u,y),l=h(l,v),d=h(d,_),p=h(p,b)}return Array(c,u,l,d,p)}function h(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function f(e,t){return e<<t|e>>>32-t}t.exports=function(e){return d.hash(e,p,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,n){(function(n,r,o,s,i,a,c,u,l){function d(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function p(e,t){return e>>>t|e<<32-t}function h(e,t){var n,r,o,s,i,a,c,u,l,h,f=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),m=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),g=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var y,v,_,b,S,w,k,x,E=0;E<e.length;E+=16){n=m[0],r=m[1],o=m[2],s=m[3],i=m[4],a=m[5],c=m[6],u=m[7];for(var T=0;T<64;T++)g[T]=T<16?e[T+E]:d(d(d(p(x=g[T-2],17)^p(x,19)^x>>>10,g[T-7]),p(k=g[T-15],7)^p(k,18)^k>>>3),g[T-16]),l=d(d(d(d(u,p(w=i,6)^p(w,11)^p(w,25)),(S=i)&a^~S&c),f[T]),g[T]),h=d(p(b=n,2)^p(b,13)^p(b,22),(y=n)&(v=r)^y&(_=o)^v&_),u=c,c=a,a=i,i=d(s,l),s=o,o=r,r=n,n=d(l,h);m[0]=d(n,m[0]),m[1]=d(r,m[1]),m[2]=d(o,m[2]),m[3]=d(s,m[3]),m[4]=d(i,m[4]),m[5]=d(a,m[5]),m[6]=d(c,m[6]),m[7]=d(u,m[7])}return m}var f=e("./helpers");t.exports=function(e){return f.hash(e,h,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,n){(function(e,n,r,o,s,i,a,c,u){function l(){}(e=t.exports={}).nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];return window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<n.length&&n.shift()())}),!0),function(e){n.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=l,e.addListener=l,e.once=l,e.off=l,e.removeListener=l,e.removeAllListeners=l,e.emit=l,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,n){(function(e,t,r,o,s,i,a,c,u){n.read=function(e,t,n,r,o){var s,i,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?o-1:0,p=n?-1:1,h=e[t+d];for(d+=p,s=h&(1<<-l)-1,h>>=-l,l+=a;0<l;s=256*s+e[t+d],d+=p,l-=8);for(i=s&(1<<-l)-1,s>>=-l,l+=r;0<l;i=256*i+e[t+d],d+=p,l-=8);if(0===s)s=1-u;else{if(s===c)return i?NaN:1/0*(h?-1:1);i+=Math.pow(2,r),s-=u}return(h?-1:1)*i*Math.pow(2,s-r)},n.write=function(e,t,n,r,o,s){var i,a,c,u=8*s-o-1,l=(1<<u)-1,d=l>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:s-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,i=l):(i=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-i))<1&&(i--,c*=2),2<=(t+=1<=i+d?p/c:p*Math.pow(2,1-d))*c&&(i++,c/=2),l<=i+d?(a=0,i=l):1<=i+d?(a=(t*c-1)*Math.pow(2,o),i+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),i=0));8<=o;e[n+h]=255&a,h+=f,a/=256,o-=8);for(i=i<<o|a,u+=o;0<u;e[n+h]=255&i,h+=f,i/=256,u-=8);e[n+h-f]|=128*m}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},829:e=>{e.exports={servers:[],selected:null,connected:null,error:null,errorCounter:0,connectionStartTimestamp:0,signed:!1,rated:!1,autoProxy:{connect:!1,server:null,blocked:[]}}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={id:e,loaded:!1,exports:{}};return n[e](s,s.exports,o),s.loaded=!0,s.exports}o.m=n,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".bundle.js",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="@1clickvpn/1clickvpn-extension:",o.l=(n,r,s,i)=>{if(e[n])e[n].push(r);else{var a,c;if(void 0!==s)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+s),a.src=n),e[n]=[r];var p=(t,r)=>{a.onerror=a.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),c&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.p="/",(()=>{var e={471:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var s=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=s);var i=o.p+o.u(t),a=new Error;o.l(i,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var s=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+i+")",a.name="ChunkLoadError",a.type=s,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,s,[i,a,c]=n,u=0;if(i.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(c)c(o)}for(t&&t(n);u<i.length;u++)s=i[u],o.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunk_1clickvpn_1clickvpn_extension=self.webpackChunk_1clickvpn_1clickvpn_extension||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};o.r(e),o.d(e,{FunctionToString:()=>Mn,InboundFilters:()=>xn,LinkedErrors:()=>Ds});var t={};o.r(t),o.d(t,{Breadcrumbs:()=>uo,Dedupe:()=>ho,GlobalHandlers:()=>To,HttpContext:()=>Ao,LinkedErrors:()=>$o,TryCatch:()=>qo});var n={};function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
i=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var s=t&&t.prototype instanceof _?t:_,i=Object.create(s.prototype),a=new A(r||[]);return o(i,"_invoke",{value:I(e,n,a)}),i}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",m="suspendedYield",g="executing",y="completed",v={};function _(){}function b(){}function S(){}var w={};d(w,c,(function(){return this}));var k=Object.getPrototypeOf,x=k&&k(k(L([])));x&&x!==n&&r.call(x,c)&&(w=x);var E=S.prototype=_.prototype=Object.create(w);function T(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(o,i,a,c){var u=h(e[o],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==s(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function I(t,n,r){var o=f;return function(s,i){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===s)throw i;return{value:e,done:!0}}for(r.method=s,r.arg=i;;){var a=r.delegate;if(a){var c=R(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=g;var u=h(t,n,r);if("normal"===u.type){if(o=r.done?y:m,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function R(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var s=h(o,t.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,v;var i=s.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(s(t)+" is not iterable")}return b.prototype=S,o(E,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:b,configurable:!0}),b.displayName=d(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,d(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},T(C.prototype),d(C.prototype,u,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,o,s){void 0===s&&(s=Promise);var i=new C(p(e,n,r,o),s);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},T(E),d(E,l,"Generator"),d(E,c,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var s=o;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function a(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var s=e.apply(t,n);function i(e){a(s,r,o,i,c,"next",e)}function c(e){a(s,r,o,i,c,"throw",e)}i(void 0)}))}}function u(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}o.r(n),o.d(n,{Breadcrumbs:()=>uo,BrowserClient:()=>$r,BrowserProfilingIntegration:()=>Af,BrowserTracing:()=>jh,Dedupe:()=>ho,Feedback:()=>Op,FunctionToString:()=>Mn,GlobalHandlers:()=>To,HttpContext:()=>Ao,Hub:()=>_t,InboundFilters:()=>xn,Integrations:()=>Df,LinkedErrors:()=>$o,ModuleMetadata:()=>Us,Replay:()=>xd,ReplayCanvas:()=>rp,SDK_VERSION:()=>gt,SEMANTIC_ATTRIBUTE_SENTRY_OP:()=>zs,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:()=>Ws,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:()=>qs,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:()=>Hs,Scope:()=>ft,TryCatch:()=>qo,WINDOW:()=>Dr,addBreadcrumb:()=>Yt,addEventProcessor:()=>Sr,addGlobalEventProcessor:()=>Ae,addIntegration:()=>vn,addTracingExtensions:()=>Ci,breadcrumbsIntegration:()=>co,browserApiErrorsIntegration:()=>Ho,browserProfilingIntegration:()=>Of,browserTracingIntegration:()=>zh,captureConsoleIntegration:()=>Lp,captureEvent:()=>zt,captureException:()=>Ht,captureMessage:()=>qt,captureSession:()=>hn,captureUserFeedback:()=>Ms,chromeStackLineParser:()=>Zo,close:()=>on,configureScope:()=>Wt,contextLinesIntegration:()=>Pp,continueTrace:()=>ri,createTransport:()=>ys,createUserFeedbackEnvelope:()=>Fr,debugIntegration:()=>Fp,dedupeIntegration:()=>Up,defaultIntegrations:()=>ks,defaultRequestInstrumentationOptions:()=>Dh,defaultStackLineParsers:()=>cs,defaultStackParser:()=>us,endSession:()=>dn,eventFromException:()=>Rr,eventFromMessage:()=>Mr,exceptionFromError:()=>xr,extraErrorDataIntegration:()=>Gp,extractTraceparentData:()=>Gs,feedbackIntegration:()=>Mp,flush:()=>rn,forceLoad:()=>Cs,functionToStringIntegration:()=>Rn,geckoStackLineParser:()=>ts,getActiveSpan:()=>ni,getActiveTransaction:()=>Ys,getClient:()=>an,getCurrentHub:()=>wt,getCurrentScope:()=>un,getDefaultIntegrations:()=>xs,getHubFromCarrier:()=>Ct,getReplay:()=>Td,getSpanStatusFromHttpCode:()=>pi,globalHandlersIntegration:()=>Eo,httpClientIntegration:()=>Jp,httpContextIntegration:()=>Oo,inboundFiltersIntegration:()=>kn,init:()=>Es,instrumentOutgoingRequests:()=>Nh,isInitialized:()=>cn,lastEventId:()=>sn,linkedErrorsIntegration:()=>Fo,makeBrowserOfflineTransport:()=>of,makeFetchTransport:()=>bs,makeMain:()=>St,makeMultiplexedTransport:()=>Ri,makeXHRTransport:()=>ws,metrics:()=>$i,moduleMetadataIntegration:()=>js,onLoad:()=>Is,onProfilingStartRouteTransaction:()=>If,opera10StackLineParser:()=>ss,opera11StackLineParser:()=>as,parameterize:()=>ji,replayCanvasIntegration:()=>np,replayIntegration:()=>kd,reportingObserverIntegration:()=>oh,rewriteFramesIntegration:()=>dh,sendFeedback:()=>fp,sessionTimingIntegration:()=>hh,setContext:()=>Gt,setCurrentClient:()=>On,setExtra:()=>Jt,setExtras:()=>Vt,setHttpStatus:()=>fi,setMeasurement:()=>Ui,setTag:()=>Xt,setTags:()=>Kt,setUser:()=>Zt,showReportDialog:()=>Ts,spanStatusfromHttpCode:()=>hi,startBrowserTracingNavigationSpan:()=>Yh,startBrowserTracingPageLoadSpan:()=>Wh,startInactiveSpan:()=>ti,startSession:()=>ln,startSpan:()=>Qs,startSpanManual:()=>ei,startTransaction:()=>nn,trace:()=>Zs,winjsStackLineParser:()=>rs,withActiveSpan:()=>tn,withIsolationScope:()=>en,withScope:()=>Qt,wrap:()=>Rs});var f=o(829),m=o.n(f);const g="https://1clickvpn.net";var y=o(802),v=o.n(y);const _=o.p+"united-states.png",b=o.p+"canada.png",S=o.p+"estonia.png",w=o.p+"france.png",k=o.p+"germany.png",x=o.p+"italy.png",E=o.p+"lithuania.png",T=o.p+"united-kingdom.png",C=o.p+"norway.png",I=o.p+"netherlands.png",R="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function M(e){return e&&e.Math==Math?e:void 0}const O="object"==typeof globalThis&&M(globalThis)||"object"==typeof window&&M(window)||"object"==typeof self&&M(self)||"object"==typeof o.g&&M(o.g)||function(){return this}()||{};function A(){return O}function L(e,t,n){const r=n||O,o=r.__SENTRY__=r.__SENTRY__||{};return o[e]||(o[e]=t())}const D=["debug","info","warn","error","log","assert","trace"],N={};function P(e){if(!("console"in O))return e();const t=O.console,n={},r=Object.keys(N);r.forEach((e=>{const r=N[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const B=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return R?D.forEach((n=>{t[n]=(...t)=>{e&&P((()=>{O.console[n](`Sentry Logger [${n}]:`,...t)}))}})):D.forEach((e=>{t[e]=()=>{}})),t}(),F=Object.prototype.toString;function $(e){switch(F.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return K(e,Error)}}function j(e,t){return F.call(e)===`[object ${t}]`}function U(e){return j(e,"ErrorEvent")}function H(e){return j(e,"DOMError")}function q(e){return j(e,"String")}function z(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function W(e){return null===e||z(e)||"object"!=typeof e&&"function"!=typeof e}function Y(e){return j(e,"Object")}function G(e){return"undefined"!=typeof Event&&K(e,Event)}function V(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function J(e){return"number"==typeof e&&e!=e}function K(e,t){try{return e instanceof t}catch(e){return!1}}function X(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue)}const Z=A(),Q=80;function ee(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let s=0,i=0;const a=" > ",c=a.length;let u;const l=Array.isArray(t)?t:t.keyAttrs,d=!Array.isArray(t)&&t.maxStringLength||Q;for(;n&&s++<r&&(u=te(n,l),!("html"===u||s>1&&i+o.length*c+u.length>=d));)o.push(u),i+=u.length,n=n.parentNode;return o.reverse().join(a)}catch(e){return"<unknown>"}}function te(e,t){const n=e,r=[];let o,s,i,a,c;if(!n||!n.tagName)return"";if(Z.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(u&&u.length)u.forEach((e=>{r.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&r.push(`#${n.id}`),o=n.className,o&&q(o))for(s=o.split(/\s+/),c=0;c<s.length;c++)r.push(`.${s[c]}`);const l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)i=l[c],a=n.getAttribute(i),a&&r.push(`[${i}="${a}"]`);return r.join("")}function ne(){try{return Z.document.location.href}catch(e){return""}}function re(e){return Z.document&&Z.document.querySelector?Z.document.querySelector(e):null}function oe(e){if(!Z.HTMLElement)return null;let t=e;for(let e=0;e<5;e++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}function se(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function ie(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,r);return s>r-5&&(s=r),s===r&&(o=Math.max(s-140,0)),n=n.slice(o,s),o>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n}function ae(e,t){if(!Array.isArray(e))return"";const n=[];for(let t=0;t<e.length;t++){const r=e[t];try{X(r)?n.push("[VueViewModel]"):n.push(String(r))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function ce(e,t,n=!1){return!!q(e)&&(j(t,"RegExp")?t.test(e):!!q(t)&&(n?e===t:e.includes(t)))}function ue(e,t=[],n=!1){return t.some((t=>ce(e,t,n)))}function le(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"==typeof o&&pe(o,r),e[t]=o}function de(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(n){R&&B.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function pe(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,de(e,"__sentry_original__",t)}catch(e){}}function he(e){return e.__sentry_original__}function fe(e){if($(e))return{message:e.message,name:e.name,stack:e.stack,...ge(e)};if(G(e)){const t={type:e.type,target:me(e.target),currentTarget:me(e.currentTarget),...ge(e)};return"undefined"!=typeof CustomEvent&&K(e,CustomEvent)&&(t.detail=e.detail),t}return e}function me(e){try{return t=e,"undefined"!=typeof Element&&K(t,Element)?ee(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}var t}function ge(e){if("object"==typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function ye(e){return ve(e,new Map)}function ve(e,t){if(function(e){if(!Y(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(e){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const n of Object.keys(e))void 0!==e[n]&&(r[n]=ve(e[n],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(ve(e,t))})),r}return e}function _e(){const e=O,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(e){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function be(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Se(e){const{message:t,event_id:n}=e;if(t)return t;const r=be(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function we(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function ke(e,t){const n=be(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function xe(e){if(e&&e.__sentry_captured__)return!0;try{de(e,"__sentry_captured__",!0)}catch(e){}return!1}function Ee(e){return Array.isArray(e)?e:[e]}const Te="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;var Ce;function Ie(e){return new Me((t=>{t(e)}))}function Re(e){return new Me(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(Ce||(Ce={}));class Me{constructor(e){Me.prototype.__init.call(this),Me.prototype.__init2.call(this),Me.prototype.__init3.call(this),Me.prototype.__init4.call(this),this._state=Ce.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}then(e,t){return new Me(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(e){r(e)}else n(t)},e=>{if(t)try{n(t(e))}catch(e){r(e)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new Me(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(Ce.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(Ce.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===Ce.PENDING&&(V(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===Ce.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===Ce.RESOLVED&&e[1](this._value),this._state===Ce.REJECTED&&e[2](this._value),e[0]=!0)}))}}}function Oe(){return L("globalEventProcessors",(()=>[]))}function Ae(e){Oe().push(e)}function Le(e,t,n,r=0){return new Me(((o,s)=>{const i=e[r];if(null===t||"function"!=typeof i)o(t);else{const a=i({...t},n);Te&&i.id&&null===a&&B.log(`Event processor "${i.id}" dropped event`),V(a)?a.then((t=>Le(e,t,n,r+1).then(o))).then(null,s):Le(e,a,n,r+1).then(o).then(null,s)}}))}const De="production",Ne=1e3;function Pe(){return Date.now()/Ne}const Be=function(){const{performance:e}=O;if(!e||!e.now)return Pe;const t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/Ne}();let Fe;const $e=(()=>{const{performance:e}=O;if(!e||!e.now)return void(Fe="none");const t=36e5,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=o<t,i=e.timing&&e.timing.navigationStart,a="number"==typeof i?Math.abs(i+n-r):t;return s||a<t?o<=a?(Fe="timeOrigin",e.timeOrigin):(Fe="navigationStart",i):(Fe="dateNow",r)})();function je(e){const t=Be(),n={sid:_e(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return ye({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}(n)};return e&&Ue(n,e),n}function Ue(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Be(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:_e()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{const t=e.timestamp-e.started;e.duration=t>=0?t:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status)}function He(e,t){let n={};t?n={status:t}:"ok"===e.status&&(n={status:"exited"}),Ue(e,n)}function qe(e){return e.transaction}const ze="baggage",We="sentry-",Ye=/^sentry-/,Ge=8192;function Ve(e){if(!q(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce(((e,t)=>{const n=Ke(t);for(const t of Object.keys(n))e[t]=n[t];return e}),{});else{if(!e)return;t=Ke(e)}const n=Object.entries(t).reduce(((e,[t,n])=>{if(t.match(Ye)){e[t.slice(We.length)]=n}return e}),{});return Object.keys(n).length>0?n:void 0}function Je(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce(((e,[t,n],r)=>{const o=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,s=0===r?o:`${e},${o}`;return s.length>Ge?(R&&B.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s}),"")}(Object.entries(e).reduce(((e,[t,n])=>(n&&(e[`${We}${t}`]=n),e)),{}))}function Ke(e){return e.split(",").map((e=>e.split("=").map((e=>decodeURIComponent(e.trim()))))).reduce(((e,[t,n])=>(e[t]=n,e)),{})}const Xe=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ze(e){if(!e)return;const t=e.match(Xe);if(!t)return;let n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Qe(e,t){const n=Ze(e),r=Ve(t),{traceId:o,parentSpanId:s,parentSampled:i}=n||{};return n?{traceId:o||_e(),parentSpanId:s||_e().substring(16),spanId:_e().substring(16),sampled:i,dsc:r||{}}:{traceId:o||_e(),spanId:_e().substring(16)}}function et(e=_e(),t=_e().substring(16),n){let r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`}const tt=1;function nt(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:s,status:i,tags:a,origin:c}=it(e);return ye({data:r,op:o,parent_span_id:s,span_id:t,status:i,tags:a,trace_id:n,origin:c})}function rt(e){const{traceId:t,spanId:n}=e.spanContext();return et(t,n,at(e))}function ot(e){return"number"==typeof e?st(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?st(e.getTime()):Be()}function st(e){return e>9999999999?e/1e3:e}function it(e){return function(e){return"function"==typeof e.getSpanJSON}(e)?e.getSpanJSON():"function"==typeof e.toJSON?e.toJSON():{}}function at(e){const{traceFlags:t}=e.spanContext();return Boolean(t&tt)}function ct(e,t,n){const r=t.getOptions(),{publicKey:o}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},i=ye({environment:r.environment||De,release:r.release,user_segment:s,public_key:o,trace_id:e});return t.emit&&t.emit("createDsc",i),i}function ut(e){const t=an();if(!t)return{};const n=ct(it(e).trace_id||"",t,un()),r=qe(e);if(!r)return n;const o=r&&r._frozenDynamicSamplingContext;if(o)return o;const{sampleRate:s,source:i}=r.metadata;null!=s&&(n.sample_rate=`${s}`);const a=it(r);return i&&"url"!==i&&(n.transaction=a.description),n.sampled=String(at(r)),t.emit&&t.emit("createDsc",n),n}function lt(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s}=t;!function(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,transactionName:a}=t,c=ye(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=ye(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const l=ye(o);l&&Object.keys(l).length&&(e.user={...l,...e.user});const d=ye(s);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});i&&(e.level=i);a&&(e.transaction=a)}(e,t),r&&function(e,t){e.contexts={trace:nt(t),...e.contexts};const n=qe(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:ut(t),...e.sdkProcessingMetadata};const r=it(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,r),function(e,t){e.fingerprint=e.fingerprint?Ee(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,o),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,s)}function dt(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:p,transactionName:h,span:f}=t;pt(e,"extra",n),pt(e,"tags",r),pt(e,"user",o),pt(e,"contexts",s),pt(e,"sdkProcessingMetadata",a),i&&(e.level=i),h&&(e.transactionName=h),f&&(e.span=f),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...p}}function pt(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}let ht;class ft{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=mt()}static clone(e){return e?e.clone():new ft}clone(){const e=new ft;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Ue(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"==typeof e?e(this):e;if(t instanceof ft){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if(Y(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=mt(),this}addBreadcrumb(e,t){const n="number"==typeof t?t:100;if(n<=0)return this;const r={timestamp:Pe(),...e},o=this._breadcrumbs;return o.push(r),this._breadcrumbs=o.length>n?o.slice(-n):o,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:s,_level:i,_fingerprint:a,_eventProcessors:c,_propagationContext:u,_sdkProcessingMetadata:l,_transactionName:d,_span:p}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:s,level:i,fingerprint:a||[],eventProcessors:c,propagationContext:u,sdkProcessingMetadata:l,transactionName:d,span:p}}applyToEvent(e,t={},n=[]){lt(e,this.getScopeData());return Le([...n,...Oe(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:_e();if(!this._client)return B.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:_e();if(!this._client)return B.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:_e();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(B.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function mt(){return{traceId:_e(),spanId:_e().substring(16)}}const gt="7.120.3",yt=parseFloat(gt),vt=100;class _t{constructor(e,t,n,r=yt){let o,s;this._version=r,t?o=t:(o=new ft,o.setClient(e)),n?s=n:(s=new ft,s.setClient(e)),this._stack=[{scope:o}],e&&this.bindClient(e),this._isolationScope=s}isOlderThan(e){return this._version<e}bindClient(e){const t=this.getStackTop();t.client=e,t.scope.setClient(e),e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){const t=this.pushScope();let n;try{n=e(t)}catch(e){throw this.popScope(),e}return V(n)?n.then((e=>(this.popScope(),e)),(e=>{throw this.popScope(),e})):(this.popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){const n=this._lastEventId=t&&t.event_id?t.event_id:_e(),r=new Error("Sentry syntheticException");return this.getScope().captureException(e,{originalException:e,syntheticException:r,...t,event_id:n}),n}captureMessage(e,t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:_e(),o=new Error(e);return this.getScope().captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r}),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:_e();return e.type||(this._lastEventId=n),this.getScope().captureEvent(e,{...t,event_id:n}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){const{scope:n,client:r}=this.getStackTop();if(!r)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=vt}=r.getOptions&&r.getOptions()||{};if(s<=0)return;const i={timestamp:Pe(),...e},a=o?P((()=>o(i,t))):i;null!==a&&(r.emit&&r.emit("beforeAddBreadcrumb",a,t),n.addBreadcrumb(a,s))}setUser(e){this.getScope().setUser(e),this.getIsolationScope().setUser(e)}setTags(e){this.getScope().setTags(e),this.getIsolationScope().setTags(e)}setExtras(e){this.getScope().setExtras(e),this.getIsolationScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t),this.getIsolationScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t),this.getIsolationScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t),this.getIsolationScope().setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();n&&e(t)}run(e){const t=St(this);try{e(this)}finally{St(t)}}getIntegration(e){const t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return Te&&B.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){const n=this._callExtensionMethod("startTransaction",e,t);if(Te&&!n){this.getClient()?B.warn("Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':\nSentry.addTracingExtensions();\nSentry.init({...});\n"):B.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")}return n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const e=this.getStackTop().scope,t=e.getSession();t&&He(t),this._sendSessionUpdate(),e.setSession()}startSession(e){const{scope:t,client:n}=this.getStackTop(),{release:r,environment:o=De}=n&&n.getOptions()||{},{userAgent:s}=O.navigator||{},i=je({release:r,environment:o,user:t.getUser(),...s&&{userAgent:s},...e}),a=t.getSession&&t.getSession();return a&&"ok"===a.status&&Ue(a,{status:"exited"}),this.endSession(),t.setSession(i),i}shouldSendDefaultPii(){const e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop(),n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}_callExtensionMethod(e,...t){const n=bt().__SENTRY__;if(n&&n.extensions&&"function"==typeof n.extensions[e])return n.extensions[e].apply(this,t);Te&&B.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function bt(){return O.__SENTRY__=O.__SENTRY__||{extensions:{},hub:void 0},O}function St(e){const t=bt(),n=Ct(t);return It(t,e),n}function wt(){const e=bt();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return xt(e)}function kt(){return wt().getIsolationScope()}function xt(e=bt()){return Tt(e)&&!Ct(e).isOlderThan(yt)||It(e,new _t),Ct(e)}function Et(e,t={}){const n=bt();return n.__SENTRY__&&n.__SENTRY__.acs?n.__SENTRY__.acs.runWithAsyncContext(e,t):e()}function Tt(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Ct(e){return L("hub",(()=>new _t),e)}function It(e,t){if(!e)return!1;return(e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0}const Rt=50,Mt=/\(error: (.*)\)/,Ot=/captureMessage|captureException/;function At(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const r=[],o=e.split("\n");for(let e=n;e<o.length;e++){const n=o[e];if(n.length>1024)continue;const s=Mt.test(n)?n.replace(Mt,"$1"):n;if(!s.match(/\S*Error: /)){for(const e of t){const t=e(s);if(t){r.push(t);break}}if(r.length>=Rt)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),Ot.test(t[t.length-1].function||"")&&(t.pop(),Ot.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,Rt).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(r)}}const Lt="<anonymous>";function Dt(e){try{return e&&"function"==typeof e&&e.name||Lt}catch(e){return Lt}}function Nt(e,t=100,n=1/0){try{return Bt("",e,t,n)}catch(e){return{ERROR:`**non-serializable** (${e})`}}}function Pt(e,t=3,n=102400){const r=Nt(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?Pt(e,t-1,n):r;var o}function Bt(e,t,n=1/0,r=1/0,s=function(){const e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[i,a]=s;if(null==t||["number","boolean","string"].includes(typeof t)&&!J(t))return t;const c=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if(void 0!==o.g&&t===o.g)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(X(t))return"[VueViewModel]";if(Y(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof t&&t!=t)return"[NaN]";if("function"==typeof t)return`[Function: ${Dt(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;const r=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(e){return`**non-serializable** (${e})`}var n}(e,t);if(!c.startsWith("[object "))return c;if(t.__sentry_skip_normalization__)return t;const u="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===u)return c.replace("object ","");if(i(t))return"[Circular ~]";const l=t;if(l&&"function"==typeof l.toJSON)try{return Bt("",l.toJSON(),u-1,r,s)}catch(e){}const d=Array.isArray(t)?[]:{};let p=0;const h=fe(t);for(const e in h){if(!Object.prototype.hasOwnProperty.call(h,e))continue;if(p>=r){d[e]="[MaxProperties ~]";break}const t=h[e];d[e]=Bt(e,t,u-1,r,s),p++}return a(t),d}function Ft(e,t,n,r,o,s){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||_e(),timestamp:t.timestamp||Pe()},u=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:De);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=se(e.message,s));const i=e.exception&&e.exception.values&&e.exception.values[0];i&&i.value&&(i.value=se(i.value,s));const a=e.request;a&&a.url&&(a.url=se(a.url,s))}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(c,u),void 0===t.type&&function(e,t){const n=O._sentryDebugIds;if(!n)return;let r;const o=$t.get(t);o?r=o:(r=new Map,$t.set(t,r));const s=Object.keys(n).reduce(((e,o)=>{let s;const i=r.get(o);i?s=i:(s=t(o),r.set(o,s));for(let t=s.length-1;t>=0;t--){const r=s[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=s[e.filename])}))}))}catch(e){}}(c,e.stackParser);const l=function(e,t){if(!t)return e;const n=e?e.clone():new ft;return n.update(t),n}(r,n.captureContext);n.mechanism&&ke(c,n.mechanism);const d=o&&o.getEventProcessors?o.getEventProcessors():[],p=(ht||(ht=new ft),ht).getScopeData();if(s){dt(p,s.getScopeData())}if(l){dt(p,l.getScopeData())}const h=[...n.attachments||[],...p.attachments];h.length&&(n.attachments=h),lt(c,p);return Le([...d,...Oe(),...p.eventProcessors],c,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(e){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"==typeof i&&i>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:Nt(e.data,t,n)}})))},...e.user&&{user:Nt(e.user,t,n)},...e.contexts&&{contexts:Nt(e.contexts,t,n)},...e.extra&&{extra:Nt(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Nt(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=it(e).data;return r&&(e.data=Nt(r,t,n)),e})));return r}(e,i,a):e)))}const $t=new WeakMap;function jt(e){if(e)return function(e){return e instanceof ft||"function"==typeof e}(e)||function(e){return Object.keys(e).some((e=>Ut.includes(e)))}(e)?{captureContext:e}:e}const Ut=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function Ht(e,t){return wt().captureException(e,jt(t))}function qt(e,t){const n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return wt().captureMessage(e,n,r)}function zt(e,t){return wt().captureEvent(e,t)}function Wt(e){wt().configureScope(e)}function Yt(e,t){wt().addBreadcrumb(e,t)}function Gt(e,t){wt().setContext(e,t)}function Vt(e){wt().setExtras(e)}function Jt(e,t){wt().setExtra(e,t)}function Kt(e){wt().setTags(e)}function Xt(e,t){wt().setTag(e,t)}function Zt(e){wt().setUser(e)}function Qt(...e){const t=wt();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function en(e){return Et((()=>e(kt())))}function tn(e,t){return Qt((n=>(n.setSpan(e),t(n))))}function nn(e,t){return wt().startTransaction({...e},t)}async function rn(e){const t=an();return t?t.flush(e):(Te&&B.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function on(e){const t=an();return t?t.close(e):(Te&&B.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function sn(){return wt().lastEventId()}function an(){return wt().getClient()}function cn(){return!!an()}function un(){return wt().getScope()}function ln(e){const t=an(),n=kt(),r=un(),{release:o,environment:s=De}=t&&t.getOptions()||{},{userAgent:i}=O.navigator||{},a=je({release:o,environment:s,user:r.getUser()||n.getUser(),...i&&{userAgent:i},...e}),c=n.getSession();return c&&"ok"===c.status&&Ue(c,{status:"exited"}),dn(),n.setSession(a),r.setSession(a),a}function dn(){const e=kt(),t=un(),n=t.getSession()||e.getSession();n&&He(n),pn(),e.setSession(),t.setSession()}function pn(){const e=kt(),t=un(),n=an(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function hn(e=!1){e?dn():pn()}const fn=[];function mn(e){const t=e.defaultIntegrations||[],n=e.integrations;let r;t.forEach((e=>{e.isDefaultInstance=!0})),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?Ee(n(t)):t;const o=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(r),s=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(o,(e=>"Debug"===e.name));if(-1!==s){const[e]=o.splice(s,1);o.push(e)}return o}function gn(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function yn(e,t,n){if(n[t.name])Te&&B.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===fn.indexOf(t.name)&&(t.setupOnce(Ae,wt),fn.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),e.on&&"function"==typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"==typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}Te&&B.log(`Integration installed: ${t.name}`)}}function vn(e){const t=an();t&&t.addIntegration?t.addIntegration(e):Te&&B.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`)}function _n(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}const bn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],Sn=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],wn="InboundFilters",kn=(e={})=>({name:wn,setupOnce(){},processEvent(t,n,r){const o=r.getOptions(),s=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:bn],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Sn],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,o);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e))return Te&&B.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Se(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(e){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));Te&&0===t.length&&B.error(`Could not extract message for event ${Se(e)}`);return t}(e).some((e=>ue(e,t)))}(e,t.ignoreErrors))return Te&&B.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Se(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&ue(n,t)}(e,t.ignoreTransactions))return Te&&B.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Se(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=En(e);return!!n&&ue(n,t)}(e,t.denyUrls))return Te&&B.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Se(e)}.\nUrl: ${En(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=En(e);return!n||ue(n,t)}(e,t.allowUrls))return Te&&B.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Se(e)}.\nUrl: ${En(e)}`),!0;return!1}(t,s)?null:t}}),xn=_n(wn,kn);function En(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(t):null}catch(t){return Te&&B.error(`Cannot extract url for event ${Se(e)}`),null}}let Tn;const Cn="FunctionToString",In=new WeakMap,Rn=()=>({name:Cn,setupOnce(){Tn=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=he(this),n=In.has(an())&&void 0!==t?t:this;return Tn.apply(n,e)}}catch(e){}},setup(e){In.set(e,!0)}}),Mn=_n(Cn,Rn);function On(e){const t=wt().getStackTop();t.client=e,t.scope.setClient(e)}const An=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Ln(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r?`${r}/`:r}${i}`}function Dn(e){const t=An.exec(e);if(!t)return void P((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,o="",s,i="",a]=t.slice(1);let c="",u=a;const l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){const e=u.match(/^\d+/);e&&(u=e[0])}return Nn({host:s,pass:o,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function Nn(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Pn(e){const t="string"==typeof e?Dn(e):Nn(e);if(t&&function(e){if(!R)return!0;const{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(B.error(`Invalid Sentry Dsn: ${t} missing`),!0)))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(r)?t&&isNaN(parseInt(t,10))&&(B.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(B.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(B.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(t))return t}const Bn="7";function Fn(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function $n(e,t){return n={sentry_key:e.publicKey,sentry_version:Bn,...t&&{sentry_client:`${t.name}/${t.version}`}},Object.keys(n).map((e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`)).join("&");var n}function jn(e,t={}){const n="string"==typeof t?t:t.tunnel,r="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${Fn(e)}${e.projectId}/envelope/`}(e)}?${$n(e,r)}`}const Un=A();function Hn(){if(!("fetch"in Un))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function qn(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function zn(){if("string"==typeof EdgeRuntime)return!0;if(!Hn())return!1;if(qn(Un.fetch))return!0;let e=!1;const t=Un.document;if(t&&"function"==typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=qn(n.contentWindow.fetch)),t.head.removeChild(n)}catch(e){R&&B.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return e}const Wn=A();const Yn={},Gn={};function Vn(e,t){Yn[e]=Yn[e]||[],Yn[e].push(t)}function Jn(e,t){Gn[e]||(t(),Gn[e]=!0)}function Kn(e,t){const n=e&&Yn[e];if(n)for(const r of n)try{r(t)}catch(t){R&&B.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Dt(r)}\nError:`,t)}}const Xn=O;let Zn;function Qn(e){const t="history";Vn(t,e),Jn(t,er)}function er(){if(!function(){const e=Wn.chrome,t=e&&e.app&&e.app.runtime,n="history"in Wn&&!!Wn.history.pushState&&!!Wn.history.replaceState;return!t&&n}())return;const e=Xn.onpopstate;function t(e){return function(...t){const n=t.length>2?t[2]:void 0;if(n){const e=Zn,t=String(n);Zn=t;Kn("history",{from:e,to:t})}return e.apply(this,t)}}Xn.onpopstate=function(...t){const n=Xn.location.href,r=Zn;Zn=n;if(Kn("history",{from:r,to:n}),e)try{return e.apply(this,t)}catch(e){}},le(Xn.history,"pushState",t),le(Xn.history,"replaceState",t)}function tr(e,t=[]){return[e,t]}function nr(e,t){const[n,r]=e;return[n,[...r,t]]}function rr(e,t){const n=e[1];for(const e of n){if(t(e,e[0].type))return!0}return!1}function or(e,t){return(t||new TextEncoder).encode(e)}function sr(e,t){const[n,r]=e;let o=JSON.stringify(n);function s(e){"string"==typeof o?o="string"==typeof e?o+e:[or(o,t),e]:o.push("string"==typeof e?or(e,t):e)}for(const e of r){const[t,n]=e;if(s(`\n${JSON.stringify(t)}\n`),"string"==typeof n||n instanceof Uint8Array)s(n);else{let e;try{e=JSON.stringify(n)}catch(t){e=JSON.stringify(Nt(n))}s(e)}}return"string"==typeof o?o:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const t of e)n.set(t,r),r+=t.length;return n}(o)}function ir(e,t){const n="string"==typeof e.data?or(e.data,t):e.data;return[ye({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const ar={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function cr(e){return ar[e]}function ur(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function lr(e,t,n,r){const o=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Ln(r)},...o&&{trace:ye({...o})}}}class dr extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}function pr(e,t,n,r){const o=ur(n),s=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const i=lr(e,o,r,t);delete e.sdkProcessingMetadata;return tr(i,[[{type:s},e]])}function hr(e){return e.replace(/[^\w\-./]+/gi,"")}const fr=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function mr(e){return[...e].reduce(((e,t)=>e+function(e){for(const[t,n]of fr)if(e===t)return n;return e}(t)),"")}function gr(e,t,n,r){const o={sent_at:(new Date).toISOString()};n&&n.sdk&&(o.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(o.dsn=Ln(t));const s=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return tr(o,[s])}const yr="Not capturing exception because it's already been captured.";class vr{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=Pn(e.dsn):Te&&B.warn("No DSN provided, client will not send events."),this._dsn){const t=jn(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if(xe(e))return void(Te&&B.log(yr));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const s=z(e)?e:String(e),i=W(e)?this.eventFromMessage(s,t,n):this.eventFromException(e,n);return this._process(i.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&xe(t.originalException))return void(Te&&B.log(yr));let r=t&&t.event_id;const o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,o||n).then((e=>{r=e}))),r}captureSession(e){"string"!=typeof e.release?Te&&B.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Ue(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):Ie(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return Te&&B.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];yn(this,e,this._integrations),t||gn(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=pr(e,this._dsn,this._options._metadata,this._options.tunnel);for(const e of t.attachments||[])n=nr(n,ir(e,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,r){const o=ur(n);return tr({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:Ln(t)}},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const r="number"==typeof n?n:1,o=`${e}:${t}`;Te&&B.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}captureAggregateMetrics(e){Te&&B.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=gr(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=function(e,t){const n={};return t.forEach((t=>{t&&yn(e,t,n)})),n}(this,e),gn(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const s="ok"===e.status;(s&&0===e.errors||s&&n)&&(Ue(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Me((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=kt()){const o=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),this.emit("preprocessEvent",e,t),Ft(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:s,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:s},...e.contexts};const a=i||ct(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:a,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(Te){const t=e;"log"===t.logLevel?B.log(t.message):B.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,s=br(e),i=_r(e),a=e.type||"error",c=`before send for type \`${a}\``;if(i&&"number"==typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),Re(new dr(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const u="replay_event"===a?"replay":a,l=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,l).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",u,e),new dr("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(_r(t)&&r)return r(t,n);if(br(t)&&o){if(t.spans){const e=t.spans.length;t.sdkProcessingMetadata={...t.sdkProcessingMetadata,spanCountBeforeProcessing:e}}return o(t,n)}return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if(V(e))return e.then((e=>{if(!Y(e)&&null!==e)throw new dr(n);return e}),(e=>{throw new dr(`${t} rejected with ${e}`)}));if(!Y(e)&&null!==e)throw new dr(n);return e}(o,c)})).then((r=>{if(null===r){if(this.recordDroppedEvent("before_send",u,e),s){const t=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",t)}throw new dr(`${c} returned \`null\`, will not send event.`,"log")}const o=n&&n.getSession();if(!s&&o&&this._updateSessionFromEvent(o,r),s){const e=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);e>0&&this.recordDroppedEvent("before_send","span",e)}const i=r.transaction_info;if(s&&i&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...i,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof dr)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new dr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{Te&&B.error("Error while sending event:",e)}));Te&&B.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}function _r(e){return void 0===e.type}function br(e){return"transaction"===e.type}function Sr(e){const t=an();t&&t.addEventProcessor&&t.addEventProcessor(e)}var wr=o(341);const kr="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function xr(e,t){const n=Tr(e,t),r={type:t&&t.name,value:Ir(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function Er(e,t){return{exception:{values:[xr(e,t)]}}}function Tr(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Cr.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(e){}return[]}const Cr=/Minified React error #\d+;/i;function Ir(e){const t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Rr(e,t,n,r){const o=Or(e,t,n&&n.syntheticException||void 0,r);return ke(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),Ie(o)}function Mr(e,t,n="info",r,o){const s=Ar(e,t,r&&r.syntheticException||void 0,o);return s.level=n,r&&r.event_id&&(s.event_id=r.event_id),Ie(s)}function Or(e,t,n,r,o){let s;if(U(t)&&t.error){return Er(e,t.error)}if(H(t)||j(t,"DOMException")){const o=t;if("stack"in t)s=Er(e,t);else{const t=o.name||(H(o)?"DOMError":"DOMException"),i=o.message?`${t}: ${o.message}`:t;s=Ar(e,i,n,r),we(s,i)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}if($(t))return Er(e,t);if(Y(t)||G(t)){return s=function(e,t,n,r){const o=an(),s=o&&o.getOptions().normalizeDepth,i={exception:{values:[{type:G(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Lr(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Pt(t,s)}};if(n){const t=Tr(e,n);t.length&&(i.exception.values[0].stacktrace={frames:t})}return i}(e,t,n,o),ke(s,{synthetic:!0}),s}return s=Ar(e,t,n,r),we(s,`${t}`,void 0),ke(s,{synthetic:!0}),s}function Ar(e,t,n,r){const o={};if(r&&n){const r=Tr(e,n);r.length&&(o.exception={values:[{value:t,stacktrace:{frames:r}}]})}if(z(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return o.logentry={message:e,params:n},o}return o.message=t,o}function Lr(e,{isUnhandledRejection:t}){const n=function(e,t=40){const n=Object.keys(fe(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return se(n[0],t);for(let e=n.length;e>0;e--){const r=n.slice(0,e).join(", ");if(!(r.length>t))return e===n.length?r:se(r,t)}return""}(e),r=t?"promise rejection":"exception";if(U(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(G(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(e){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}const Dr=O;let Nr=0;function Pr(){return Nr>0}function Br(e,t={},n){if("function"!=typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return"function"==typeof t?t:e;if(he(e))return e}catch(t){return e}const r=function(){const r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);const o=r.map((e=>Br(e,t)));return e.apply(this,o)}catch(e){throw Nr++,setTimeout((()=>{Nr--})),Qt((n=>{n.addEventProcessor((e=>(t.mechanism&&(we(e,void 0,void 0),ke(e,t.mechanism)),e.extra={...e.extra,arguments:r},e))),Ht(e)})),e}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t])}catch(e){}pe(r,e),de(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name})}catch(e){}return r}function Fr(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Ln(r)}},s=function(e){return[{type:"user_report"},e]}(e);return tr(o,[s])}class $r extends vr{constructor(e){!function(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${r}:@sentry/${e}`,version:gt}))),version:gt}),e._metadata=o}(e,"browser",["browser"],Dr.SENTRY_SDK_SOURCE||(0,wr.e)()),super(e),e.sendClientReports&&Dr.document&&Dr.document.addEventListener("visibilitychange",(()=>{"hidden"===Dr.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return Rr(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return Mr(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(kr&&B.warn("SDK not enabled, will not capture user feedback."));const t=Fr(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(kr&&B.log("No outcomes to send"));if(!this._dsn)return void(kr&&B.log("No dsn provided, will not send outcomes"));kr&&B.log("Sending outcomes:",e);const t=(n=e,tr((r=this._options.tunnel&&Ln(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||Pe(),discarded_events:n}]]));var n,r,o;this._sendEnvelope(t)}}function jr(e){const t="console";Vn(t,e),Jn(t,Ur)}function Ur(){"console"in O&&D.forEach((function(e){e in O.console&&le(O.console,e,(function(t){return N[e]=t,function(...t){Kn("console",{args:t,level:e});const n=N[e];n&&n.apply(O.console,t)}}))}))}const Hr=O;let qr,zr,Wr;function Yr(e){Vn("dom",e),Jn("dom",Gr)}function Gr(){if(!Hr.document)return;const e=Kn.bind(null,"dom"),t=Vr(e,!0);Hr.document.addEventListener("click",t,!1),Hr.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=Hr[t]&&Hr[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(le(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,s=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=s[n]=s[n]||{refCount:0};if(!i.handler){const r=Vr(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch(e){}return t.call(this,n,r,o)}})),le(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},s=o[t];s&&(s.refCount--,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}function Vr(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(e){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;de(n,"_sentryCaptured",!0),r&&!r._sentryId&&de(r,"_sentryId",_e());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==zr)return!1;try{if(!e.target||e.target._sentryId!==Wr)return!1}catch(e){}return!0}(n)){e({event:n,name:o,global:t}),zr=n.type,Wr=r?r._sentryId:void 0}clearTimeout(qr),qr=Hr.setTimeout((()=>{Wr=void 0,zr=void 0}),1e3)}}const Jr=O,Kr="__sentry_xhr_v3__";function Xr(e){Vn("xhr",e),Jn("xhr",Zr)}function Zr(){if(!Jr.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;le(e,"open",(function(e){return function(...t){const n=Date.now(),r=q(t[0])?t[0].toUpperCase():void 0,o=function(e){if(q(e))return e;try{return e.toString()}catch(e){}return}(t[1]);if(!r||!o)return e.apply(this,t);this[Kr]={method:r,url:o,request_headers:{}},"POST"===r&&o.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const s=()=>{const e=this[Kr];if(e&&4===this.readyState){try{e.status_code=this.status}catch(e){}Kn("xhr",{args:[r,o],endTimestamp:Date.now(),startTimestamp:n,xhr:this})}};return"onreadystatechange"in this&&"function"==typeof this.onreadystatechange?le(this,"onreadystatechange",(function(e){return function(...t){return s(),e.apply(this,t)}})):this.addEventListener("readystatechange",s),le(this,"setRequestHeader",(function(e){return function(...t){const[n,r]=t,o=this[Kr];return o&&q(n)&&q(r)&&(o.request_headers[n.toLowerCase()]=r),e.apply(this,t)}})),e.apply(this,t)}})),le(e,"send",(function(e){return function(...t){const n=this[Kr];if(!n)return e.apply(this,t);void 0!==t[0]&&(n.body=t[0]);return Kn("xhr",{args:[n.method,n.url],startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}function Qr(e){const t="fetch";Vn(t,e),Jn(t,eo)}function eo(){zn()&&le(O,"fetch",(function(e){return function(...t){const{method:n,url:r}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){const[t,n]=e;return{url:no(t),method:to(n,"method")?String(n.method).toUpperCase():"GET"}}const t=e[0];return{url:no(t),method:to(t,"method")?String(t.method).toUpperCase():"GET"}}(t),o={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Kn("fetch",{...o}),e.apply(O,t).then((e=>(Kn("fetch",{...o,endTimestamp:Date.now(),response:e}),e)),(e=>{throw Kn("fetch",{...o,endTimestamp:Date.now(),error:e}),e}))}}))}function to(e,t){return!!e&&"object"==typeof e&&!!e[t]}function no(e){return"string"==typeof e?e:e?to(e,"url")?e.url:e.toString?e.toString():"":""}const ro=["fatal","error","warning","log","info","debug"];function oo(e){return"warn"===e?"warning":ro.includes(e)?e:"log"}function so(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const io=1024,ao="Breadcrumbs",co=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:ao,setupOnce(){},setup(e){t.console&&jr(function(e){return function(t){if(an()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:oo(t.level),message:ae(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${ae(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}Yt(n,{input:t.args,level:t.level})}}(e)),t.dom&&Yr(function(e,t){return function(n){if(an()!==e)return;let r,o,s="object"==typeof t?t.serializeAttribute:void 0,i="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;i&&i>io&&(kr&&B.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${i} was configured. Sentry will use 1024 instead.`),i=io),"string"==typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=ee(t,{keyAttrs:s,maxStringLength:i}),o=oe(t)}catch(e){r="<unknown>"}if(0===r.length)return;const a={category:`ui.${n.name}`,message:r};o&&(a.data={"ui.component_name":o}),Yt(a,{event:n.event,name:n.name,global:n.global})}}(e,t.dom)),t.xhr&&Xr(function(e){return function(t){if(an()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,o=t.xhr[Kr];if(!n||!r||!o)return;const{method:s,url:i,status_code:a,body:c}=o;Yt({category:"xhr",data:{method:s,url:i,status_code:a},type:"http"},{xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r})}}(e)),t.fetch&&Qr(function(e){return function(t){if(an()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){Yt({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r})}else{const e=t.response;Yt({category:"fetch",data:{...t.fetchData,status_code:e&&e.status},type:"http"},{input:t.args,response:e,startTimestamp:n,endTimestamp:r})}}}(e)),t.history&&Qn(function(e){return function(t){if(an()!==e)return;let n=t.from,r=t.to;const o=so(Dr.location.href);let s=n?so(n):void 0;const i=so(r);s&&s.path||(s=o),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),o.protocol===s.protocol&&o.host===s.host&&(n=s.relative),Yt({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){an()===e&&Yt({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Se(t)},{event:t})}}(e))}}},uo=_n(ao,co);const lo="Dedupe",po=()=>{let e;return{name:lo,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!mo(e,t))return!1;if(!fo(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=go(t),r=go(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!mo(e,t))return!1;if(!fo(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return kr&&B.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}},ho=_n(lo,po);function fo(e,t){let n=yo(e),r=yo(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function mo(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function go(e){return e.exception&&e.exception.values&&e.exception.values[0]}function yo(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}let vo=null;function _o(e){const t="error";Vn(t,e),Jn(t,bo)}function bo(){vo=O.onerror,O.onerror=function(e,t,n,r,o){return Kn("error",{column:r,error:o,line:n,msg:e,url:t}),!(!vo||vo.__SENTRY_LOADER__)&&vo.apply(this,arguments)},O.onerror.__SENTRY_INSTRUMENTED__=!0}let So=null;function wo(e){const t="unhandledrejection";Vn(t,e),Jn(t,ko)}function ko(){So=O.onunhandledrejection,O.onunhandledrejection=function(e){return Kn("unhandledrejection",e),!(So&&!So.__SENTRY_LOADER__)||So.apply(this,arguments)},O.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const xo="GlobalHandlers",Eo=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:xo,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){_o((t=>{const{stackParser:n,attachStacktrace:r}=Ro();if(an()!==e||Pr())return;const{msg:o,url:s,line:i,column:a,error:c}=t,u=void 0===c&&q(o)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=U(e)?e.message:e,i="Error";const a=s.match(o);a&&(i=a[1],s=a[2]);const c={exception:{values:[{type:i,value:s}]}};return Co(c,t,n,r)}(o,s,i,a):Co(Or(n,c||o,void 0,r,!1),s,i,a);u.level="error",zt(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})}))}(e),Io("onerror")),t.onunhandledrejection&&(!function(e){wo((t=>{const{stackParser:n,attachStacktrace:r}=Ro();if(an()!==e||Pr())return;const o=function(e){if(W(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(e){}return e}(t),s=W(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Or(n,o,void 0,r,!0);s.level="error",zt(s,{originalException:o,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),Io("onunhandledrejection"))}}},To=_n(xo,Eo);function Co(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],i=s[0]=s[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=q(t)&&t.length>0?t:ne();return 0===c.length&&c.push({colno:u,filename:d,function:"?",in_app:!0,lineno:l}),e}function Io(e){kr&&B.log(`Global Handler attached: ${e}`)}function Ro(){const e=an();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Mo="HttpContext",Oo=()=>({name:Mo,setupOnce(){},preprocessEvent(e){if(!Dr.navigator&&!Dr.location&&!Dr.document)return;const t=e.request&&e.request.url||Dr.location&&Dr.location.href,{referrer:n}=Dr.document||{},{userAgent:r}=Dr.navigator||{},o={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:o};e.request=s}}),Ao=_n(Mo,Oo);function Lo(e,t,n=250,r,o,s,i){if(!(s.exception&&s.exception.values&&i&&K(i.originalException,Error)))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;var c,u;a&&(s.exception.values=(c=Do(e,t,o,i.originalException,r,s.exception.values,a,0),u=n,c.map((e=>(e.value&&(e.value=se(e.value,u)),e)))))}function Do(e,t,n,r,o,s,i,a){if(s.length>=n+1)return s;let c=[...s];if(K(r[o],Error)){No(i,a);const s=e(t,r[o]),u=c.length;Po(s,o,u,a),c=Do(e,t,n,r[o],o,[s,...c],s,u)}return Array.isArray(r.errors)&&r.errors.forEach(((r,s)=>{if(K(r,Error)){No(i,a);const u=e(t,r),l=c.length;Po(u,`errors[${s}]`,l,a),c=Do(e,t,n,r,o,[u,...c],u,l)}})),c}function No(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function Po(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const Bo="LinkedErrors",Fo=(e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Bo,setupOnce(){},preprocessEvent(e,r,o){const s=o.getOptions();Lo(xr,s.stackParser,s.maxValueLength,n,t,e,r)}}},$o=_n(Bo,Fo),jo=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Uo="TryCatch",Ho=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:Uo,setupOnce(){t.setTimeout&&le(Dr,"setTimeout",zo),t.setInterval&&le(Dr,"setInterval",zo),t.requestAnimationFrame&&le(Dr,"requestAnimationFrame",Wo),t.XMLHttpRequest&&"XMLHttpRequest"in Dr&&le(XMLHttpRequest.prototype,"send",Yo);const e=t.eventTarget;if(e){(Array.isArray(e)?e:jo).forEach(Go)}}}},qo=_n(Uo,Ho);function zo(e){return function(...t){const n=t[0];return t[0]=Br(n,{mechanism:{data:{function:Dt(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function Wo(e){return function(t){return e.apply(this,[Br(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Dt(e)},handled:!1,type:"instrument"}})])}}function Yo(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"==typeof n[e]&&le(n,e,(function(t){const n={mechanism:{data:{function:e,handler:Dt(t)},handled:!1,type:"instrument"}},r=he(t);return r&&(n.mechanism.data.handler=Dt(r)),Br(t,n)}))})),e.apply(this,t)}}function Go(e){const t=Dr,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(le(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Br(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Dt(r),target:e},handled:!1,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Br(r,{mechanism:{data:{function:"addEventListener",handler:Dt(r),target:e},handled:!1,type:"instrument"}}),o])}})),le(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(e){}return e.call(this,t,o,r)}})))}const Vo="?";function Jo(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const Ko=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Xo=/\((\S*)(?::(\d+))(?::(\d+))\)/,Zo=[30,e=>{const t=Ko.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=Xo.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=ls(t[1]||Vo,t[2]);return Jo(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],Qo=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,es=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,ts=[50,e=>{const t=Qo.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=es.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||Vo;return[n,e]=ls(n,e),Jo(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],ns=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,rs=[40,e=>{const t=ns.exec(e);return t?Jo(t[2],t[1]||Vo,+t[3],t[4]?+t[4]:void 0):void 0}],os=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,ss=[10,e=>{const t=os.exec(e);return t?Jo(t[2],t[3]||Vo,+t[1]):void 0}],is=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,as=[20,e=>{const t=is.exec(e);return t?Jo(t[5],t[3]||t[4]||Vo,+t[1],+t[2]):void 0}],cs=[Zo,ts,rs],us=At(...cs),ls=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:Vo,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function ds(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(r){if(!(void 0===e||t.length<e))return Re(new dr("Not adding Promise because buffer limit was reached."));const o=r();return-1===t.indexOf(o)&&t.push(o),o.then((()=>n(o))).then(null,(()=>n(o).then(null,(()=>{})))),o},drain:function(e){return new Me(((n,r)=>{let o=t.length;if(!o)return n(!0);const s=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{Ie(e).then((()=>{--o||(clearTimeout(s),n(!0))}),r)}))}))}}}const ps=6e4;function hs(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?ps:r-t}function fs(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}function ms(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},s=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(s)for(const e of s.trim().split(",")){const[t,n,,,s]=e.split(":",5),i=parseInt(t,10),a=1e3*(isNaN(i)?60:i);if(n)for(const e of n.split(";"))"metric_bucket"===e&&s&&!s.split(";").includes("custom")||(o[e]=r+a);else o.all=r+a}else i?o.all=r+hs(i,r):429===t&&(o.all=r+6e4);return o}const gs=30;function ys(e,t,n=ds(e.bufferSize||gs)){let r={};function o(o){const s=[];if(rr(o,((t,n)=>{const o=cr(n);if(fs(r,o)){const r=vs(t,n);e.recordDroppedEvent("ratelimit_backoff",o,r)}else s.push(t)})),0===s.length)return Ie();const i=tr(o[0],s),a=t=>{rr(i,((n,r)=>{const o=vs(n,r);e.recordDroppedEvent(t,cr(r),o)}))};return n.add((()=>t({body:sr(i,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Te&&B.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=ms(r,e),e)),(e=>{throw a("network_error"),e})))).then((e=>e),(e=>{if(e instanceof dr)return Te&&B.error("Skipped sending event because buffer is full."),a("queue_overflow"),Ie();throw e}))}return o.__sentry__baseTransport__=!0,{send:o,flush:e=>n.drain(e)}}function vs(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}let _s;function bs(e,t=function(){if(_s)return _s;if(qn(Dr.fetch))return _s=Dr.fetch.bind(Dr);const e=Dr.document;let t=Dr.fetch;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(e){kr&&B.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return _s=t.bind(Dr)}()){let n=0,r=0;return ys(e,(function(o){const s=o.body.length;n+=s,r++;const i={body:o.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,i).then((e=>(n-=s,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(e){return _s=void 0,n-=s,r--,Re(e)}}))}const Ss=4;function ws(e){return ys(e,(function(t){return new Me(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{o.readyState===Ss&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const ks=[kn(),Rn(),Ho(),co(),Eo(),Fo(),po(),Oo()];function xs(e){return[...ks]}function Es(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=xs()),void 0===e.release&&("string"==typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),Dr.SENTRY_RELEASE&&Dr.SENTRY_RELEASE.id&&(e.release=Dr.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(n=e.stackParser||us,Array.isArray(n)?At(...n):n),integrations:mn(e),transport:e.transport||(Hn()?bs:ws)};var n;!function(e,t){!0===t.debug&&(Te?B.enable():P((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")}))),un().update(t.initialScope);const n=new e(t);On(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}($r,t),e.autoSessionTracking&&function(){if(void 0===Dr.document)return void(kr&&B.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));ln({ignoreDuration:!0}),hn(),Qn((({from:e,to:t})=>{void 0!==e&&e!==t&&(ln({ignoreDuration:!0}),hn())}))}()}const Ts=(e={},t=wt())=>{if(!Dr.document)return void(kr&&B.error("Global document not defined in showReportDialog call"));const{client:n,scope:r}=t.getStackTop(),o=e.dsn||n&&n.getDsn();if(!o)return void(kr&&B.error("DSN not configured for showReportDialog call"));r&&(e.user={...r.getUser(),...e.user}),e.eventId||(e.eventId=t.lastEventId());const s=Dr.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=function(e,t){const n=Pn(e);if(!n)return"";const r=`${Fn(n)}embed/error-page/`;let o=`dsn=${Ln(n)}`;for(const e in t)if("dsn"!==e&&"onClose"!==e)if("user"===e){const e=t.user;if(!e)continue;e.name&&(o+=`&name=${encodeURIComponent(e.name)}`),e.email&&(o+=`&email=${encodeURIComponent(e.email)}`)}else o+=`&${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`;return`${r}?${o}`}(o,e),e.onLoad&&(s.onload=e.onLoad);const{onClose:i}=e;if(i){const e=t=>{if("__sentry_reportdialog_closed__"===t.data)try{i()}finally{Dr.removeEventListener("message",e)}};Dr.addEventListener("message",e)}const a=Dr.document.head||Dr.document.body;a?a.appendChild(s):kr&&B.error("Not injecting report dialog. No injection point found in HTML")};function Cs(){}function Is(e){e()}function Rs(e){return Br(e)()}function Ms(e){const t=an();t&&t.captureUserFeedback(e)}function Os(e,t){return e(t.stack||"",1)}function As(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=Os(e,t);return r.length&&(n.stacktrace={frames:r}),n}const Ls="LinkedErrors",Ds=_n(Ls,((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:Ls,setupOnce(){},preprocessEvent(e,r,o){const s=o.getOptions();Lo(As,s.stackParser,s.maxValueLength,n,t,e,r)}}})),Ns=e,Ps=new Map,Bs=new Set;function Fs(e,t){return function(e){if(O._sentryModuleMetadata)for(const t of Object.keys(O._sentryModuleMetadata)){const n=O._sentryModuleMetadata[t];if(Bs.has(t))continue;Bs.add(t);const r=e(t);for(const e of r.reverse())if(e.filename){Ps.set(e.filename,n);break}}}(e),Ps.get(t)}const $s="ModuleMetadata",js=()=>({name:$s,setupOnce(){},setup(e){"function"==typeof e.on&&e.on("beforeEnvelope",(e=>{rr(e,((e,t)=>{if("event"===t){const t=Array.isArray(e)?e[1]:void 0;t&&(!function(e){try{e.exception.values.forEach((e=>{if(e.stacktrace)for(const t of e.stacktrace.frames||[])delete t.module_metadata}))}catch(e){}}(t),e[1]=t)}}))}))},processEvent:(e,t,n)=>(function(e,t){try{t.exception.values.forEach((t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[]){if(!n.filename)continue;const t=Fs(e,n.filename);t&&(n.module_metadata=t)}}))}catch(e){}}(n.getOptions().stackParser,e),e)}),Us=_n($s,js),Hs="sentry.source",qs="sentry.sample_rate",zs="sentry.op",Ws="sentry.origin";function Ys(e){return(e||wt()).getScope().getTransaction()}const Gs=Ze;let Vs=!1;function Js(){const e=Ys();if(e){const t="internal_error";Te&&B.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}function Ks(e,t,n=()=>{}){let r;try{r=e()}catch(e){throw t(e),n(),e}return function(e,t,n){if(V(e))return e.then((e=>(n(),e)),(e=>{throw t(e),n(),e}));return n(),e}(r,t,n)}function Xs(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const t=an(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Zs(e,t,n=()=>{},r=()=>{}){const o=wt(),s=un(),i=s.getSpan(),a=si(e),c=oi(o,{parentSpan:i,spanContext:a,forceTransaction:!1,scope:s});return s.setSpan(c),Ks((()=>t(c)),(e=>{c&&c.setStatus("internal_error"),n(e,c)}),(()=>{c&&c.end(),s.setSpan(i),r()}))}function Qs(e,t){const n=si(e);return Et((()=>Qt(e.scope,(r=>{const o=wt(),s=r.getSpan(),i=e.onlyIfParent&&!s?void 0:oi(o,{parentSpan:s,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return Ks((()=>t(i)),(()=>{if(i){const{status:e}=it(i);e&&"ok"!==e||i.setStatus("internal_error")}}),(()=>i&&i.end()))}))))}Js.tag="sentry_tracingErrorCallback";function ei(e,t){const n=si(e);return Et((()=>Qt(e.scope,(r=>{const o=wt(),s=r.getSpan(),i=e.onlyIfParent&&!s?void 0:oi(o,{parentSpan:s,spanContext:n,forceTransaction:e.forceTransaction,scope:r});function a(){i&&i.end()}return Ks((()=>t(i,a)),(()=>{if(i&&i.isRecording()){const{status:e}=it(i);e&&"ok"!==e||i.setStatus("internal_error")}}))}))))}function ti(e){if(!Xs())return;const t=si(e),n=wt(),r=e.scope?e.scope.getSpan():ni();if(e.onlyIfParent&&!r)return;const o=(e.scope||un()).clone();return oi(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:o})}function ni(){return un().getSpan()}const ri=({sentryTrace:e,baggage:t},n)=>{const r=un(),{traceparentData:o,dynamicSamplingContext:s,propagationContext:i}=function(e,t){const n=Ze(e),r=Ve(t),{traceId:o,parentSpanId:s,parentSampled:i}=n||{};return n?{traceparentData:n,dynamicSamplingContext:r||{},propagationContext:{traceId:o||_e(),parentSpanId:s||_e().substring(16),spanId:_e().substring(16),sampled:i,dsc:r||{}}}:{traceparentData:n,dynamicSamplingContext:void 0,propagationContext:{traceId:o||_e(),spanId:_e().substring(16)}}}(e,t);r.setPropagationContext(i),Te&&o&&B.log(`[Tracing] Continuing trace ${o.traceId}.`);const a={...o,metadata:ye({dynamicSamplingContext:s})};return n?Et((()=>n(a))):a};function oi(e,{parentSpan:t,spanContext:n,forceTransaction:r,scope:o}){if(!Xs())return;const s=kt();let i;if(t&&!r)i=t.startChild(n);else if(t){const r=ut(t),{traceId:o,spanId:s}=t.spanContext(),a=at(t);i=e.startTransaction({traceId:o,parentSpanId:s,parentSampled:a,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:a,sampled:c}={...s.getPropagationContext(),...o.getPropagationContext()};i=e.startTransaction({traceId:t,parentSpanId:a,parentSampled:c,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return o.setSpan(i),function(e,t,n){e&&(de(e,ai,n),de(e,ii,t))}(i,o,s),i}function si(e){if(e.startTime){const t={...e};return t.startTimestamp=ot(e.startTime),delete t.startTime,t}return e}const ii="_sentryScope",ai="_sentryIsolationScope";let ci;function ui(e){return ci?ci.get(e):void 0}function li(e){const t=ui(e);if(!t)return;const n={};for(const[,[e,r]]of t)n[e]||(n[e]=[]),n[e].push(ye(r));return n}var di;function pi(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}!function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(di||(di={}));const hi=pi;function fi(e,t){e.setTag("http.status_code",String(t)),e.setData("http.response.status_code",t);const n=pi(t);"unknown_error"!==n&&e.setStatus(n)}class mi{constructor(e=1e3){this._maxlen=e,this.spans=[]}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class gi{constructor(e={}){this._traceId=e.traceId||_e(),this._spanId=e.spanId||_e().substring(16),this._startTime=e.startTimestamp||Be(),this.tags=e.tags?{...e.tags}:{},this.data=e.data?{...e.data}:{},this.instrumenter=e.instrumenter||"sentry",this._attributes={},this.setAttributes({[Ws]:e.origin||"manual",[zs]:e.op,...e.attributes}),this._name=e.name||e.description,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.status&&(this._status=e.status),e.endTimestamp&&(this._endTime=e.endTimestamp),void 0!==e.exclusiveTime&&(this._exclusiveTime=e.exclusiveTime),this._measurements=e.measurements?{...e.measurements}:{}}get name(){return this._name||""}set name(e){this.updateName(e)}get description(){return this._name}set description(e){this._name=e}get traceId(){return this._traceId}set traceId(e){this._traceId=e}get spanId(){return this._spanId}set spanId(e){this._spanId=e}set parentSpanId(e){this._parentSpanId=e}get parentSpanId(){return this._parentSpanId}get sampled(){return this._sampled}set sampled(e){this._sampled=e}get attributes(){return this._attributes}set attributes(e){this._attributes=e}get startTimestamp(){return this._startTime}set startTimestamp(e){this._startTime=e}get endTimestamp(){return this._endTime}set endTimestamp(e){this._endTime=e}get status(){return this._status}set status(e){this._status=e}get op(){return this._attributes[zs]}set op(e){this.setAttribute(zs,e)}get origin(){return this._attributes[Ws]}set origin(e){this.setAttribute(Ws,e)}spanContext(){const{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?tt:0}}startChild(e){const t=new gi({...e,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t);const n=qe(this);if(t.transaction=n,Te&&n){const r=`[Tracing] Starting '${e&&e.op||"< unknown op >"}' span on transaction '${it(t).description||"< unknown name >"}' (${n.spanContext().spanId}).`;B.log(r),this._logMessage=r}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setAttribute(e,t){void 0===t?delete this._attributes[e]:this._attributes[e]=t}setAttributes(e){Object.keys(e).forEach((t=>this.setAttribute(t,e[t])))}setStatus(e){return this._status=e,this}setHttpStatus(e){return fi(this,e),this}setName(e){this.updateName(e)}updateName(e){return this._name=e,this}isSuccess(){return"ok"===this._status}finish(e){return this.end(e)}end(e){if(this._endTime)return;const t=qe(this);if(Te&&t&&t.spanContext().spanId!==this._spanId){const e=this._logMessage;e&&B.log(e.replace("Starting","Finishing"))}this._endTime=ot(e)}toTraceparent(){return rt(this)}toContext(){return ye({data:this._getData(),description:this._name,endTimestamp:this._endTime,op:this.op,parentSpanId:this._parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this._startTime,status:this._status,tags:this.tags,traceId:this._traceId})}updateWithContext(e){return this.data=e.data||{},this._name=e.name||e.description,this._endTime=e.endTimestamp,this.op=e.op,this._parentSpanId=e.parentSpanId,this._sampled=e.sampled,this._spanId=e.spanId||this._spanId,this._startTime=e.startTimestamp||this._startTime,this._status=e.status,this.tags=e.tags||{},this._traceId=e.traceId||this._traceId,this}getTraceContext(){return nt(this)}getSpanJSON(){return ye({data:this._getData(),description:this._name,op:this._attributes[zs],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:this._status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[Ws],_metrics_summary:li(this),profile_id:this._attributes.profile_id,exclusive_time:this._exclusiveTime,measurements:Object.keys(this._measurements).length>0?this._measurements:void 0})}isRecording(){return!this._endTime&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:e,_attributes:t}=this,n=Object.keys(e).length>0,r=Object.keys(t).length>0;if(n||r)return n&&r?{...e,...t}:n?e:t}}class yi extends gi{constructor(e,t){super(e),this._contexts={},this._hub=t||wt(),this._name=e.name||"",this._metadata={...e.metadata},this._trimEnd=e.trimEnd,this.transaction=this;const n=this._metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Hs]&&{source:this._attributes[Hs]},...this._attributes[qs]&&{sampleRate:this._attributes[qs]}}}set metadata(e){this._metadata=e}setName(e,t="custom"){this._name=e,this.setAttribute(Hs,t)}updateName(e){return this._name=e,this}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new mi(e)),this.spanRecorder.add(this)}setContext(e,t){null===t?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,n=""){this._measurements[e]={value:t,unit:n}}setMetadata(e){this._metadata={...this._metadata,...e}}end(e){const t=ot(e),n=this._finishTransaction(t);if(n)return this._hub.captureEvent(n)}toContext(){return ye({...super.toContext(),name:this._name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this._name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){return ut(this)}setHub(e){this._hub=e}getProfileId(){if(void 0!==this._contexts&&void 0!==this._contexts.profile)return this._contexts.profile.profile_id}_finishTransaction(e){if(void 0!==this._endTime)return;this._name||(Te&&B.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(e);const t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),!0!==this._sampled)return Te&&B.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(t&&t.recordDroppedEvent("sample_rate","transaction"));const n=this.spanRecorder?this.spanRecorder.spans.filter((e=>e!==this&&it(e).timestamp)):[];if(this._trimEnd&&n.length>0){const e=n.map((e=>it(e).timestamp)).filter(Boolean);this._endTime=e.reduce(((e,t)=>e>t?e:t))}const{scope:r,isolationScope:o}={scope:(s=this)[ii],isolationScope:s[ai]};var s;const{metadata:i}=this,{source:a}=i,c={contexts:{...this._contexts,trace:nt(this)},spans:n,start_timestamp:this._startTime,tags:this.tags,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...i,capturedSpanScope:r,capturedSpanIsolationScope:o,...ye({dynamicSamplingContext:ut(this)})},_metrics_summary:li(this),...a&&{transaction_info:{source:a}}};return Object.keys(this._measurements).length>0&&(Te&&B.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),c.measurements=this._measurements),Te&&B.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),c}}const vi={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},_i=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class bi extends mi{constructor(e,t,n,r){super(r),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=n}add(e){if(e.spanContext().spanId!==this.transactionSpanId){const t=e.end;e.end=(...n)=>(this._popActivity(e.spanContext().spanId),t.apply(e,n)),void 0===it(e).timestamp&&this._pushActivity(e.spanContext().spanId)}super.add(e)}}class Si extends yi{constructor(e,t,n=vi.idleTimeout,r=vi.finalTimeout,o=vi.heartbeatInterval,s=!1,i=!1){super(e,t),this._idleHub=t,this._idleTimeout=n,this._finalTimeout=r,this._heartbeatInterval=o,this._onScope=s,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=_i[4],this._autoFinishAllowed=!i,s&&(Te&&B.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),t.getScope().setSpan(this)),i||this._restartIdleTimeout(),setTimeout((()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=_i[3],this.end())}),this._finalTimeout)}end(e){const t=ot(e);if(this._finished=!0,this.activities={},"ui.action.click"===this.op&&this.setAttribute("finishReason",this._finishReason),this.spanRecorder){Te&&B.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);for(const e of this._beforeFinishCallbacks)e(this,t);this.spanRecorder.spans=this.spanRecorder.spans.filter((e=>{if(e.spanContext().spanId===this.spanContext().spanId)return!0;it(e).timestamp||(e.setStatus("cancelled"),e.end(t),Te&&B.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));const{start_timestamp:n,timestamp:r}=it(e),o=n&&n<t,s=(this._finalTimeout+this._idleTimeout)/1e3,i=r&&n&&r-n<s;if(Te){const t=JSON.stringify(e,void 0,2);o?i||B.log("[Tracing] discarding Span since it finished after Transaction final timeout",t):B.log("[Tracing] discarding Span since it happened after Transaction was finished",t)}return o&&i})),Te&&B.log("[Tracing] flushing IdleTransaction")}else Te&&B.log("[Tracing] No active IdleTransaction");if(this._onScope){const e=this._idleHub.getScope();e.getTransaction()===this&&e.setSpan(void 0)}return super.end(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const t=e=>{this._finished||this._pushActivity(e)},n=e=>{this._finished||this._popActivity(e)};this.spanRecorder=new bi(t,n,this.spanContext().spanId,e),Te&&B.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=!1===t,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,0===Object.keys(this.activities).length&&this._idleTimeoutCanceledPermanently&&(this._finishReason=_i[5],this.end(e)))}setFinishReason(e){this._finishReason=e}sendAutoFinishSignal(){this._autoFinishAllowed||(Te&&B.log("[Tracing] Received finish signal for idle transaction."),this._restartIdleTimeout(),this._autoFinishAllowed=!0)}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout((()=>{this._finished||0!==Object.keys(this.activities).length||(this._finishReason=_i[1],this.end(e))}),this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),Te&&B.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,Te&&B.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&(Te&&B.log(`[Tracing] popActivity ${e}`),delete this.activities[e],Te&&B.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){const e=Be();this._idleTimeoutCanceledPermanently?this._autoFinishAllowed&&(this._finishReason=_i[5],this.end(e)):this._restartIdleTimeout(e+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?this._autoFinishAllowed&&(Te&&B.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=_i[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){Te&&B.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout((()=>{this._beat()}),this._heartbeatInterval)}}function wi(e,t,n){if(!Xs(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setAttribute(qs,Number(e.sampled)),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setAttribute(qs,Number(r))):void 0!==n.parentSampled?r=n.parentSampled:void 0!==t.tracesSampleRate?(r=t.tracesSampleRate,e.setAttribute(qs,Number(r))):(r=1,e.setAttribute(qs,r)),ki(r)?r?(e.sampled=Math.random()<r,e.sampled?(Te&&B.log(`[Tracing] starting ${e.op} transaction - ${it(e).description}`),e):(Te&&B.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(Te&&B.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(Te&&B.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function ki(e){return J(e)||"number"!=typeof e&&"boolean"!=typeof e?(Te&&B.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(Te&&B.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function xi(){const e=this.getScope().getSpan();return e?{"sentry-trace":rt(e)}:{}}function Ei(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},o=r.instrumenter||"sentry",s=e.instrumenter||"sentry";o!==s&&(Te&&B.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${o}\` instrumenter.\nThe transaction will not be sampled. Please use the ${o} instrumentation to start transactions.`),e.sampled=!1);let i=new yi(e,this);return i=wi(i,r,{name:e.name,parentSampled:e.parentSampled,transactionContext:e,attributes:{...e.data,...e.attributes},...t}),i.isRecording()&&i.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",i),i}function Ti(e,t,n,r,o,s,i,a=!1){const c=e.getClient(),u=c&&c.getOptions()||{};let l=new Si(t,e,n,r,i,o,a);return l=wi(l,u,{name:t.name,parentSampled:t.parentSampled,transactionContext:t,attributes:{...t.data,...t.attributes},...s}),l.isRecording()&&l.initSpanRecorder(u._experiments&&u._experiments.maxSpans),c&&c.emit&&c.emit("startTransaction",l),l}function Ci(){const e=bt();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Ei),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=xi),Vs||(Vs=!0,_o(Js),wo(Js)))}function Ii(e,t){let n;return rr(e,((e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n))),n}function Ri(e,t){return n=>{const r=e(n),o=new Map;function s(t,r){const s=r?`${t}:${r}`:t;let i=o.get(s);if(!i){const a=Dn(t);if(!a)return;const c=jn(a,n.tunnel);i=r?function(e,t){return n=>{const r=e(n);return{...r,send:async e=>{const n=Ii(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e)}}}}(e,r)({...n,url:c}):e({...n,url:c}),o.set(s,i)}return[t,i]}return{send:async function(e){const n=t({envelope:e,getEvent:function(t){const n=t&&t.length?t:["event"];return Ii(e,n)}}).map((e=>"string"==typeof e?s(e,void 0):s(e.dsn,e.release))).filter((e=>!!e));0===n.length&&n.push(["",r]);return(await Promise.all(n.map((([t,n])=>n.send(function(e,t){return tr(t?{...e[0],dsn:t}:e[0],e[1])}(e,t))))))[0]},flush:async function(e){const t=[await r.flush(e)];for(const[,n]of o)t.push(await n.flush(e));return t.every((e=>e))}}}}const Mi="c",Oi="g",Ai="s",Li="d";const Di={[Mi]:class{constructor(e){this._value=e}get weight(){return 1}add(e){this._value+=e}toString(){return`${this._value}`}},[Oi]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1}get weight(){return 5}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`}},[Li]:class{constructor(e){this._value=[e]}get weight(){return this._value.length}add(e){this._value.push(e)}toString(){return this._value.join(":")}},[Ai]:class{constructor(e){this.first=e,this._value=new Set([e])}get weight(){return this._value.size}add(e){this._value.add(e)}toString(){return Array.from(this._value).map((e=>"string"==typeof e?function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t>>>0}(e):e)).join(":")}}};class Ni{constructor(e){this._client=e,this._buckets=new Map,this._interval=setInterval((()=>this.flush()),5e3)}add(e,t,n,r="none",o={},s=Be()){const i=Math.floor(s),a=t.replace(/[^\w\-.]+/gi,"_");const c=function(e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[hr(n)]=mr(String(e[n])));return t}(o),u=function(e){return e.replace(/[^\w]+/gi,"_")}(r),l=function(e,t,n,r){return`${e}${t}${n}${Object.entries(ye(r)).sort(((e,t)=>e[0].localeCompare(t[0])))}`}(e,a,u,c);let d=this._buckets.get(l);const p=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(n),d.timestamp<i&&(d.timestamp=i)):(d={metric:new Di[e](n),timestamp:i,metricType:e,name:a,unit:u,tags:c},this._buckets.set(l,d));!function(e,t,n,r,o,s){const i=ni();if(i){const a=ui(i)||new Map,c=`${e}:${t}@${r}`,u=a.get(s);if(u){const[,e]=u;a.set(s,[c,{min:Math.min(e.min,n),max:Math.max(e.max,n),count:e.count+=1,sum:e.sum+=n,tags:e.tags}])}else a.set(s,[c,{min:n,max:n,count:1,sum:n,tags:o}]);ci||(ci=new WeakMap),ci.set(i,a)}}(e,a,"string"==typeof n?d.metric.weight-p:n,u,o,l)}flush(){if(0!==this._buckets.size){if(this._client.captureAggregateMetrics){const e=Array.from(this._buckets).map((([,e])=>e));this._client.captureAggregateMetrics(e)}this._buckets.clear()}}close(){clearInterval(this._interval),this.flush()}}const Pi="MetricsAggregator",Bi=()=>({name:Pi,setupOnce(){},setup(e){e.metricsAggregator=new Ni(e)}});function Fi(e,t,n,r={}){const o=an(),s=un();if(o){if(!o.metricsAggregator)return void(Te&&B.warn("No metrics aggregator enabled. Please add the MetricsAggregator integration to use metrics APIs"));const{unit:i,tags:a,timestamp:c}=r,{release:u,environment:l}=o.getOptions(),d=s.getTransaction(),p={};u&&(p.release=u),l&&(p.environment=l),d&&(p.transaction=it(d).description||""),Te&&B.log(`Adding value of ${n} to ${e} metric ${t}`),o.metricsAggregator.add(e,t,n,i,{...p,...a},c)}}const $i={increment:function(e,t=1,n){Fi("c",e,t,n)},distribution:function(e,t,n){Fi("d",e,t,n)},set:function(e,t,n){Fi("s",e,t,n)},gauge:function(e,t,n){Fi("g",e,t,n)},MetricsAggregator:_n(Pi,Bi),metricsAggregatorIntegration:Bi};function ji(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}function Ui(e,t,n){const r=Ys();r&&r.setMeasurement(e,t,n)}function Hi(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function qi(e,t){const n=t&&function(e){return void 0!==e.getClient}(t)?t.getClient():t,r=n&&n.getDsn(),o=n&&n.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host)}(e,r)||function(e,t){if(!t)return!1;return zi(e)===zi(t)}(e,o)}function zi(e){return"/"===e[e.length-1]?e.slice(0,-1):e}var Wi=o(284);function Yi(){return"undefined"!=typeof window&&(!(0,Wi.wD)()||void 0!==O.process&&"renderer"===O.process.type)}const Gi="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Vi=(e,t,n)=>{let r,o;return s=>{t.value>=0&&(s||n)&&(o=t.value-(r||0),(o||void 0===r)&&(r=t.value,t.delta=o,e(t)))}},Ji=O,Ki=()=>Ji.__WEB_VITALS_POLYFILL__?Ji.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||(()=>{const e=Ji.performance.timing,t=Ji.performance.navigation.type,n={entryType:"navigation",startTime:0,type:2==t?"back_forward":1===t?"reload":"navigate"};for(const t in e)"navigationStart"!==t&&"toJSON"!==t&&(n[t]=Math.max(e[t]-e.navigationStart,0));return n})()):Ji.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],Xi=()=>{const e=Ki();return e&&e.activationStart||0},Zi=(e,t)=>{const n=Ki();let r="navigate";return n&&(r=Ji.document&&Ji.document.prerendering||Xi()>0?"prerender":n.type.replace(/_/g,"-")),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:r}},Qi=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver((e=>{t(e.getEntries())}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},ea=(e,t)=>{const n=r=>{"pagehide"!==r.type&&"hidden"!==Ji.document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};Ji.document&&(addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0))};let ta=-1;const na=()=>(ta<0&&(Ji.document&&Ji.document.visibilityState&&(ta="hidden"!==Ji.document.visibilityState||Ji.document.prerendering?1/0:0),ea((({timeStamp:e})=>{ta=e}),!0)),{get firstHiddenTime(){return ta}});let ra=0,oa=1/0,sa=0;const ia=e=>{e.forEach((e=>{e.interactionId&&(oa=Math.min(oa,e.interactionId),sa=Math.max(sa,e.interactionId),ra=sa?(sa-oa)/7+1:0)}))};let aa;const ca=()=>{"interactionCount"in performance||aa||(aa=Qi("event",ia,{type:"event",buffered:!0,durationThreshold:0}))},ua=()=>aa?ra:performance.interactionCount||0,la=[],da={},pa=e=>{const t=la[la.length-1],n=da[e.interactionId];if(n||la.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{const t={id:e.interactionId,latency:e.duration,entries:[e]};da[t.id]=t,la.push(t)}la.sort(((e,t)=>t.latency-e.latency)),la.splice(10).forEach((e=>{delete da[e.id]}))}},ha=(e,t)=>{t=t||{},ca();const n=Zi("INP");let r;const o=e=>{e.forEach((e=>{if(e.interactionId&&pa(e),"first-input"===e.entryType){!la.some((t=>t.entries.some((t=>e.duration===t.duration&&e.startTime===t.startTime))))&&pa(e)}}));const t=(()=>{const e=Math.min(la.length-1,Math.floor(ua()/50));return la[e]})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r())},s=Qi("event",o,{durationThreshold:t.durationThreshold||40});r=Vi(e,n,t.reportAllChanges),s&&(s.observe({type:"first-input",buffered:!0}),ea((()=>{o(s.takeRecords()),n.value<0&&ua()>0&&(n.value=0,n.entries=[]),r(!0)})))},fa={},ma=e=>{Ji.document&&(Ji.document.prerendering?addEventListener("prerenderingchange",(()=>ma(e)),!0):"complete"!==Ji.document.readyState?addEventListener("load",(()=>ma(e)),!0):setTimeout(e,0))},ga={},ya={};let va,_a,ba,Sa,wa;function ka(e,t=!1){return Oa("lcp",e,Ia,ba,t)}function xa(e,t){return Aa(e,t),ya[e]||(!function(e){const t={};"event"===e&&(t.durationThreshold=0);Qi(e,(t=>{Ea(e,{entries:t})}),t)}(e),ya[e]=!0),La(e,t)}function Ea(e,t){const n=ga[e];if(n&&n.length)for(const r of n)try{r(t)}catch(t){Gi&&B.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${Dt(r)}\nError:`,t)}}function Ta(){return((e,t={})=>{const n=Zi("CLS",0);let r,o=0,s=[];const i=e=>{e.forEach((e=>{if(!e.hadRecentInput){const t=s[0],i=s[s.length-1];o&&0!==s.length&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,s.push(e)):(o=e.value,s=[e]),o>n.value&&(n.value=o,n.entries=s,r&&r())}}))},a=Qi("layout-shift",i);if(a){r=Vi(e,n,t.reportAllChanges);const o=()=>{i(a.takeRecords()),r(!0)};return ea(o),o}})((e=>{Ea("cls",{metric:e}),va=e}),{reportAllChanges:!0})}function Ca(){return(e=>{const t=na(),n=Zi("FID");let r;const o=e=>{e.startTime<t.firstHiddenTime&&(n.value=e.processingStart-e.startTime,n.entries.push(e),r(!0))},s=e=>{e.forEach(o)},i=Qi("first-input",s);r=Vi(e,n),i&&ea((()=>{s(i.takeRecords()),i.disconnect()}),!0)})((e=>{Ea("fid",{metric:e}),_a=e}))}function Ia(){return(e=>{const t=na(),n=Zi("LCP");let r;const o=e=>{const o=e[e.length-1];if(o){const e=Math.max(o.startTime-Xi(),0);e<t.firstHiddenTime&&(n.value=e,n.entries=[o],r())}},s=Qi("largest-contentful-paint",o);if(s){r=Vi(e,n);const t=()=>{fa[n.id]||(o(s.takeRecords()),s.disconnect(),fa[n.id]=!0,r(!0))};return["keydown","click"].forEach((e=>{Ji.document&&addEventListener(e,t,{once:!0,capture:!0})})),ea(t,!0),t}})((e=>{Ea("lcp",{metric:e}),ba=e}))}function Ra(){return((e,t)=>{t=t||{};const n=Zi("TTFB"),r=Vi(e,n,t.reportAllChanges);ma((()=>{const e=Ki();if(e){if(n.value=Math.max(e.responseStart-Xi(),0),n.value<0||n.value>performance.now())return;n.entries=[e],r(!0)}}))})((e=>{Ea("ttfb",{metric:e}),Sa=e}))}function Ma(){return ha((e=>{Ea("inp",{metric:e}),wa=e}))}function Oa(e,t,n,r,o=!1){let s;return Aa(e,t),ya[e]||(s=n(),ya[e]=!0),r&&t({metric:r}),La(e,t,o?s:void 0)}function Aa(e,t){ga[e]=ga[e]||[],ga[e].push(t)}function La(e,t,n){return()=>{n&&n();const r=ga[e];if(!r)return;const o=r.indexOf(t);-1!==o&&r.splice(o,1)}}const Da=O,Na="sentryReplaySession",Pa="Unable to send Replay",Ba=15e4,Fa=5e3,$a=2e7,ja=36e5;function Ua(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}var Ha;function qa(e){const t=Ua([e,"optionalAccess",e=>e.host]);return Boolean(Ua([t,"optionalAccess",e=>e.shadowRoot])===e)}function za(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Wa(e){try{const n=e.rules||e.cssRules;return n?((t=Array.from(n,Ya).join("")).includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),t):null}catch(e){return null}var t}function Ya(e){let t;if(function(e){return"styleSheet"in e}(e))try{t=Wa(e.styleSheet)||function(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}(e)}catch(e){}else if(function(e){return"selectorText"in e}(e)&&e.selectorText.includes(":"))return function(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}(e.cssText);return t||e.cssText}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Ha||(Ha={}));class Ga{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(e){if(!e)return-1;const t=Ua([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]);return r=()=>-1,null!=(n=t)?n:r();var n,r}getNode(e){return this.idNodeMap.get(e)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(e){return this.nodeMetaMap.get(e)||null}removeNodeFromMap(e){const t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach((e=>this.removeNodeFromMap(e)))}has(e){return this.idNodeMap.has(e)}hasNode(e){return this.nodeMetaMap.has(e)}add(e,t){const n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)}replace(e,t){const n=this.getNode(e);if(n){const e=this.nodeMetaMap.get(n);e&&this.nodeMetaMap.set(t,e)}this.idNodeMap.set(e,t)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Va({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text)}function Ja({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Ka(e){return e.toLowerCase()}function Xa(e){return e.toUpperCase()}const Za="__rrweb_original__";function Qa(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Ka(t):null}function ec(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||""}let tc=1;const nc=new RegExp("[^a-z0-9-_:]");function rc(){return tc++}let oc,sc;const ic=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ac=/^(?:[a-z+]+:)?\/\//i,cc=/^www\..*/i,uc=/^(data:)([^,]*),(.*)/i;function lc(e,t){return(e||"").replace(ic,((e,n,r,o,s,i)=>{const a=r||s||i,c=n||o||"";if(!a)return e;if(ac.test(a)||cc.test(a))return`url(${c}${a}${c})`;if(uc.test(a))return`url(${c}${a}${c})`;if("/"===a[0])return`url(${c}${function(e){let t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t}(t)+a}${c})`;const u=t.split("/"),l=a.split("/");u.pop();for(const e of l)"."!==e&&(".."===e?u.pop():u.push(e));return`url(${c}${u.join("/")}${c})`}))}const dc=/^[^ \t\n\r\u000c]+/,pc=/^[, \t\n\r\u000c]+/;function hc(e,t){if(!t||""===t.trim())return t;const n=e.createElement("a");return n.href=t,n.href}function fc(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function mc(){const e=document.createElement("a");return e.href="",e.href}function gc(e,t,n,r,o,s){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?hc(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;let n=0;function r(e){let r;const o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}const o=[];for(;r(pc),!(n>=t.length);){let s=r(dc);if(","===s.slice(-1))s=hc(e,s.substring(0,s.length-1)),o.push(s);else{let r="";s=hc(e,s);let i=!1;for(;;){const e=t.charAt(n);if(""===e){o.push((s+r).trim());break}if(i)")"===e&&(i=!1);else{if(","===e){n+=1,o.push((s+r).trim());break}"("===e&&(i=!0)}r+=e,n+=1}}}return o.join(", ")}(e,r):"style"===n?lc(r,mc()):"object"===t&&"data"===n?hc(e,r):"function"==typeof s?s(n,r,o):r:hc(e,r):r}function yc(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t}function vc(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:vc(e.parentNode,t,n,r+1):-1}function _c(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}function bc(e,t,n,r,o,s){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===i)return!1;if("INPUT"===i.tagName){const e=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(e))return!0}let a=-1,c=-1;if(s){if(c=vc(i,_c(r,o)),c<0)return!0;a=vc(i,_c(t,n),c>=0?c:1/0)}else{if(a=vc(i,_c(t,n)),a<0)return!1;c=vc(i,_c(r,o),a>=0?a:1/0)}return a>=0?!(c>=0)||a<=c:!(c>=0)&&!!s}catch(e){}return!!s}function Sc(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:f={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S=!1}=t,w=function(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Ha.Document,childNodes:[],compatMode:e.compatMode}:{type:Ha.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ha.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return function(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:s,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:p,keepIframeSrcFn:h,newlyAddedElement:f=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:_,unmaskTextSelector:b}=t,S=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0}else for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}if(n)return e.matches(n)}catch(e){}return!1}(e,r,o,s),w=function(e){if(e instanceof HTMLFormElement)return"form";const t=Ka(e.tagName);return nc.test(t)?"div":t}(e);let k={};const x=e.attributes.length;for(let t=0;t<x;t++){const r=e.attributes[t];r.name&&!yc(w,r.name,r.value)&&(k[r.name]=gc(n,w,Ka(r.name),r.value,e,c))}if("link"===w&&i){const t=Array.from(n.styleSheets).find((t=>t.href===e.href));let r=null;t&&(r=Wa(t)),r&&(delete k.rel,delete k.href,k._cssText=lc(r,t.href))}if("style"===w&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const t=Wa(e.sheet);t&&(k._cssText=lc(t,mc()))}if("input"===w||"textarea"===w||"select"===w||"option"===w){const t=e,n=Qa(t),r=ec(t,Xa(w),n),o=t.checked;if("submit"!==n&&"button"!==n&&r){const e=bc(t,y,_,v,b,Va({type:n,tagName:Xa(w),maskInputOptions:a}));k.value=Ja({isMasked:e,element:t,value:r,maskInputFn:u})}o&&(k.checked=o)}"option"===w&&(e.selected&&!a.select?k.selected=!0:delete k.selected);if("canvas"===w&&p)if("2d"===e.__context)(function(e){const t=e.getContext("2d");if(!t)return!0;for(let n=0;n<e.width;n+=50)for(let r=0;r<e.height;r+=50){const o=t.getImageData,s=Za in o?o[Za]:o;if(new Uint32Array(s.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((e=>0!==e)))return!1}return!0})(e)||(k.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){const t=e.toDataURL(l.type,l.quality),n=document.createElement("canvas");n.width=e.width,n.height=e.height;t!==n.toDataURL(l.type,l.quality)&&(k.rr_dataURL=t)}if("img"===w&&d){oc||(oc=n.createElement("canvas"),sc=oc.getContext("2d"));const t=e,r=t.crossOrigin;t.crossOrigin="anonymous";const o=()=>{t.removeEventListener("load",o);try{oc.width=t.naturalWidth,oc.height=t.naturalHeight,sc.drawImage(t,0,0),k.rr_dataURL=oc.toDataURL(l.type,l.quality)}catch(e){console.warn(`Cannot inline img src=${t.currentSrc}! Error: ${e}`)}r?k.crossOrigin=r:t.removeAttribute("crossorigin")};t.complete&&0!==t.naturalWidth?o():t.addEventListener("load",o)}"audio"!==w&&"video"!==w||(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop));if(S){const{width:t,height:n}=e.getBoundingClientRect();k={class:k.class,rr_width:`${t}px`,rr_height:`${n}px`}}"iframe"!==w||h(k.src)||(e.contentDocument||(k.rr_src=k.src),delete k.src);let E;try{customElements.get(w)&&(E=!0)}catch(e){}return{type:Ha.Element,tagName:w,attributes:k,childNodes:[],isSVG:fc(e)||void 0,needBlock:S,rootId:m,isCustom:E}}(e,{doc:n,blockClass:o,blockSelector:s,unblockSelector:i,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:f,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:_,keepIframeSrcFn:b,newlyAddedElement:S,rootId:w,maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p});case e.TEXT_NODE:return function(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const h="STYLE"===d||void 0,f="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(h&&p){try{e.nextSibling||e.previousSibling||Ua([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(p=Wa(e.parentNode.sheet))}catch(t){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${t}`,e)}p=lc(p,mc())}f&&(p="SCRIPT_PLACEHOLDER");const g=bc(e,r,s,o,i,n);h||f||m||!p||!g||(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*"));m&&p&&(c.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*"));if("OPTION"===d&&p){p=Ja({isMasked:bc(e,r,s,o,i,Va({type:null,tagName:d,maskInputOptions:c})),element:e,value:p,maskInputFn:u})}return{type:Ha.Text,textContent:p||"",isStyle:h,rootId:l}}(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:f,maskInputFn:g,rootId:w});case e.CDATA_SECTION_NODE:return{type:Ha.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:Ha.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function wc(e){return null==e?"":e.toLowerCase()}function kc(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p=!1,inlineStylesheet:h=!0,maskInputOptions:f={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_={},inlineImages:b=!1,recordCanvas:S=!1,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:T=5e3,keepIframeSrcFn:C=()=>!1,newlyAddedElement:I=!1}=t;let{preserveWhiteSpace:R=!0}=t;const M=Sc(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:_,inlineImages:b,recordCanvas:S,keepIframeSrcFn:C,newlyAddedElement:I});if(!M)return console.warn(e,"not serialized"),null;let O;O=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===Ha.Comment)return!0;if(e.type===Ha.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(wc(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===wc(e.attributes.name)||"icon"===wc(e.attributes.rel)||"apple-touch-icon"===wc(e.attributes.rel)||"shortcut icon"===wc(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&wc(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(wc(e.attributes.property).match(/^(og|twitter|fb):/)||wc(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===wc(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===wc(e.attributes.name)||"googlebot"===wc(e.attributes.name)||"bingbot"===wc(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===wc(e.attributes.name)||"generator"===wc(e.attributes.name)||"framework"===wc(e.attributes.name)||"publisher"===wc(e.attributes.name)||"progid"===wc(e.attributes.name)||wc(e.attributes.property).match(/^article:/)||wc(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===wc(e.attributes.name)||"yandex-verification"===wc(e.attributes.name)||"csrf-token"===wc(e.attributes.name)||"p:domain_verify"===wc(e.attributes.name)||"verify-v1"===wc(e.attributes.name)||"verification"===wc(e.attributes.name)||"shopify-checkout-api-token"===wc(e.attributes.name)))return!0}}return!1}(M,v)&&(R||M.type!==Ha.Text||M.isStyle||M.textContent.replace(/^\s+|\s+$/gm,"").length)?rc():-2;const A=Object.assign(M,{id:O});if(r.add(e,A),-2===O)return null;w&&w(e);let L=!p;if(A.type===Ha.Element){L=L&&!A.needBlock,delete A.needBlock;const t=e.shadowRoot;t&&za(t)&&(A.isShadowHost=!0)}if((A.type===Ha.Document||A.type===Ha.Element)&&L){v.headWhitespace&&A.type===Ha.Element&&"head"===A.tagName&&(R=!1);const t={doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:p,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:C};for(const n of Array.from(e.childNodes)){const e=kc(n,t);e&&A.childNodes.push(e)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(const n of Array.from(e.shadowRoot.childNodes)){const r=kc(n,t);r&&(za(e.shadowRoot)&&(r.isShadow=!0),A.childNodes.push(r))}}return e.parentNode&&qa(e.parentNode)&&za(e.parentNode)&&(A.isShadow=!0),A.type===Ha.Element&&"iframe"===A.tagName&&function(e,t,n){const r=e.contentWindow;if(!r)return;let o,s=!1;try{o=r.document.readyState}catch(e){return}if("complete"!==o){const r=setTimeout((()=>{s||(t(),s=!0)}),n);return void e.addEventListener("load",(()=>{clearTimeout(r),s=!0,t()}))}const i="about:blank";if(r.location.href!==i||e.src===i||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}(e,(()=>{const t=e.contentDocument;if(t&&k){const n=kc(t,{doc:t,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:C});n&&k(e,n)}}),x),A.type===Ha.Element&&"link"===A.tagName&&"stylesheet"===A.attributes.rel&&function(e,t,n){let r,o=!1;try{r=e.sheet}catch(e){return}if(r)return;const s=setTimeout((()=>{o||(t(),o=!0)}),n);e.addEventListener("load",(()=>{clearTimeout(s),o=!0,t()}))}(e,(()=>{if(E){const t=kc(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:_,inlineImages:b,recordCanvas:S,preserveWhiteSpace:R,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:C});t&&E(e,t)}}),T),A}function xc(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function Ec(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Tc="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Cc={map:{},getId:()=>(console.error(Tc),-1),getNode:()=>(console.error(Tc),null),removeNodeFromMap(){console.error(Tc)},has:()=>(console.error(Tc),!1),reset(){console.error(Tc)}};function Ic(e,t,n={}){let r=null,o=0;return function(...s){const i=Date.now();o||!1!==n.leading||(o=i);const a=t-(i-o),c=this;a<=0||a>t?(r&&(!function(...e){Vc("clearTimeout")(...e)}(r),r=null),o=i,e.apply(c,s)):r||!1===n.trailing||(r=Jc((()=>{o=!1===n.leading?0:Date.now(),r=null,e.apply(c,s)}),a))}}function Rc(e,t,n,r,o=window){const s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){Jc((()=>{n.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>Rc(e,t,s||{},!0)}function Mc(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Cc=new Proxy(Cc,{get:(e,t,n)=>("map"===t&&console.error(Tc),Reflect.get(e,t,n))}));let Oc=Date.now;function Ac(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:xc([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||xc([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||xc([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:xc([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||xc([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||xc([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0}}function Lc(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Dc(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Nc(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}function Pc(e,t,n,r,o){if(!e)return!1;const s=Nc(e);if(!s)return!1;const i=_c(t,n);if(!o){const e=r&&s.matches(r);return i(s)&&!e}const a=vc(s,i);let c=-1;return!(a<0)&&(r&&(c=vc(s,_c(null,r))),a>-1&&c<0||a<c)}function Bc(e,t){return-2===t.getId(e)}function Fc(e,t){if(qa(e))return!1;const n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||Fc(e.parentNode,t))}function $c(e){return Boolean(e.changedTouches)}function jc(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e))}function Uc(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e))}function Hc(e){return Boolean(xc([e,"optionalAccess",e=>e.shadowRoot]))}/[1-9][0-9]{12}/.test(Date.now().toString())||(Oc=()=>(new Date).getTime());class qc{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(e){return t=this.styleIDMap.get(e),n=()=>-1,null!=t?t:n();var t,n}has(e){return this.styleIDMap.has(e)}add(e,t){if(this.has(e))return this.getId(e);let n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n}getStyle(e){return this.idStyleMap.get(e)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function zc(e){let t=null;return xc([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function Wc(e){const t=e.ownerDocument;if(!t)return!1;const n=function(e){let t,n=e;for(;t=zc(n);)n=t;return n}(e);return t.contains(n)}function Yc(e){const t=e.ownerDocument;return!!t&&(t.contains(e)||Wc(e))}const Gc={};function Vc(e){const t=Gc[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return Gc[e]=r.bind(window)}function Jc(...e){return Vc("setTimeout")(...e)}var Kc=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Kc||{}),Xc=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Xc||{}),Zc=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Zc||{}),Qc=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Qc||{});function eu(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}function tu(e){return"__ln"in e}class nu{constructor(){this.length=0,this.head=null,this.tail=null}get(e){if(e>=this.length)throw new Error("Position outside of list range");let t=this.head;for(let n=0;n<e;n++)t=eu([t,"optionalAccess",e=>e.next])||null;return t}addNode(e){const t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&tu(e.previousSibling)){const n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&tu(e.nextSibling)&&e.nextSibling.__ln.previous){const n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++}removeNode(e){const t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--)}}const ru=(e,t)=>`${e}@${t}`;class ou{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=e=>{e.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const e=[],t=new Set,n=new nu,r=e=>{let t=e,n=-2;for(;-2===n;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n},o=o=>{if(!o.parentNode||!Yc(o))return;const s=qa(o.parentNode)?this.mirror.getId(zc(o)):this.mirror.getId(o.parentNode),i=r(o);if(-1===s||-1===i)return n.addNode(o);const a=kc(o,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{jc(e,this.mirror)&&this.iframeManager.addIframe(e),Uc(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),Hc(o)&&this.shadowDomManager.addShadowRoot(o.shadowRoot,this.doc)},onIframeLoad:(e,t)=>{this.iframeManager.attachIframe(e,t),this.shadowDomManager.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t)}});a&&(e.push({parentId:s,nextId:i,node:a}),t.add(a.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const e of this.movedSet)iu(this.removes,e,this.mirror)&&!this.movedSet.has(e.parentNode)||o(e);for(const e of this.addedSet)cu(this.droppedSet,e)||iu(this.removes,e,this.mirror)?cu(this.movedSet,e)?o(e):this.droppedSet.add(e):o(e);let s=null;for(;n.length;){let e=null;if(s){const t=this.mirror.getId(s.value.parentNode),n=r(s.value);-1!==t&&-1!==n&&(e=s)}if(!e){let t=n.tail;for(;t;){const n=t;if(t=t.previous,n){const t=this.mirror.getId(n.value.parentNode);if(-1===r(n.value))continue;if(-1!==t){e=n;break}{const t=n.value;if(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const r=t.parentNode.host;if(-1!==this.mirror.getId(r)){e=n;break}}}}}}if(!e){for(;n.head;)n.removeNode(n.head.value);break}s=e.previous,n.removeNode(e.value),o(e.value)}const i={texts:this.texts.map((e=>({id:this.mirror.getId(e.node),value:e.value}))).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),attributes:this.attributes.map((e=>{const{attributes:t}=e;if("string"==typeof t.style){const n=JSON.stringify(e.styleDiff),r=JSON.stringify(e._unchangedStyles);n.length<t.style.length&&(n+r).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff)}return{id:this.mirror.getId(e.node),attributes:t}})).filter((e=>!t.has(e.id))).filter((e=>this.mirror.has(e.id))),removes:this.removes,adds:e};(i.texts.length||i.attributes.length||i.removes.length||i.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(i))},this.processMutation=e=>{if(!Bc(e.target,this.mirror))switch(e.type){case"characterData":{const t=e.target.textContent;Pc(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||t===e.oldValue||this.texts.push({value:bc(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&t?this.maskTextFn?this.maskTextFn(t,Nc(e.target)):t.replace(/[\S]/g,"*"):t,node:e.target});break}case"attributes":{const t=e.target;let n=e.attributeName,r=e.target.getAttribute(n);if("value"===n){const n=Qa(t),o=t.tagName;r=ec(t,o,n);const s=Va({maskInputOptions:this.maskInputOptions,tagName:o,type:n});r=Ja({isMasked:bc(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,s),element:t,value:r,maskInputFn:this.maskInputFn})}if(Pc(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||r===e.oldValue)return;let o=this.attributeMap.get(e.target);if("IFRAME"===t.tagName&&"src"===n&&!this.keepIframeSrcFn(r)){if(t.contentDocument)return;n="rr_src"}if(o||(o={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(e.target,o)),"type"===n&&"INPUT"===t.tagName&&"password"===(e.oldValue||"").toLowerCase()&&t.setAttribute("data-rr-is-password","true"),!yc(t.tagName,n)&&(o.attributes[n]=gc(this.doc,Ka(t.tagName),Ka(n),r,t,this.maskAttributeFn),"style"===n)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(e){this.unattachedDoc=this.doc}const n=this.unattachedDoc.createElement("span");e.oldValue&&n.setAttribute("style",e.oldValue);for(const e of Array.from(t.style)){const r=t.style.getPropertyValue(e),s=t.style.getPropertyPriority(e);r!==n.style.getPropertyValue(e)||s!==n.style.getPropertyPriority(e)?o.styleDiff[e]=""===s?r:[r,s]:o._unchangedStyles[e]=[r,s]}for(const e of Array.from(n.style))""===t.style.getPropertyValue(e)&&(o.styleDiff[e]=!1)}break}case"childList":if(Pc(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach((t=>this.genAdds(t,e.target))),e.removedNodes.forEach((t=>{const n=this.mirror.getId(t),r=qa(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);Pc(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Bc(t,this.mirror)||!function(e,t){return-1!==t.getId(e)}(t,this.mirror)||(this.addedSet.has(t)?(su(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||Fc(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[ru(n,r)]?su(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!qa(e.target)||!za(e.target))||void 0})),this.mapRemoves.push(t))}))}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(Bc(e,this.mirror))return;this.movedSet.add(e);let n=null;t&&this.mirror.hasNode(t)&&(n=this.mirror.getId(t)),n&&-1!==n&&(this.movedMap[ru(this.mirror.getId(e),n)]=!0)}else this.addedSet.add(e),this.droppedSet.delete(e);Pc(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach((e=>this.genAdds(e))),Hc(e)&&e.shadowRoot.childNodes.forEach((t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e)})))}}}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach((t=>{this[t]=e[t]}))}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function su(e,t){e.delete(t),t.childNodes.forEach((t=>su(e,t)))}function iu(e,t,n){return 0!==e.length&&au(e,t,n)}function au(e,t,n){const{parentNode:r}=t;if(!r)return!1;const o=n.getId(r);return!!e.some((e=>e.id===o))||au(e,r,n)}function cu(e,t){return 0!==e.size&&uu(e,t)}function uu(e,t){const{parentNode:n}=t;return!!n&&(!!e.has(n)||uu(e,n))}let lu;function du(e){lu=e}function pu(){lu=void 0}const hu=e=>{if(!lu)return e;return(...t)=>{try{return e(...t)}catch(e){if(lu&&!0===lu(e))return()=>{};throw e}}};function fu(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}const mu=[];function gu(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function yu(e,t){const n=new ou;mu.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=fu([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);o&&window[o]&&(r=window[o]);const s=new r(hu((t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t)})));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function vu({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){if(!1===i.mouseInteraction)return()=>{};const a=!0===i.mouseInteraction||void 0===i.mouseInteraction?{}:i.mouseInteraction,c=[];let u=null;return Object.keys(Zc).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==a[e])).forEach((i=>{let a=Ka(i);const l=(t=>i=>{const a=gu(i);if(Pc(a,r,o,s,!0))return;let c=null,l=t;if("pointerType"in i){switch(i.pointerType){case"mouse":c=Qc.Mouse;break;case"touch":c=Qc.Touch;break;case"pen":c=Qc.Pen}c===Qc.Touch?Zc[t]===Zc.MouseDown?l="TouchStart":Zc[t]===Zc.MouseUp&&(l="TouchEnd"):Qc.Pen}else $c(i)&&(c=Qc.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===Qc.Touch||l.startsWith("Mouse")&&c===Qc.Mouse)&&(c=null)):Zc[t]===Zc.Click&&(c=u,u=null);const d=$c(i)?i.changedTouches[0]:i;if(!d)return;const p=n.getId(a),{clientX:h,clientY:f}=d;hu(e)({type:Zc[l],id:p,x:h,y:f,...null!==c&&{pointerType:c}})})(i);if(window.PointerEvent)switch(Zc[i]){case Zc.MouseDown:case Zc.MouseUp:a=a.replace("mouse","pointer");break;case Zc.TouchStart:case Zc.TouchEnd:return}c.push(Ec(a,l,t))})),hu((()=>{c.forEach((e=>e()))}))}function _u({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){return Ec("scroll",hu(Ic(hu((i=>{const a=gu(i);if(!a||Pc(a,r,o,s,!0))return;const c=n.getId(a);if(a===t&&t.defaultView){const n=Ac(t.defaultView);e({id:c,x:n.left,y:n.top})}else e({id:c,x:a.scrollLeft,y:a.scrollTop})})),i.scroll||100)),t)}const bu=["INPUT","TEXTAREA","SELECT"],Su=new WeakMap;function wu({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:p,unmaskTextClass:h,maskTextSelector:f,unmaskTextSelector:m}){function g(e){let n=gu(e);const l=e.isTrusted,g=n&&Xa(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||bu.indexOf(g)<0||Pc(n,r,o,s,!0))return;const v=n;if(v.classList.contains(i)||a&&v.matches(a))return;const _=Qa(n);let b=ec(v,g,_),S=!1;const w=Va({maskInputOptions:c,tagName:g,type:_}),k=bc(n,p,f,h,m,w);"radio"!==_&&"checkbox"!==_||(S=n.checked),b=Ja({isMasked:k,element:n,value:b,maskInputFn:u}),y(n,d?{text:b,isChecked:S,userTriggered:l}:{text:b,isChecked:S});const x=n.name;"radio"===_&&x&&S&&t.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach((e=>{if(e!==n){const t=Ja({isMasked:k,element:e,value:ec(e,g,_),maskInputFn:u});y(e,d?{text:t,isChecked:!S,userTriggered:!1}:{text:t,isChecked:!S})}}))}function y(t,r){const o=Su.get(t);if(!o||o.text!==r.text||o.isChecked!==r.isChecked){Su.set(t,r);const o=n.getId(t);hu(e)({...r,id:o})}}const v=("last"===l.input?["change"]:["input","change"]).map((e=>Ec(e,hu(g),t))),_=t.defaultView;if(!_)return()=>{v.forEach((e=>e()))};const b=_.Object.getOwnPropertyDescriptor(_.HTMLInputElement.prototype,"value"),S=[[_.HTMLInputElement.prototype,"value"],[_.HTMLInputElement.prototype,"checked"],[_.HTMLSelectElement.prototype,"value"],[_.HTMLTextAreaElement.prototype,"value"],[_.HTMLSelectElement.prototype,"selectedIndex"],[_.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&v.push(...S.map((e=>Rc(e[0],e[1],{set(){hu(g)({target:this,isTrusted:!1})}},!1,_)))),hu((()=>{v.forEach((e=>e()))}))}function ku(e){return function(e,t){if(Cu("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||Cu("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||Cu("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||Cu("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const n=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(n)}else if(e.parentStyleSheet){const n=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(n)}return t}(e,[])}function xu(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function Eu({mirror:e,stylesheetManager:t},n){let r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);const o="#document"===n.nodeName?fu([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):fu([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),s=fu([o,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(fu([o,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&o&&s?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return fu([s,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)])},set(e){const n=fu([s,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r)}catch(e){}return n}}),hu((()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))):()=>{}}function Tu(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=yu(e,e.doc),o=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};const o="number"==typeof t.mousemove?t.mousemove:50,s="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let i,a=[];const c=Ic(hu((t=>{const n=Date.now()-i;e(a.map((e=>(e.timeOffset-=n,e))),t),a=[],i=null})),s),u=hu(Ic(hu((e=>{const t=gu(e),{clientX:n,clientY:o}=$c(e)?e.changedTouches[0]:e;i||(i=Oc()),a.push({x:n,y:o,id:r.getId(t),timeOffset:Oc()-i}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?Xc.Drag:e instanceof MouseEvent?Xc.MouseMove:Xc.TouchMove)})),o,{trailing:!1})),l=[Ec("mousemove",u,n),Ec("touchmove",u,n),Ec("drag",u,n)];return hu((()=>{l.forEach((e=>e()))}))}(e),s=vu(e),i=_u(e),a=function({viewportResizeCb:e},{win:t}){let n=-1,r=-1;return Ec("resize",hu(Ic(hu((()=>{const t=Lc(),o=Dc();n===t&&r===o||(e({width:Number(o),height:Number(t)}),n=t,r=o)})),200)),t)}(e,{win:n}),c=wu(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:s,doc:i}){const a=hu((i=>Ic(hu((s=>{const a=gu(s);if(!a||Pc(a,t,n,r,!0))return;const{currentTime:c,volume:u,muted:l,playbackRate:d}=a;e({type:i,id:o.getId(a),currentTime:c,volume:u,muted:l,playbackRate:d})})),s.media||500))),c=[Ec("play",a(0),i),Ec("pause",a(1),i),Ec("seeked",a(2),i),Ec("volumechange",a(3),i),Ec("ratechange",a(4),i)];return hu((()=>{c.forEach((e=>e()))}))}(e),l=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:hu(((r,o,s)=>{const[i,a]=s,{id:c,styleId:u}=xu(o,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:i,index:a}]}),r.apply(o,s)}))});const s=r.CSSStyleSheet.prototype.deleteRule;let i,a;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:hu(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=xu(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:i}]}),r.apply(o,s)}))}),r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:hu(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=xu(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replace:i}),r.apply(o,s)}))})),r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:hu(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=xu(o,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,replaceSync:i}),r.apply(o,s)}))}));const c={};Iu("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(Iu("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),Iu("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),Iu("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach((([r,o])=>{u[r]={insertRule:o.prototype.insertRule,deleteRule:o.prototype.deleteRule},o.prototype.insertRule=new Proxy(u[r].insertRule,{apply:hu(((r,o,s)=>{const[i,a]=s,{id:c,styleId:u}=xu(o.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:i,index:[...ku(o),a||0]}]}),r.apply(o,s)}))}),o.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:hu(((r,o,s)=>{const[i]=s,{id:a,styleId:c}=xu(o.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||c&&-1!==c)&&e({id:a,styleId:c,removes:[{index:[...ku(o),i]}]}),r.apply(o,s)}))})})),hu((()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=s,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach((([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule}))}))}(e,{win:n}),d=Eu(e,e.doc),p=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:hu(((o,i,a)=>{const[c,u,l]=a;if(n.has(c))return s.apply(i,[c,u,l]);const{id:d,styleId:p}=xu(fu([i,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||p&&-1!==p)&&e({id:d,styleId:p,set:{property:c,value:u,priority:l},index:ku(i.parentRule)}),o.apply(i,a)}))});const i=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:hu(((o,s,a)=>{const[c]=a;if(n.has(c))return i.apply(s,[c]);const{id:u,styleId:l}=xu(fu([s,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(u&&-1!==u||l&&-1!==l)&&e({id:u,styleId:l,remove:{property:c},index:ku(s.parentRule)}),o.apply(s,a)}))}),hu((()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=i}))}(e,{win:n}),h=e.collectFonts?function({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,s=n.FontFace;n.FontFace=function(e,t,n){const r=new s(e,t,n);return o.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r};const i=Mc(t.fonts,"add",(function(t){return function(n){return Jc(hu((()=>{const t=o.get(n);t&&(e(t),o.delete(n))})),0),t.apply(this,[n])}}));return r.push((()=>{n.FontFace=s})),r.push(i),hu((()=>{r.forEach((e=>e()))}))}(e):()=>{},f=function(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,selectionCb:i}=e;let a=!0;const c=hu((()=>{const e=t.getSelection();if(!e||a&&fu([e,"optionalAccess",e=>e.isCollapsed]))return;a=e.isCollapsed||!1;const c=[],u=e.rangeCount||0;for(let t=0;t<u;t++){const i=e.getRangeAt(t),{startContainer:a,startOffset:u,endContainer:l,endOffset:d}=i;Pc(a,r,o,s,!0)||Pc(l,r,o,s,!0)||c.push({start:n.getId(a),startOffset:u,end:n.getId(l),endOffset:d})}i({ranges:c})}));return c(),Ec("selectionchange",c)}(e),m=function({doc:e,customElementCb:t}){const n=e.defaultView;return n&&n.customElements?Mc(n.customElements,"define",(function(e){return function(n,r,o){try{t({define:{name:n}})}catch(e){}return e.apply(this,[n,r,o])}})):()=>{}}(e),g=[];for(const t of e.plugins)g.push(t.observer(t.callback,n,t.options));return hu((()=>{mu.forEach((e=>e.reset())),r.disconnect(),o(),s(),i(),a(),c(),u(),l(),d(),p(),h(),f(),m(),g.forEach((e=>e()))}))}function Cu(e){return void 0!==window[e]}function Iu(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ru{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(e,t,n,r){const o=n||this.getIdToRemoteIdMap(e),s=r||this.getRemoteIdToIdMap(e);let i=o.get(t);return i||(i=this.generateIdFn(),o.set(t,i),s.set(i,t)),i}getIds(e,t){const n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map((t=>this.getId(e,t,n,r)))}getRemoteId(e,t,n){const r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;const o=r.get(t);return o||-1}getRemoteIds(e,t){const n=this.getRemoteIdToIdMap(e);return t.map((t=>this.getRemoteId(e,t,n)))}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap,void(this.iframeRemoteIdToIdMap=new WeakMap);this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e)}getIdToRemoteIdMap(e){let t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map,this.iframeIdToRemoteIdMap.set(e,t)),t}getRemoteIdToIdMap(e){let t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map,this.iframeRemoteIdToIdMap.set(e,t)),t}}function Mu(e){let t,n=e[0],r=1;for(;r<e.length;){const o=e[r],s=e[r+1];if(r+=2,("optionalAccess"===o||"optionalCall"===o)&&null==n)return;"access"===o||"optionalAccess"===o?(t=n,n=s(n)):"call"!==o&&"optionalCall"!==o||(n=s(((...e)=>n.call(t,...e))),t=void 0)}return n}class Ou{constructor(){this.crossOriginIframeMirror=new Ru(rc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Au{constructor(e){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ru(rc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ru(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e)}addLoadListener(e){this.loadListener=e}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Mu([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument))}handleMessage(e){const t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;const n=this.crossOriginIframeMap.get(e.source);if(!n)return;const r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout)}transformCrossOriginEvent(e,t){switch(t.type){case Kc.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);const n=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,n),this.patchRootIdOnNode(t.data.node,n),{timestamp:t.timestamp,type:Kc.IncrementalSnapshot,data:{source:Xc.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Kc.Meta:case Kc.Load:case Kc.DomContentLoaded:return!1;case Kc.Plugin:return t;case Kc.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case Kc.IncrementalSnapshot:switch(t.data.source){case Xc.Mutation:return t.data.adds.forEach((t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);const n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n)})),t.data.removes.forEach((t=>{this.replaceIds(t,e,["parentId","id"])})),t.data.attributes.forEach((t=>{this.replaceIds(t,e,["id"])})),t.data.texts.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Xc.Drag:case Xc.TouchMove:case Xc.MouseMove:return t.data.positions.forEach((t=>{this.replaceIds(t,e,["id"])})),t;case Xc.ViewportResize:return!1;case Xc.MediaInteraction:case Xc.MouseInteraction:case Xc.Scroll:case Xc.CanvasMutation:case Xc.Input:return this.replaceIds(t.data,e,["id"]),t;case Xc.StyleSheetRule:case Xc.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case Xc.Font:return t;case Xc.Selection:return t.data.ranges.forEach((t=>{this.replaceIds(t,e,["start","end"])})),t;case Xc.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),Mu([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t((t=>{this.replaceStyleIds(t,e,["styleId"])}))]),t}}return!1}replace(e,t,n,r){for(const o of r)(Array.isArray(t[o])||"number"==typeof t[o])&&(Array.isArray(t[o])?t[o]=e.getIds(n,t[o]):t[o]=e.getId(n,t[o]));return t}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n)}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n)}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach((e=>{this.replaceIdOnNode(e,t)}))}patchRootIdOnNode(e,t){e.type===Ha.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach((e=>{this.patchRootIdOnNode(e,t)}))}}class Lu{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Du{constructor(e){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(e,t){if(!za(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e);const n=yu({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push((()=>n.disconnect())),this.restoreHandlers.push(_u({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),Jc((()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(Eu({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e))}),0)}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument)}patchAttachShadow(e,t){const n=this;this.restoreHandlers.push(Mc(e.prototype,"attachShadow",(function(e){return function(r){const o=e.call(this,r);return this.shadowRoot&&Yc(this)&&n.addShadowRoot(this.shadowRoot,t),o}})))}reset(){this.restoreHandlers.forEach((e=>{try{e()}catch(e){}})),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Nu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}}class Pu{constructor(e){this.trackedLinkElements=new WeakSet,this.styleMirror=new qc,this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e)}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e))}adoptStyleSheets(e,t){if(0===e.length)return;const n={id:t,styleIds:[]},r=[];for(const t of e){let e;this.styleMirror.has(t)?e=this.styleMirror.getId(t):(e=this.styleMirror.add(t),r.push({styleId:e,rules:Array.from(t.rules||CSSRule,((e,t)=>({rule:Ya(e),index:t})))})),n.styleIds.push(e)}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(e){}}class Bu{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){!function(...e){Vc("requestAnimationFrame")(...e)}((()=>{this.clear(),this.loop&&this.periodicallyClear()}))}inOtherBuffer(e,t){const n=this.nodeMap.get(e);return n&&Array.from(n).some((e=>e!==t))}add(e,t){this.nodeMap.set(e,(this.nodeMap.get(e)||new Set).add(t))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}let Fu,$u;const ju=new Ga;function Uu(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:p=null,unmaskTextSelector:h=null,inlineStylesheet:f=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,maxCanvasSize:S=null,packFn:w,sampling:k={},dataURLOptions:x={},mousemoveWait:E,recordCanvas:T=!1,recordCrossOriginIframes:C=!1,recordAfter:I=("DOMContentLoaded"===e.recordAfter?e.recordAfter:"load"),userTriggeredOnInput:R=!1,collectFonts:M=!1,inlineImages:O=!1,plugins:A,keepIframeSrcFn:L=()=>!1,ignoreCSSAttributes:D=new Set([]),errorHandler:N,onMutation:P,getCanvasManager:B}=e;du(N);const F=!C||window.parent===window;let $=!1;if(!F)try{window.parent.document&&($=!1)}catch(e){$=!0}if(F&&!t)throw new Error("emit function is required");void 0!==E&&void 0===k.mousemove&&(k.mousemove=E),ju.reset();const j=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},U=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};let H;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{let t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0}while(t=t&&t.parentNode);return!1})}();let q=0;const z=e=>{for(const t of A||[])t.eventProcessor&&(e=t.eventProcessor(e));return w&&!$&&(e=w(e)),e};Fu=(e,o)=>{const s=e;if(s.timestamp=Oc(),!Hi([mu,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||s.type===Kc.FullSnapshot||s.type===Kc.IncrementalSnapshot&&s.data.source===Xc.Mutation||mu.forEach((e=>e.unfreeze())),F)Hi([t,"optionalCall",e=>e(z(s),o)]);else if($){const e={type:"rrweb",event:z(s),origin:window.location.origin,isCheckout:o};window.parent.postMessage(e,"*")}if(s.type===Kc.FullSnapshot)H=s,q=0;else if(s.type===Kc.IncrementalSnapshot){if(s.data.source===Xc.Mutation&&s.data.isAttachIframe)return;q++;const e=r&&q>=r,t=n&&H&&s.timestamp-H.timestamp>n;(e||t)&&Q(!0)}};const W=e=>{Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.Mutation,...e}})},Y=e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.Scroll,...e}}),G=e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.CanvasMutation,...e}}),V=new Pu({mutationCb:W,adoptedStyleSheetCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.AdoptedStyleSheet,...e}})}),J="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new Ou:new Au({mirror:ju,mutationCb:W,stylesheetManager:V,recordCrossOriginIframes:C,wrappedEmit:Fu});for(const e of A||[])e.getMirror&&e.getMirror({nodeMirror:ju,crossOriginIframeMirror:J.crossOriginIframeMirror,crossOriginIframeStyleMirror:J.crossOriginIframeStyleMirror});const K=new Bu,X=function(e,t){try{return e?e(t):new Nu}catch(e){return console.warn("Unable to initialize CanvasManager"),new Nu}}(B,{mirror:ju,win:window,mutationCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.CanvasMutation,...e}}),recordCanvas:T,blockClass:o,blockSelector:s,unblockSelector:i,maxCanvasSize:S,sampling:k.canvas,dataURLOptions:x,errorHandler:N}),Z="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Lu:new Du({mutationCb:W,scrollCb:Y,bypassOptions:{onMutation:P,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskInputOptions:j,dataURLOptions:x,maskAttributeFn:v,maskTextFn:b,maskInputFn:_,recordCanvas:T,inlineImages:O,sampling:k,slimDOMOptions:U,iframeManager:J,stylesheetManager:V,canvasManager:X,keepIframeSrcFn:L,processedNodeManager:K},mirror:ju}),Q=(e=!1)=>{Fu({type:Kc.Meta,data:{href:window.location.href,width:Dc(),height:Lc()}},e),V.reset(),Z.init(),mu.forEach((e=>e.lock()));const t=function(e,t){const{mirror:n=new Ga,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:s=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:p=!1,recordCanvas:h=!1,maskAllInputs:f=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:_,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:T=()=>!1}=t||{};return kc(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===f?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===f?{}:f,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:_,inlineImages:p,recordCanvas:h,preserveWhiteSpace:b,onSerialize:S,onIframeLoad:w,iframeLoadTimeout:k,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:T,newlyAddedElement:!1})}(document,{mirror:ju,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,inlineStylesheet:f,maskAllInputs:j,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,slimDOM:U,dataURLOptions:x,recordCanvas:T,inlineImages:O,onSerialize:e=>{jc(e,ju)&&J.addIframe(e),Uc(e,ju)&&V.trackLinkElement(e),Hc(e)&&Z.addShadowRoot(e.shadowRoot,document)},onIframeLoad:(e,t)=>{J.attachIframe(e,t),Z.observeAttachShadow(e)},onStylesheetLoad:(e,t)=>{V.attachLinkElement(e,t)},keepIframeSrcFn:L});if(!t)return console.warn("Failed to snapshot the document");Fu({type:Kc.FullSnapshot,data:{node:t,initialOffset:Ac(window)}}),mu.forEach((e=>e.unlock())),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&V.adoptStyleSheets(document.adoptedStyleSheets,ju.getId(document))};$u=Q;try{const e=[],t=e=>hu(Tu)({onMutation:P,mutationCb:W,mousemoveCb:(e,t)=>Fu({type:Kc.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.MouseInteraction,...e}}),scrollCb:Y,viewportResizeCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.ViewportResize,...e}}),inputCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.Input,...e}}),mediaInteractionCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.MediaInteraction,...e}}),styleSheetRuleCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.StyleSheetRule,...e}}),styleDeclarationCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.StyleDeclaration,...e}}),canvasMutationCb:G,fontCb:e=>Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.Font,...e}}),selectionCb:e=>{Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.Selection,...e}})},customElementCb:e=>{Fu({type:Kc.IncrementalSnapshot,data:{source:Xc.CustomElement,...e}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:p,unmaskTextSelector:h,maskInputOptions:j,inlineStylesheet:f,sampling:k,recordCanvas:T,inlineImages:O,userTriggeredOnInput:R,collectFonts:M,doc:e,maskAttributeFn:v,maskInputFn:_,maskTextFn:b,keepIframeSrcFn:L,blockSelector:s,unblockSelector:i,slimDOMOptions:U,dataURLOptions:x,mirror:ju,iframeManager:J,stylesheetManager:V,shadowDomManager:Z,processedNodeManager:K,canvasManager:X,ignoreCSSAttributes:D,plugins:Hi([A,"optionalAccess",e=>e.filter,"call",e=>e((e=>e.observer)),"optionalAccess",e=>e.map,"call",e=>e((e=>({observer:e.observer,options:e.options,callback:t=>Fu({type:Kc.Plugin,data:{plugin:e.name,payload:t}})})))])||[]},{});J.addLoadListener((n=>{try{e.push(t(n.contentDocument))}catch(e){console.warn(e)}}));const n=()=>{Q(),e.push(t(document))};return"interactive"===document.readyState||"complete"===document.readyState?n():(e.push(Ec("DOMContentLoaded",(()=>{Fu({type:Kc.DomContentLoaded,data:{}}),"DOMContentLoaded"===I&&n()}))),e.push(Ec("load",(()=>{Fu({type:Kc.Load,data:{}}),"load"===I&&n()}),window))),()=>{e.forEach((e=>e())),K.destroy(),$u=void 0,pu()}}catch(e){console.warn(e)}}Uu.mirror=ju,Uu.takeFullSnapshot=function(e){if(!$u)throw new Error("please take full snapshot after start recording");$u(e)};function Hu(e){return e>9999999999?e:1e3*e}function qu(e){return e>9999999999?e/1e3:e}function zu(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate((()=>(e.throttledAddEvent({type:Kc.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:Nt(t,10,1e3)}}),"console"===t.category))))}function Wu(e){return e.closest("button,a")||e}function Yu(e){const t=Gu(e);return t&&t instanceof Element?Wu(t):t}function Gu(e){return function(e){return"object"==typeof e&&!!e&&"target"in e}(e)?e.target:e}let Vu;function Ju(e){return Vu||(Vu=[],le(Da,"open",(function(e){return function(...t){if(Vu)try{Vu.forEach((e=>e()))}catch(e){}return e.apply(Da,t)}}))),Vu.push(e),()=>{const t=Vu?Vu.indexOf(e):-1;t>-1&&Vu.splice(t,1)}}class Ku{constructor(e,t,n=zu){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n}addListeners(){const e=Ju((()=>{this._lastMutation=Zu()}));this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(e,t){if(function(e,t){if(!Xu.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp)}(e))return;const n={timestamp:qu(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some((e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1))||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks())}registerMutation(e=Date.now()){this._lastMutation=qu(e)}registerScroll(e=Date.now()){this._lastScroll=qu(e)}registerClick(e){const t=Wu(e);this._handleMultiClick(t)}_handleMultiClick(e){this._getClicks(e).forEach((e=>{e.clickCount++}))}_getClicks(e){return this._clicks.filter((t=>t.node===e))}_checkClicks(){const e=[],t=Zu();this._clicks.forEach((n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n)}));for(const t of e){const e=this._clicks.indexOf(t);e>-1&&(this._generateBreadcrumbs(t),this._clicks.splice(e,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(e){const t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,o=!n&&!r,{clickCount:s,clickBreadcrumb:i}=e;if(o){const n=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),r=n<1e3*this._timeout?"mutation":"timeout",o={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.slowClickDetected",data:{...i.data,url:Da.location.href,route:t.getCurrentRoute(),timeAfterClickMs:n,endReason:r,clickCount:s||1}};this._addBreadcrumbEvent(t,o)}else if(s>1){const e={type:"default",message:i.message,timestamp:i.timestamp,category:"ui.multiClick",data:{...i.data,url:Da.location.href,route:t.getCurrentRoute(),clickCount:s,metric:!0}};this._addBreadcrumbEvent(t,e)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout((()=>this._checkClicks()),1e3)}}const Xu=["A","BUTTON","INPUT"];function Zu(){return Date.now()/1e3}function Qu(e,t){try{if(!function(e){return 3===e.type}(t))return;const{source:n}=t.data;if(n===Xc.Mutation&&e.registerMutation(t.timestamp),n===Xc.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===Xc.MouseInteraction}(t)){const{type:n,id:r}=t.data,o=Uu.mirror.getNode(r);o instanceof HTMLElement&&n===Zc.Click&&e.registerClick(o)}}catch(e){}}function el(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var tl;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(tl||(tl={}));const nl=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function rl(e){const t={};for(const n in e)if(nl.has(n)){let r=n;"data-testid"!==n&&"data-test-id"!==n||(r="testId"),t[r]=e[n]}return t}const ol=e=>t=>{if(!e.isEnabled())return;const n=function(e){const{target:t,message:n}=function(e){const t="click"===e.name;let n,r=null;try{r=t?Yu(e.event):Gu(e.event),n=ee(r,{maxStringLength:200})||"<unknown>"}catch(e){n="<unknown>"}return{target:r,message:n}}(e);return el({category:`ui.${e.name}`,...sl(t,n)})}(t);if(!n)return;const r="click"===t.name,o=r?t.event:void 0;!(r&&e.clickDetector&&o&&o.target)||o.altKey||o.metaKey||o.ctrlKey||o.shiftKey||function(e,t,n){e.handleClick(t,n)}(e.clickDetector,n,Yu(t.event)),zu(e,n)};function sl(e,t){const n=Uu.mirror.getId(e),r=n&&Uu.mirror.getNode(n),o=r&&Uu.mirror.getMeta(r),s=o&&function(e){return e.type===tl.Element}(o)?o:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map((e=>e.type===tl.Text&&e.textContent)).filter(Boolean).map((e=>e.trim())).join(""),attributes:rl(s.attributes)}}:{}}}function il(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=function(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s,target:i}=e;if(!i||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable}(i)||!s)return null;const a=t||r||o,c=1===s.length;if(!a&&c)return null;const u=ee(i,{maxStringLength:200})||"<unknown>",l=sl(i,u);return el({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s}})}(t);n&&zu(e,n)}const al={resource:function(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:s,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:ul(s),end:ul(o),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}},paint:function(e){const{duration:t,entryType:n,name:r,startTime:o}=e,s=ul(o);return{type:n,name:r,start:s,end:s+t,data:void 0}},navigation:function(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:s,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:p,startTime:h,transferSize:f,type:m}=e;if(0===o)return null;return{type:`${t}.${m}`,start:ul(h),end:ul(s),name:n,data:{size:f,decodedBodySize:r,encodedBodySize:i,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:s,redirectCount:p}}}};function cl(e){return al[e.entryType]?al[e.entryType](e):null}function ul(e){return(($e||Da.performance.timeOrigin)+e)/1e3}function ll(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t)}function n({entries:e}){e.forEach(t)}const r=[];return["navigation","paint","resource"].forEach((e=>{r.push(xa(e,n))})),r.push(ka((({metric:t})=>{e.replayPerformanceEntries.push(function(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,o=e.value,s=ul(o);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:o,size:o,nodeId:r?Uu.mirror.getId(r):void 0}}}(t))}))),()=>{r.forEach((e=>e()))}}const dl="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function pl(e,t){dl&&(B.info(e),t&&fl(e))}function hl(e,t){dl&&(B.info(e),t&&setTimeout((()=>{fl(e)}),0))}function fl(e){Yt({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class ml extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.")}}class gl{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(e){const t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>$a)throw new ml;this.events.push(e)}finish(){return new Promise((e=>{const t=this.events;this.clear(),e(JSON.stringify(t))}))}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const e=this.events.map((e=>e.timestamp)).sort()[0];return e?Hu(e):null}}class yl{constructor(e){this._worker=e,this._id=0}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise(((e,t)=>{this._worker.addEventListener("message",(({data:n})=>{n.success?e():t()}),{once:!0}),this._worker.addEventListener("error",(e=>{t(e)}),{once:!0})}))),this._ensureReadyPromise}destroy(){pl("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(e,t){const n=this._getAndIncrementId();return new Promise(((r,o)=>{const s=({data:t})=>{const i=t;if(i.method===e&&i.id===n){if(this._worker.removeEventListener("message",s),!i.success)return dl&&B.error("[Replay]",i.response),void o(new Error("Error in compression worker"));r(i.response)}};this._worker.addEventListener("message",s),this._worker.postMessage({id:n,method:e,arg:t})}))}_getAndIncrementId(){return this._id++}}class vl{constructor(e){this._worker=new yl(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(e){const t=Hu(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);const n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>$a?Promise.reject(new ml):this._sendEventToWorker(n)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,(e=>{dl&&B.warn('[Replay] Sending "clear" message to worker failed',e)}))}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e)}async _finishRequest(){const e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e}}class _l{constructor(e){this._fallback=new gl,this._compression=new vl(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(e){this._used.hasCheckout=e}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(e){return this._used.addEvent(e)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(e){return void pl("[Replay] Failed to load the compression worker, falling back to simple buffer")}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:e,hasCheckout:t}=this._fallback,n=[];for(const t of e)n.push(this._compression.addEvent(t));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n)}catch(e){dl&&B.warn("[Replay] Failed to add events when switching buffers.",e)}}}function bl({useCompression:e,workerUrl:t}){if(e&&window.Worker){const e=function(e){try{const t=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){const e=new Blob(['var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});']);return URL.createObjectURL(e)}();return""}();if(!t)return;pl("[Replay] Using compression worker"+(e?` from ${e}`:""));const n=new Worker(t);return new _l(n)}catch(e){pl("[Replay] Failed to create compression worker")}}(t);if(e)return e}return pl("[Replay] Using simple buffer"),new gl}function Sl(){try{return"sessionStorage"in Da&&!!Da.sessionStorage}catch(e){return!1}}function wl(e){!function(){if(!Sl())return;try{Da.sessionStorage.removeItem(Na)}catch(e){}}(),e.session=void 0}function kl(e){return void 0!==e&&Math.random()<e}function xl(e){const t=Date.now();return{id:e.id||_e(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId}}function El(e){if(Sl())try{Da.sessionStorage.setItem(Na,JSON.stringify(e))}catch(e){}}function Tl({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=function(e,t){return kl(e)?"session":!!t&&"buffer"}(e,t),s=xl({sampled:o,previousSessionId:r});return n&&El(s),s}function Cl(e,t,n=+new Date){return null===e||void 0===t||t<0||0!==t&&e+t<=n}function Il(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Cl(e.started,t,r)||Cl(e.lastActivity,n,r)}function Rl(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!Il(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId)}function Ml({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},o){const s=o.stickySession&&function(e){if(!Sl())return null;try{const t=Da.sessionStorage.getItem(Na);if(!t)return null;const n=JSON.parse(t);return hl("[Replay] Loading existing session",e),xl(n)}catch(e){return null}}(e);return s?Rl(s,{sessionIdleExpire:t,maxReplayDuration:n})?(hl("[Replay] Session in sessionStorage is expired, creating new one..."),Tl(o,{previousSessionId:s.id})):s:(hl("[Replay] Creating new session",e),Tl(o,{previousSessionId:r}))}function Ol(e,t,n){return!!Ll(e,t)&&(Al(e,t,n),!0)}async function Al(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=function(e,t){try{if("function"==typeof t&&function(e){return e.type===Kc.Custom}(e))return t(e)}catch(e){return dl&&B.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",e),null}return e}(t,e.getOptions().beforeAddRecordingEvent);if(!r)return;return await e.eventBuffer.addEvent(r)}catch(t){const n=t&&t instanceof ml?"addEventSizeExceeded":"addEvent";dl&&B.error(t),await e.stop({reason:n});const r=an();r&&r.recordDroppedEvent("internal_sdk_error","replay")}}function Ll(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Hu(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(pl(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1))}function Dl(e){return!e.type}function Nl(e){return"transaction"===e.type}function Pl(e){return"feedback"===e.type}function Bl(e){const t=function(){const e=an();if(!e)return!1;const t=e.getTransport();if(!t)return!1;return t.send.__sentry__baseTransport__||!1}();return(n,r)=>{if(!e.isEnabled()||!Dl(n)&&!Nl(n))return;const o=r&&r.statusCode;t&&(!o||o<200||o>=300)||(Nl(n)?function(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}(e,n):function(e,t){const n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;setTimeout((()=>{e.sendBufferedReplayOrFlush()}))}(e,n))}}function Fl(e){return t=>{e.isEnabled()&&Dl(t)&&function(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){zu(e,el({category:"replay.hydrate-error"}))}}(e,t)}}function $l(e,t=!1){const n=t?Bl(e):void 0;return Object.assign(((t,r)=>{if(!e.isEnabled())return t;if(function(e){return"replay_event"===e.type}(t))return delete t.breadcrumbs,t;if(!Dl(t)&&!Nl(t)&&!Pl(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(Pl(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate((()=>!t.timestamp||(e.throttledAddEvent({type:Kc.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1)))}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__)}(t,r)&&!e.getOptions()._experiments.captureExceptions)return dl&&B.log("[Replay] Ignoring error from rrweb internals",t),null;const o=function(e,t){return"buffer"===e.recordingMode&&t.message!==Pa&&!(!t.exception||t.type)&&kl(e.getOptions().errorSampleRate)}(e,t);return(o||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),n&&n(t,{statusCode:200}),t}),{id:"Replay"})}function jl(e,t){return t.map((({type:t,start:n,end:r,name:o,data:s})=>{const i=e.throttledAddEvent({type:Kc.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:o,startTimestamp:n,endTimestamp:r,data:s}}});return"string"==typeof i?Promise.resolve(null):i}))}function Ul(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate((()=>(jl(e,[n]),!1))))}}function Hl(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!dl||!e.getOptions()._experiments.traceInternals)&&qi(t,an())}(e,t.name)||e.addUpdate((()=>(jl(e,[t]),!0))))}function ql(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,o=r[Kr];if(!t||!n||!o)return null;const{method:s,url:i,status_code:a}=o;return void 0===i?null:{type:"resource.xhr",name:i,start:t/1e3,end:n/1e3,data:{method:s,statusCode:a}}}(t);Hl(e,n)}}function zl(e,t){if(e)try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Zl(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch(e){}}function Wl(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Yl(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Zl(e)];if(!e)return[void 0]}catch(t){return dl&&B.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return dl&&B.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Gl(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Vl(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:s,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:ye({method:s,statusCode:i,request:a,response:c})}}function Jl(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Kl(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:s}=function(e){if(!e||"string"!=typeof e)return{body:e};const t=e.length>Ba,n=function(e){const t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n}(e);if(t){const t=e.slice(0,Ba);return n?{body:t,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${t}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch(e){}return{body:e}}(n);return r.body=o,s&&s.length>0&&(r._meta={warnings:s}),r}function Xl(e,t){return Object.keys(e).reduce(((n,r)=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=e[r]),n}),{})}function Zl(e){return new URLSearchParams(e).toString()}function Ql(e,t){const n=function(e,t=Da.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(Da.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r}(e);return ue(n,t)}async function ed(e,t,n){try{const r=await async function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=Ql(i,n.networkDetailAllowUrls)&&!Ql(i,n.networkDetailDenyUrls),p=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return rd(e[0],t);if(2===e.length)return rd(e[1],t);return{}}(n,t):{};if(!e)return Kl(o,r,void 0);const s=td(n),[i,a]=Yl(s),c=Kl(o,r,i);if(a)return Gl(c,a);return c}(n,t.input,u):Jl(u),h=await async function(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},o,s){if(!e&&void 0!==s)return Jl(s);const i=o?nd(o.headers,r):{};if(!o||!t&&void 0!==s)return Kl(i,s,void 0);const[a,c]=await async function(e){const t=function(e){try{return e.clone()}catch(e){dl&&B.warn("[Replay] Failed to clone response body",e)}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{const e=await function(e){return new Promise(((t,n)=>{const r=setTimeout((()=>n(new Error("Timeout while trying to read response body"))),500);(async function(e){return await e.text()})(e).then((e=>t(e)),(e=>n(e))).finally((()=>clearTimeout(r)))}))}(t);return[e]}catch(e){return dl&&B.warn("[Replay] Failed to get text body from response",e),[void 0,"BODY_PARSE_ERROR"]}}(o),u=function(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:o,headers:s}){try{const i=e&&e.length&&void 0===r?zl(e,n):r;return o?Kl(s,i,t?e:void 0):Jl(i)}catch(e){return dl&&B.warn("[Replay] Failed to serialize response body",e),Kl(s,r,void 0)}}(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:s,captureDetails:e,headers:i});if(c)return Gl(u,c);return u}(d,n,t.response,l);return{startTimestamp:o,endTimestamp:s,url:i,method:a,statusCode:c,request:p,response:h}}(e,t,n),o=Vl("resource.fetch",r);Hl(n.replay,o)}catch(e){dl&&B.error("[Replay] Failed to capture fetch breadcrumb",e)}}function td(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body}function nd(e,t){const n={};return t.forEach((t=>{e.get(t)&&(n[t]=e.get(t))})),n}function rd(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?nd(n,t):Array.isArray(n)?{}:Xl(n,t):{}}async function od(e,t,n){try{const r=function(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r,input:i,xhr:a}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:p}=e.data;if(!c)return null;if(!a||!Ql(c,n.networkDetailAllowUrls)||Ql(c,n.networkDetailDenyUrls)){return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:Jl(d),response:Jl(p)}}const h=a[Kr],f=h?Xl(h.request_headers,n.networkRequestHeaders):{},m=Xl(function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n.toLowerCase()]=r,e}),{})}(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?Yl(i):[void 0],[v,_]=n.networkCaptureBodies?function(e){const t=[];try{return[e.responseText]}catch(e){t.push(e)}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0]}catch(t){return dl&&B.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return dl&&B.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}(e.response,e.responseType)}catch(e){t.push(e)}return dl&&B.warn("[Replay] Failed to get xhr response body",...t),[void 0]}(a):[void 0],b=Kl(f,d,g),S=Kl(m,p,v);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:l,request:y?Gl(b,y):b,response:_?Gl(S,_):S}}(e,t,n),o=Vl("resource.xhr",r);Hl(n.replay,o)}catch(e){dl&&B.error("[Replay] Failed to capture xhr breadcrumb",e)}}function sd(e,t,n){const{xhr:r,input:o}=t;if(!r)return;const s=zl(o,n.textEncoder),i=r.getResponseHeader("content-length")?Wl(r.getResponseHeader("content-length")):function(e,t,n){try{return zl("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e,n)}catch(e){return}}(r.response,r.responseType,n.textEncoder);void 0!==s&&(e.data.request_body_size=s),void 0!==i&&(e.data.response_body_size=i)}function id(e){const t=an();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:o,networkCaptureBodies:s,networkRequestHeaders:i,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",((e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category})(t)&&function(e){return e&&e.xhr}(n)&&(sd(t,n,e),od(t,n,e)),function(e){return"fetch"===e.category}(t)&&function(e){return e&&e.response}(n)&&(!function(e,t,n){const{input:r,response:o}=t,s=zl(r?td(r):void 0,n.textEncoder),i=o?Wl(o.headers.get("content-length")):void 0;void 0!==s&&(e.data.request_body_size=s),void 0!==i&&(e.data.response_body_size=i)}(t,n,e),ed(t,n,e))}catch(e){dl&&B.warn("Error when enriching network breadcrumb")}}(c,e,t))):(Qr(function(e){return t=>{if(!e.isEnabled())return;const n=function(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:o}=e;if(!n)return null;const{method:s,url:i}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:i,data:{method:s,statusCode:o?o.status:void 0}}}(t);Hl(e,n)}}(e)),Xr(ql(e)))}catch(e){}}let ad=null;const cd=e=>t=>{if(!e.isEnabled())return;const n=function(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();if(ad===t||!t)return null;if(ad=t,!function(e){return!!e.category}(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))return null;if("console"===t.category)return function(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return el(e);let n=!1;const r=t.map((e=>{if(!e)return e;if("string"==typeof e)return e.length>Fa?(n=!0,`${e.slice(0,Fa)}`):e;if("object"==typeof e)try{const t=Nt(e,7);return JSON.stringify(t).length>Fa?(n=!0,`${JSON.stringify(t,null,2).slice(0,Fa)}`):t}catch(e){}return e}));return el({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}(t);return el(t)}(t);n&&zu(e,n)};function ud(e){return!(!e||!e.on)}function ld(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function dd(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(dl&&B.warn("[Replay] Received replay event after session expired."));const o=r||!t;t=!0,e.clickDetector&&Qu(e.clickDetector,n),e.addUpdate((()=>{if("buffer"===e.recordingMode&&o&&e.setInitialState(),!Ol(e,n,o))return!0;if(!o)return!1;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;Ol(e,function(e){const t=e.getOptions();return{type:Kc.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}(e),!1)}(e,o),e.session&&e.session.previousSessionId)return!0;if("buffer"===e.recordingMode&&e.session&&e.eventBuffer){const t=e.eventBuffer.getEarliestTimestamp();t&&(pl(`[Replay] Updating session start time to earliest event in buffer to ${new Date(t)}`,e.getOptions()._experiments.traceInternals),e.session.started=t,e.getOptions().stickySession&&El(e.session))}return"session"===e.recordingMode&&e.flush(),!0}))}}async function pd({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:s}){const i=function({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{const t=(new TextEncoder).encode(r);n=new Uint8Array(t.length+e.length),n.set(t),n.set(e,t.length)}return n}({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=an(),p=un(),h=d&&d.getTransport(),f=d&&d.getDsn();if(!(d&&h&&f&&s.sampled))return;const m={type:"replay_event",replay_start_timestamp:l/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){const o={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit&&e.emit("preprocessEvent",r,o);const s=await Ft(e.getOptions(),r,o,t,e,kt());if(!s)return null;s.platform=s.platform||"javascript";const i=e.getSdkMetadata&&e.getSdkMetadata(),{name:a,version:c}=i&&i.sdk||{};return s.sdk={...s.sdk,name:a||"sentry.javascript.unknown",version:c||"0.0.0"},s}({scope:p,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay",m),void pl("An event processor returned `null`, will not send event.");delete g.sdkProcessingMetadata;const y=function(e,t,n,r){return tr(lr(e,ur(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?(new TextEncoder).encode(t).length:t.length},t]])}(g,i,f,d.getOptions().tunnel);let v;try{v=await h.send(y)}catch(e){const t=new Error(Pa);try{t.cause=e}catch(e){}throw t}if(!v)return v;if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new hd(v.statusCode);const _=ms({},v);if(fs(_,"replay"))throw new fd(_);return v}class hd extends Error{constructor(e){super(`Transport returned status code ${e}`)}}class fd extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e}}async function md(e,t={count:0,interval:5e3}){const{recordingData:n,options:r}=e;if(n.length)try{return await pd(e),!0}catch(n){if(n instanceof hd||n instanceof fd)throw n;if(Gt("Replays",{_retryCount:t.count}),dl&&r._experiments&&r._experiments.captureExceptions&&Ht(n),t.count>=3){const e=new Error(`${Pa} - max retries exceeded`);try{e.cause=n}catch(e){}throw e}return t.interval*=++t.count,new Promise(((n,r)=>{setTimeout((async()=>{try{await md(e,t),n(!0)}catch(e){r(e)}}),t.interval)}))}}const gd="__THROTTLED";function yd(e,t,n){const r=new Map;let o=!1;return(...s)=>{const i=Math.floor(Date.now()/1e3);if((e=>{const t=e-n;r.forEach(((e,n)=>{n<t&&r.delete(n)}))})(i),[...r.values()].reduce(((e,t)=>e+t),0)>=t){const e=o;return o=!0,e?"__SKIPPED":gd}o=!1;const a=r.get(i)||0;return r.set(i,a+1),e(...s)}}class vd{constructor({options:e,recordingOptions:t}){vd.prototype.__init.call(this),vd.prototype.__init2.call(this),vd.prototype.__init3.call(this),vd.prototype.__init4.call(this),vd.prototype.__init5.call(this),vd.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){let r,o,s;const i=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){void 0!==o&&clearTimeout(o),void 0!==s&&clearTimeout(s),o=s=void 0}function u(){return o&&clearTimeout(o),o=setTimeout(a,t),i&&void 0===s&&(s=setTimeout(a,i)),r}return u.cancel=c,u.flush=function(){return void 0!==o||void 0!==s?a():r},u}((()=>this._flush()),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=yd(((e,t)=>function(e,t,n){return Ll(e,t)?Al(e,t,n):Promise.resolve(null)}(this,e,t)),300,5);const{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),o=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;o&&(this.clickDetector=new Ku(this,o))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return Boolean(this._canvas)}getOptions(){return this._options}initializeSampling(e){const{errorSampleRate:t,sessionSampleRate:n}=this._options;t<=0&&n<=0||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",hl(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording()):this._handleException(new Error("Unable to initialize and create session")))}start(){if(this._isEnabled&&"session"===this.recordingMode)throw new Error("Replay recording is already in progress");if(this._isEnabled&&"buffer"===this.recordingMode)throw new Error("Replay buffering is in progress, call `flush()` to save the replay");hl("[Replay] Starting replay in session mode",this._options._experiments.traceInternals),this._updateUserActivity();const e=Ml({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");hl("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const e=Ml({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const e=this._canvas;this._stopRecording=Uu({...this._recordingOptions,..."buffer"===this.recordingMode&&{checkoutEveryNms:6e4},emit:dd(this),onMutation:this._onMutationHandler,...e?{recordCanvas:e.recordCanvas,getCanvasManager:e.getCanvasManager,sampling:e.sampling,dataURLOptions:e.dataURLOptions}:{}})}catch(e){this._handleException(e)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(e){return this._handleException(e),!1}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{pl("[Replay] Stopping Replay"+(t?` triggered by ${t}`:""),this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,wl(this)}catch(e){this._handleException(e)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),pl("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),pl("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();const t=Date.now();pl("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording())}addUpdate(e){const t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume()}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(!(this._lastActivity&&Cl(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause()}setInitialState(){const e=`${Da.location.pathname}${Da.location.hash}${Da.location.search}`,t=`${Da.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t)}throttledAddEvent(e,t){const n=this._throttledAddEvent(e,t);if(n===gd){const e=el({category:"replay.throttled"});this.addUpdate((()=>!Ol(this,{type:5,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e,metric:!0}})))}return n}getCurrentRoute(){const e=this.lastTransaction||un().getTransaction(),t=(e&&it(e).data||{})[Hs];if(e&&t&&["route","custom"].includes(t))return it(e).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=bl({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(e){dl&&B.error("[Replay]",e),dl&&this._options._experiments&&this._options._experiments.captureExceptions&&Ht(e)}_initializeSessionForSampling(e){const t=this._options.errorSampleRate>0,n=Ml({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n}_checkSession(){if(!this.session)return!1;const e=this.session;return!Rl(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1)}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id))}_addListeners(){try{Da.document.addEventListener("visibilitychange",this._handleVisibilityChange),Da.addEventListener("blur",this._handleWindowBlur),Da.addEventListener("focus",this._handleWindowFocus),Da.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){const t=un(),n=an();t.addScopeListener(cd(e)),Yr(ol(e)),Qn(Ul(e)),id(e);const r=$l(e,!ud(n));n&&n.addEventProcessor?n.addEventProcessor(r):Sr(r),ud(n)&&(n.on("beforeSendEvent",Fl(e)),n.on("afterSendEvent",Bl(e)),n.on("createDsc",(t=>{const n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n)})),n.on("startTransaction",(t=>{e.lastTransaction=t})),n.on("finishTransaction",(t=>{e.lastTransaction=t})),n.on("beforeSendFeedback",((t,n)=>{const r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r)})))}(this),this._hasInitializedCoreListeners=!0)}catch(e){this._handleException(e)}this._performanceCleanupCallback=ll(this)}_removeListeners(){try{Da.document.removeEventListener("visibilitychange",this._handleVisibilityChange),Da.removeEventListener("blur",this._handleWindowBlur),Da.removeEventListener("focus",this._handleWindowFocus),Da.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(e){this._handleException(e)}}__init(){this._handleVisibilityChange=()=>{"visible"===Da.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const e=el({category:"ui.blur"});this._doChangeToBackgroundTasks(e)}}__init3(){this._handleWindowFocus=()=>{const e=el({category:"ui.focus"});this._doChangeToForegroundTasks(e)}}__init4(){this._handleKeyboardEvent=e=>{il(this,e)}}_doChangeToBackgroundTasks(e){if(!this.session)return;Il(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush())}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):pl("[Replay] Document has become active, but session has expired")}_updateUserActivity(e=Date.now()){this._lastActivity=e}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession())}_createCustomBreadcrumb(e){this.addUpdate((()=>{this.throttledAddEvent({type:Kc.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}})}))}_addPerformanceEntries(){const e=(t=this.performanceEntries,t.map(cl).filter(Boolean)).concat(this.replayPerformanceEntries);var t;return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(jl(this,e))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:e,eventBuffer:t}=this;if(!e||!t)return;if(e.segmentId)return;const n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n)}_popEventContext(){const e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e}async _runFlush(){const e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all(jl(e,[ld(Da.performance.memory)]))}catch(e){return[]}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const t=Date.now();if(t-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const n=this._popEventContext(),r=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await md({replayId:e,recordingData:o,segmentId:r,eventContext:n,session:this.session,options:this.getOptions(),timestamp:t})}catch(e){this._handleException(e),this.stop({reason:"sendReplay"});const t=an();t&&t.recordDroppedEvent("send_error","replay")}}else dl&&B.error("[Replay] No session or eventBuffer found to flush.")}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(dl&&B.error("[Replay] Attempting to finish replay event after session expired."));if(!this.session)return;const t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();const r=n<this._options.minReplayDuration,o=n>this._options.maxReplayDuration+5e3;if(r||o)return pl(`[Replay] Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),void(r&&this._debouncedFlush());const s=this.eventBuffer;if(s&&0===this.session.segmentId&&!s.hasCheckout&&pl("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock)return this._flushLock=this._runFlush(),await this._flushLock,void(this._flushLock=void 0);try{await this._flushLock}catch(e){dl&&B.error(e)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&El(this.session)}__init6(){this._onMutationHandler=e=>{const t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){const e=el({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(e)}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1)}}}function _d(e,t,n,r){const o=[...e,..."string"==typeof r?r.split(","):[],...t];return void 0!==n&&("string"==typeof n&&o.push(`.${n}`),P((()=>{console.warn("[Replay] You are using a deprecated configuration item for privacy. Read the documentation on how to use the new privacy configuration.")}))),o.join(",")}const bd='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Sd=["content-length","content-type","accept"];let wd=!1;const kd=e=>new xd(e);class xd{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:o=!0,useCompression:s=!0,workerUrl:i,_experiments:a={},sessionSampleRate:c,errorSampleRate:u,maskAllText:l=!0,maskAllInputs:d=!0,blockAllMedia:p=!0,mutationBreadcrumbLimit:h=750,mutationLimit:f=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:y=[],networkDetailDenyUrls:v=[],networkCaptureBodies:_=!0,networkRequestHeaders:b=[],networkResponseHeaders:S=[],mask:w=[],maskAttributes:k=["title","placeholder"],unmask:x=[],block:E=[],unblock:T=[],ignore:C=[],maskFn:I,beforeAddRecordingEvent:R,beforeErrorSampling:M,blockClass:O,blockSelector:A,maskInputOptions:L,maskTextClass:D,maskTextSelector:N,ignoreClass:P}={}){this.name=xd.id;const B=function({mask:e,unmask:t,block:n,unblock:r,ignore:o,blockClass:s,blockSelector:i,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const l={maskTextSelector:_d(e,[".sentry-mask","[data-sentry-mask]"],a,c),unmaskTextSelector:_d(t,[".sentry-unmask","[data-sentry-unmask]"]),blockSelector:_d(n,[".sentry-block","[data-sentry-block]",'base[href="/"]'],s,i),unblockSelector:_d(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:_d(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(l.blockClass=s),a instanceof RegExp&&(l.maskTextClass=a),l}({mask:w,unmask:x,block:E,unblock:T,ignore:C,blockClass:O,blockSelector:A,maskTextClass:D,maskTextSelector:N,ignoreClass:P});if(this._recordingOptions={maskAllInputs:d,maskAllText:l,maskInputOptions:{...L||{},password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:s}){return r?o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?s:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s:s}({maskAttributes:k,maskAllText:l,privacyOptions:B,key:e,value:t,el:n}),...B,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0}catch(e){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,ja),stickySession:o,sessionSampleRate:c,errorSampleRate:u,useCompression:s,workerUrl:i,blockAllMedia:p,maskAllInputs:d,maskAllText:l,mutationBreadcrumbLimit:h,mutationLimit:f,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:y,networkDetailDenyUrls:v,networkCaptureBodies:_,networkRequestHeaders:Ed(b),networkResponseHeaders:Ed(S),beforeAddRecordingEvent:R,beforeErrorSampling:M,_experiments:a},"number"==typeof c&&(console.warn(`[Replay] You are passing \`sessionSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysSessionSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysSessionSampleRate: ${c} })`),this._initialOptions.sessionSampleRate=c),"number"==typeof u&&(console.warn(`[Replay] You are passing \`errorSampleRate\` to the Replay integration.\nThis option is deprecated and will be removed soon.\nInstead, configure \`replaysOnErrorSampleRate\` directly in the SDK init options, e.g.:\nSentry.init({ replaysOnErrorSampleRate: ${u} })`),this._initialOptions.errorSampleRate=u),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${bd}`:bd),this._isInitialized&&Yi())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return wd}set _isInitialized(e){wd=e}setupOnce(){Yi()&&(this._setup(),setTimeout((()=>this._initialize())))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve()}flush(e){return this._replay&&this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):Promise.resolve()}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId()}_initialize(){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(),this._replay.initializeSampling())}_setup(){const e=function(e){const t=an(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ye(e)};if(!n)return P((()=>{console.warn("SDK client is not available.")})),r;null==e.sessionSampleRate&&null==e.errorSampleRate&&null==n.replaysSessionSampleRate&&null==n.replaysOnErrorSampleRate&&P((()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}));"number"==typeof n.replaysSessionSampleRate&&(r.sessionSampleRate=n.replaysSessionSampleRate);"number"==typeof n.replaysOnErrorSampleRate&&(r.errorSampleRate=n.replaysOnErrorSampleRate);return r}(this._initialOptions);this._replay=new vd({options:e,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(){try{const e=an().getIntegrationByName("ReplayCanvas");if(!e)return;this._replay._canvas=e.getOptions()}catch(e){}}}function Ed(e){return[...Sd,...e.map((e=>e.toLowerCase()))]}function Td(){const e=an();return e&&e.getIntegrationByName&&e.getIntegrationByName("Replay")}xd.__initStatic();var Cd;function Id(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Id(e.parentNode,t,n,r+1):-1}function Rd(e,t){return n=>{const r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0}else if(function(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}(r,e))return!0;return!(!t||!r.matches(t))}catch(e){return!1}}}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Cd||(Cd={}));const Md="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";let Od={map:{},getId:()=>(console.error(Md),-1),getNode:()=>(console.error(Md),null),removeNodeFromMap(){console.error(Md)},has:()=>(console.error(Md),!1),reset(){console.error(Md)}};function Ad(e,t,n,r,o=window){const s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(e){Fd((()=>{n.set.call(this,e)}),0),s&&s.set&&s.set.call(this,e)}}),()=>Ad(e,t,s||{},!0)}function Ld(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return"function"==typeof o&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch(e){return()=>{}}}function Dd(e,t,n,r,o){if(!e)return!1;const s=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null}(e);if(!s)return!1;const i=Rd(t,n);if(!o){const e=r&&s.matches(r);return i(s)&&!e}const a=Id(s,i);let c=-1;return!(a<0)&&(r&&(c=Id(s,Rd(null,r))),a>-1&&c<0||a<c)}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(Od=new Proxy(Od,{get:(e,t,n)=>("map"===t&&console.error(Md),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());const Nd={};function Pd(e){const t=Nd[e];if(t)return t;const n=window.document;let r=window[e];if(n&&"function"==typeof n.createElement)try{const t=n.createElement("iframe");t.hidden=!0,n.head.appendChild(t);const o=t.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(t)}catch(e){}return Nd[e]=r.bind(window)}function Bd(...e){return Pd("requestAnimationFrame")(...e)}function Fd(...e){return Pd("setTimeout")(...e)}var $d=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))($d||{});let jd;const Ud=e=>{if(!jd)return e;return(...t)=>{try{return e(...t)}catch(e){if(jd&&!0===jd(e))return()=>{};throw e}}};for(var Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qd="undefined"==typeof Uint8Array?[]:new Uint8Array(256),zd=0;zd<64;zd++)qd[Hd.charCodeAt(zd)]=zd;const Wd=new Map;const Yd=(e,t,n)=>{if(!e||!Jd(e,t)&&"object"!=typeof e)return;const r=function(e,t){let n=Wd.get(e);return n||(n=new Map,Wd.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}(n,e.constructor.name);let o=r.indexOf(e);return-1===o&&(o=r.length,r.push(e)),o};function Gd(e,t,n){if(e instanceof Array)return e.map((e=>Gd(e,t,n)));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]}}if(e instanceof ArrayBuffer){const t=e.constructor.name,n=function(e){var t,n=new Uint8Array(e),r=n.length,o="";for(t=0;t<r;t+=3)o+=Hd[n[t]>>2],o+=Hd[(3&n[t])<<4|n[t+1]>>4],o+=Hd[(15&n[t+1])<<2|n[t+2]>>6],o+=Hd[63&n[t+2]];return r%3==2?o=o.substring(0,o.length-1)+"=":r%3==1&&(o=o.substring(0,o.length-2)+"=="),o}(e);return{rr_type:t,base64:n}}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[Gd(e.buffer,t,n),e.byteOffset,e.byteLength]}}if(e instanceof HTMLImageElement){const t=e.constructor.name,{src:n}=e;return{rr_type:t,src:n}}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()}}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[Gd(e.data,t,n),e.width,e.height]}}if(Jd(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:Yd(e,t,n)}}return e}const Vd=(e,t,n)=>e.map((e=>Gd(e,t,n))),Jd=(e,t)=>{const n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter((e=>"function"==typeof t[e]));return Boolean(n.find((n=>e instanceof t[n])))};function Kd(e,t,n,r,o){const s=[];try{const i=Ld(e.HTMLCanvasElement.prototype,"getContext",(function(e){return function(s,...i){if(!Dd(this,t,n,r,!0)){const e=function(e){return"experimental-webgl"===e?"webgl":e}(s);if("__context"in this||(this.__context=e),o&&["webgl","webgl2"].includes(e))if(i[0]&&"object"==typeof i[0]){const e=i[0];e.preserveDrawingBuffer||(e.preserveDrawingBuffer=!0)}else i.splice(0,1,{preserveDrawingBuffer:!0})}return e.apply(this,[s,...i])}}));s.push(i)}catch(e){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach((e=>e()))}}function Xd(e,t,n,r,o,s,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const i of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(i))try{if("function"!=typeof e[i])continue;const u=Ld(e,i,(function(e){return function(...c){const u=e.apply(this,c);if(Yd(u,a,this),"tagName"in this.canvas&&!Dd(this.canvas,r,o,s,!0)){const e=Vd(c,a,this),r={type:t,property:i,args:e};n(this.canvas,r)}return u}}));c.push(u)}catch(r){const o=Ad(e,i,{set(e){n(this.canvas,{type:t,property:i,args:[e],setter:!0})}});c.push(o)}return c}class Zd{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(e){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t)};const{sampling:t="all",win:n,blockClass:r,blockSelector:o,unblockSelector:s,maxCanvasSize:i,recordCanvas:a,dataURLOptions:c,errorHandler:u}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,u&&(jd=u),e.enableManualSnapshot||Ud((()=>{a&&"all"===t&&this.initCanvasMutationObserver(n,r,o,s),a&&"number"==typeof t&&this.initCanvasFPSObserver(t,n,r,o,s,i,{dataURLOptions:c})}))()}initCanvasFPSObserver(e,t,n,r,o,s,i){const a=Kd(t,n,r,o,!0),c=this.takeSnapshot(!1,e,t,n,r,o,s,i.dataURLOptions);this.resetObservers=()=>{a(),cancelAnimationFrame(c)}}initCanvasMutationObserver(e,t,n,r){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();const o=Kd(e,t,n,r,!1),s=function(e,t,n,r,o){const s=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[a])continue;const i=Ld(t.CanvasRenderingContext2D.prototype,a,(function(s){return function(...i){return Dd(this.canvas,n,r,o,!0)||Fd((()=>{const n=Vd(i,t,this);e(this.canvas,{type:$d["2D"],property:a,args:n})}),0),s.apply(this,i)}}));s.push(i)}catch(n){const r=Ad(t.CanvasRenderingContext2D.prototype,a,{set(t){e(this.canvas,{type:$d["2D"],property:a,args:[t],setter:!0})}});s.push(r)}return()=>{s.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r),i=function(e,t,n,r,o){const s=[];return s.push(...Xd(t.WebGLRenderingContext.prototype,$d.WebGL,e,n,r,o,0,t)),void 0!==t.WebGL2RenderingContext&&s.push(...Xd(t.WebGL2RenderingContext.prototype,$d.WebGL2,e,n,r,o,0,t)),()=>{s.forEach((e=>e()))}}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.resetObservers=()=>{o(),s(),i()}}snapshot(e){const{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.win,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.resetObservers=()=>{cancelAnimationFrame(n)}}takeSnapshot(e,t,n,r,o,s,i,a,c){const u=new Map,l=new Worker(function(){const e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e)}());l.onmessage=e=>{const t=e.data,{id:n}=t;if(u.set(n,!1),!("base64"in t))return;const{base64:r,type:o,width:s,height:i}=t;this.mutationCb({id:n,type:$d["2D"],commands:[{property:"clearRect",args:[0,0,s,i]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:o}]},0,0,s,i]}]})};const d=1e3/t;let p,h=0;const f=t=>{h&&t-h<d||(h=t,(e=>{if(e)return[e];const t=[];return n.document.querySelectorAll("canvas").forEach((e=>{Dd(e,r,o,s,!0)||t.push(e)})),t})(c).forEach((t=>{const n=this.mirror.getId(t);if(!u.get(n)&&t.width&&t.height){if(u.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){const e=t.getContext(t.__context);!1===Hi([e,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&e.clear(e.COLOR_BUFFER_BIT)}createImageBitmap(t).then((e=>{l.postMessage({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:i},[e])})).catch((e=>{Ud((()=>{throw e}))()}))}}))),p=Bd(f)};return p=Bd(f),p}startPendingCanvasMutationFlusher(){Bd((()=>this.flushPendingCanvasMutations()))}startRAFTimestamping(){const e=t=>{this.rafStamps.latestId=t,Bd(e)};Bd(e)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach(((e,t)=>{const n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n)})),Bd((()=>this.flushPendingCanvasMutations()))}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;const n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;const r=n.map((e=>{const{type:t,...n}=e;return n})),{type:o}=n[0];this.mutationCb({id:t,type:o,commands:r}),this.pendingCanvasMutations.delete(e)}}const Qd={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},ep="ReplayCanvas",tp=1280,np=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,tp):tp,n?Math.min(n,tp):tp]};let o;const s=new Promise((e=>o=e));return{name:ep,setupOnce(){},getOptions(){const{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{const r=new Zd({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0)}catch(e){}}});return o(r),r},...Qd[e||"medium"]||Qd.medium}},async snapshot(e){(await s).snapshot(e)}}},rp=_n(ep,np),op=O,sp="#ffffff",ip="inherit",ap="rgba(108, 95, 199, 1)",cp={fontFamily:"system-ui, 'Helvetica Neue', Arial, sans-serif",fontSize:"14px",background:sp,backgroundHover:"#f6f6f7",foreground:"#2b2233",border:"1.5px solid rgba(41, 35, 47, 0.13)",borderRadius:"25px",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",success:"#268d75",error:"#df3338",submitBackground:"rgba(88, 74, 192, 1)",submitBackgroundHover:ap,submitBorder:ap,submitOutlineFocus:"#29232f",submitForeground:sp,submitForegroundHover:sp,cancelBackground:"transparent",cancelBackgroundHover:"var(--background-hover)",cancelBorder:"var(--border)",cancelOutlineFocus:"var(--input-outline-focus)",cancelForeground:"var(--foreground)",cancelForegroundHover:"var(--foreground)",inputBackground:ip,inputForeground:ip,inputBorder:"var(--border)",inputOutlineFocus:ap,formBorderRadius:"20px",formContentBorderRadius:"6px"},up=cp,lp={...cp,background:"#29232f",backgroundHover:"#352f3b",foreground:"#ebe6ef",border:"1.5px solid rgba(235, 230, 239, 0.15)",success:"#2da98c",error:"#f55459"},dp="widget",pp="api";async function hp({feedback:{message:e,email:t,name:n,source:r,url:o}},{includeReplay:s=!0}={}){const i=an(),a=i&&i.getTransport(),c=i&&i.getDsn();if(!i||!a||!c)return;const u={contexts:{feedback:{contact_email:t,name:n,message:e,url:o,source:r}},type:"feedback"};return Qt((async e=>{e.clearBreadcrumbs(),[pp,dp].includes(String(r))&&e.setLevel("info");const t=await async function({client:e,scope:t,event:n}){const r={};e.emit&&e.emit("preprocessEvent",n,r);const o=await Ft(e.getOptions(),n,r,t,e,kt());return null===o?(e.recordDroppedEvent("event_processor","feedback",n),null):(o.platform=o.platform||"javascript",o)}({scope:e,client:i,event:u});if(!t)return;i.emit&&i.emit("beforeSendFeedback",t,{includeReplay:Boolean(s)});const n=pr(t,c,i.getOptions()._metadata,i.getOptions().tunnel);let o;try{o=await a.send(n)}catch(e){const t=new Error("Unable to send Feedback");try{t.cause=e}catch(e){}throw t}if(o){if("number"==typeof o.statusCode&&(o.statusCode<200||o.statusCode>=300))throw new Error("Unable to send Feedback");return o}}))}function fp({name:e,email:t,message:n,source:r=pp,url:o=ne()},s={}){if(!n)throw new Error("Unable to submit feedback with empty message");return hp({feedback:{name:e,email:t,message:n,url:o,source:r}},s)}const mp="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function gp(e,t){return{...e,...t,themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function yp(e){return`\n  --background: ${e.background};\n  --background-hover: ${e.backgroundHover};\n  --foreground: ${e.foreground};\n  --error: ${e.error};\n  --success: ${e.success};\n  --border: ${e.border};\n  --border-radius: ${e.borderRadius};\n  --box-shadow: ${e.boxShadow};\n\n  --submit-background: ${e.submitBackground};\n  --submit-background-hover: ${e.submitBackgroundHover};\n  --submit-border: ${e.submitBorder};\n  --submit-outline-focus: ${e.submitOutlineFocus};\n  --submit-foreground: ${e.submitForeground};\n  --submit-foreground-hover: ${e.submitForegroundHover};\n\n  --cancel-background: ${e.cancelBackground};\n  --cancel-background-hover: ${e.cancelBackgroundHover};\n  --cancel-border: ${e.cancelBorder};\n  --cancel-outline-focus: ${e.cancelOutlineFocus};\n  --cancel-foreground: ${e.cancelForeground};\n  --cancel-foreground-hover: ${e.cancelForegroundHover};\n\n  --input-background: ${e.inputBackground};\n  --input-foreground: ${e.inputForeground};\n  --input-border: ${e.inputBorder};\n  --input-outline-focus: ${e.inputOutlineFocus};\n\n  --form-border-radius: ${e.formBorderRadius};\n  --form-content-border-radius: ${e.formContentBorderRadius};\n  `}function vp({id:e,colorScheme:t,themeDark:n,themeLight:r}){try{const o=op.document,s=o.createElement("div");s.id=e;const i=s.attachShadow({mode:"open"});return i.appendChild(function(e,t,n){const r=e.createElement("style");return r.textContent=`\n:host {\n  --bottom: 1rem;\n  --right: 1rem;\n  --top: auto;\n  --left: auto;\n  --z-index: 100000;\n  --font-family: ${n.light.fontFamily};\n  --font-size: ${n.light.fontSize};\n\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${yp("dark"===t?n.dark:n.light)}\n}\n\n${"system"===t?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${yp(n.dark)}\n  }\n}`:""}\n}`,r}(o,t,{dark:n,light:r})),i.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.dialog {\n  line-height: 25px;\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  position: fixed;\n  inset: 0;\n  z-index: 10000;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n\n  border: var(--border);\n  border-radius: var(--form-border-radius);\n  background-color: var(--background);\n  color: var(--foreground);\n\n  width: 320px;\n  max-width: 100%;\n  max-height: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow);\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 20px;\n  font-weight: 600;\n  padding: 24px 24px 0 24px;\n  margin: 0;\n  margin-bottom: 16px;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n\n.error {\n  color: var(--error);\n  margin-bottom: 16px;\n}\n\n.form {\n  display: grid;\n  overflow: auto;\n  flex-direction: column;\n  gap: 16px;\n  padding: 0 24px 24px;\n}\n\n.form__error-container {\n  color: var(--error);\n}\n\n.form__error-container--hidden {\n  display: none;\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: grid;\n  gap: 4px;\n  align-items: center;\n  grid-auto-flow: column;\n  grid-auto-columns: max-content;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  line-height: inherit;\n  background-color: var(--input-background);\n  box-sizing: border-box;\n  border: var(--input-border);\n  border-radius: var(--form-content-border-radius);\n  color: var(--input-foreground);\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 500;\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  color: var(--input-foreground);\n  opacity: 0.65;\n}\n\n.form__input:focus-visible {\n  outline: 1px auto var(--input-outline-focus);\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n  margin-top: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--cancel-border);\n  border-radius: var(--form-content-border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 6px 16px;\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  background-color: var(--submit-background);\n  border-color: var(--submit-border);\n  color: var(--submit-foreground);\n}\n.btn--primary:hover {\n  background-color: var(--submit-background-hover);\n  color: var(--submit-foreground-hover);\n}\n.btn--primary:focus-visible {\n  outline: 1px auto var(--submit-outline-focus);\n}\n\n.btn--default {\n  background-color: var(--cancel-background);\n  color: var(--cancel-foreground);\n  font-weight: 500;\n}\n.btn--default:hover {\n  background-color: var(--cancel-background-hover);\n  color: var(--cancel-foreground-hover);\n}\n.btn--default:focus-visible {\n  outline: 1px auto var(--cancel-outline-focus);\n}\n\n.success-message {\n  background-color: var(--background);\n  border: var(--border);\n  border-radius: var(--border-radius);\n  box-shadow: var(--box-shadow);\n  font-weight: 600;\n  color: var(--success);\n  padding: 12px 24px;\n  line-height: 25px;\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success-icon path {\n  fill: var(--success);\n}\n",t}(o)),{shadow:i,host:s}}catch(e){throw B.warn("[Feedback] Browser does not support shadow DOM API"),new Error("Browser does not support shadow DOM API.")}}async function _p(e,t,n){if(!e)return;e.hideError();try{return await fp({...t,source:dp},n)}catch(t){mp&&B.error(t),e&&e.showError("There was a problem submitting feedback, please wait and try again.")}}function bp(e,t){return Object.entries(t).forEach((([t,n])=>{e.setAttributeNS(null,t,n)})),e}function Sp(e,t,...n){const r=op.document.createElement(e);t&&Object.entries(t).forEach((([e,t])=>{"className"===e&&"string"==typeof t?r.setAttribute("class",t):"boolean"==typeof t&&t?r.setAttribute(e,""):"string"==typeof t?r.setAttribute(e,t):e.startsWith("on")&&"function"==typeof t&&r.addEventListener(e.substring(2).toLowerCase(),t)}));for(const e of n)wp(r,e);return r}function wp(e,t){const n=op.document;if(null!=t)if(Array.isArray(t))for(const n of t)wp(e,n);else!1===t||("string"==typeof t?e.appendChild(n.createTextNode(t)):t instanceof Node?e.appendChild(t):e.appendChild(n.createTextNode(String(t))))}function kp({buttonLabel:e,onClick:t}){const n=Sp("button",{type:"button",className:"widget__actor","aria-label":e,"aria-hidden":"false"},function(){const e=e=>op.document.createElementNS("http://www.w3.org/2000/svg",e),t=bp(e("svg"),{class:"feedback-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"}),n=bp(e("g"),{clipPath:"url(#clip0_57_80)"}),r=bp(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),s=bp(e("clipPath"),{id:"clip0_57_80"}),i=bp(e("rect"),{width:"20",height:"20",fill:"white"});return s.appendChild(i),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(i),{get el(){return t}}}().el,e?Sp("span",{className:"widget__actor__text"},e):null);return n.addEventListener("click",(function(e){t&&t(e)})),{get el(){return n},show:()=>{n.classList.remove("widget__actor--hidden"),n.setAttribute("aria-hidden","false")},hide:()=>{n.classList.add("widget__actor--hidden"),n.setAttribute("aria-hidden","true")}}}function xp(e,t){const n=e.get(t);return"string"==typeof n?n.trim():""}function Ep({nameLabel:e,namePlaceholder:t,emailLabel:n,emailPlaceholder:r,messageLabel:o,messagePlaceholder:s,isRequiredLabel:i,cancelButtonLabel:a,submitButtonLabel:c,showName:u,showEmail:l,isNameRequired:d,isEmailRequired:p,defaultName:h,defaultEmail:f,onCancel:m,onSubmit:g}){const{el:y}=function({label:e}){return{el:Sp("button",{type:"submit",className:"btn btn--primary","aria-label":e},e)}}({label:c});const v=Sp("div",{className:"form__error-container form__error-container--hidden","aria-hidden":"true"});const _=Sp("input",{id:"name",type:u?"text":"hidden","aria-hidden":u?"false":"true",name:"name",required:d,className:"form__input",placeholder:t,value:h}),b=Sp("input",{id:"email",type:l?"text":"hidden","aria-hidden":l?"false":"true",name:"email",required:p,className:"form__input",placeholder:r,value:f}),S=Sp("textarea",{id:"message",autoFocus:"true",rows:"5",name:"message",required:!0,className:"form__input form__input--textarea",placeholder:s}),w=Sp("button",{type:"button",className:"btn btn--default","aria-label":a,onClick:e=>{m&&m(e)}},a),k=Sp("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),e.target instanceof HTMLFormElement)try{if(g){const t=new FormData(e.target),n={name:xp(t,"name"),email:xp(t,"email"),message:xp(t,"message")};g(n)}}catch(e){}}},[v,u&&Sp("label",{htmlFor:"name",className:"form__label"},[Sp("span",{className:"form__label__text"},e,d&&Sp("span",{className:"form__label__text--required"},` ${i}`)),_]),!u&&_,l&&Sp("label",{htmlFor:"email",className:"form__label"},[Sp("span",{className:"form__label__text"},n,p&&Sp("span",{className:"form__label__text--required"},` ${i}`)),b]),!l&&b,Sp("label",{htmlFor:"message",className:"form__label"},[Sp("span",{className:"form__label__text"},o,Sp("span",{className:"form__label__text--required"},` ${i}`)),S]),Sp("div",{className:"btn-group"},[y,w])]);return{get el(){return k},showError:function(e){v.textContent=e,v.classList.remove("form__error-container--hidden"),v.setAttribute("aria-hidden","false")},hideError:function(){v.textContent="",v.classList.add("form__error-container--hidden"),v.setAttribute("aria-hidden","true")}}}function Tp({formTitle:e,showBranding:t,showName:n,showEmail:r,isNameRequired:o,isEmailRequired:s,colorScheme:i,defaultName:a,defaultEmail:c,onClosed:u,onCancel:l,onSubmit:d,...p}){let h=null;function f(){h&&(h.open=!1)}const{el:m,showError:g,hideError:y}=Ep({showEmail:r,showName:n,isEmailRequired:s,isNameRequired:o,defaultName:a,defaultEmail:c,onSubmit:d,onCancel:l,...p});return h=Sp("dialog",{className:"dialog",open:!0,onClick:function(){f(),u&&u()}},Sp("div",{className:"dialog__content",onClick:e=>{e.stopPropagation()}},Sp("h2",{className:"dialog__header"},e,t&&Sp("a",{className:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer"},function({colorScheme:e}){const t=e=>op.document.createElementNS("http://www.w3.org/2000/svg",e),n=bp(t("svg"),{class:"sentry-logo",width:"32",height:"30",viewBox:"0 0 72 66",fill:"none"}),r=bp(t("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});n.append(r);const o=t("defs"),s=t("style");return s.textContent=`\n    path {\n      fill: ${"dark"===e?"#fff":"#362d59"};\n    }`,"system"===e&&(s.textContent+="\n    @media (prefers-color-scheme: dark) {\n      path: {\n        fill: '#fff';\n      }\n    }\n    "),o.append(s),n.append(o),{get el(){return n}}}({colorScheme:i}).el)),m)),{get el(){return h},showError:g,hideError:y,open:function(){h&&(h.open=!0)},close:f,checkIsOpen:function(){return h&&!0===h.open||!1}}}function Cp({message:e,onRemove:t}){function n(){r&&(r.remove(),t&&t())}const r=Sp("div",{className:"success-message",onClick:n},function(){const e=e=>op.document.createElementNS("http://www.w3.org/2000/svg",e),t=bp(e("svg"),{class:"success-icon",width:"16",height:"17",viewBox:"0 0 16 17",fill:"none"}),n=bp(e("g"),{clipPath:"url(#clip0_57_156)"}),r=bp(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=bp(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const s=e("defs"),i=bp(e("clipPath"),{id:"clip0_57_156"}),a=bp(e("rect"),{width:"16",height:"16",fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(a),{get el(){return t}}}().el,e);return{el:r,remove:n}}function Ip({shadow:e,options:{shouldCreateActor:t=!0,...n},attachTo:r}){let o,s,i=!1;async function a(t){if(!s)return;const r=[];if(n.isNameRequired&&!t.name&&r.push(n.nameLabel),n.isEmailRequired&&!t.email&&r.push(n.emailLabel),t.message||r.push(n.messageLabel),r.length>0)return void s.showError(`Please enter in the following required fields: ${r.join(", ")}`);await _p(s,t)?(h(),function(){if(e)try{const t=Cp({message:n.successMessageText,onRemove:()=>{r&&clearTimeout(r),u()}});if(!t.el)throw new Error("Unable to show success message");e.appendChild(t.el);const r=setTimeout((()=>{t&&t.remove()}),5e3)}catch(e){B.error(e)}}(),n.onSubmitSuccess&&n.onSubmitSuccess()):n.onSubmitError&&n.onSubmitError()}function c(){const e=an(),t=e&&e.getIntegrationByName&&e.getIntegrationByName("Replay");t&&t.flush().catch((e=>{mp&&B.error(e)}))}function u(){o&&o.show()}function l(){o&&o.hide()}function d(){try{if(s)return s.open(),i=!0,n.onFormOpen&&n.onFormOpen(),void c();const t=n.useSentryUser,r=un(),o=r&&r.getUser();if(s=Tp({colorScheme:n.colorScheme,showBranding:n.showBranding,showName:n.showName||n.isNameRequired,showEmail:n.showEmail||n.isEmailRequired,isNameRequired:n.isNameRequired,isEmailRequired:n.isEmailRequired,formTitle:n.formTitle,cancelButtonLabel:n.cancelButtonLabel,submitButtonLabel:n.submitButtonLabel,emailLabel:n.emailLabel,emailPlaceholder:n.emailPlaceholder,messageLabel:n.messageLabel,messagePlaceholder:n.messagePlaceholder,nameLabel:n.nameLabel,namePlaceholder:n.namePlaceholder,isRequiredLabel:n.isRequiredLabel,defaultName:t&&o&&o[t.name]||"",defaultEmail:t&&o&&o[t.email]||"",onClosed:()=>{u(),i=!1,n.onFormClose&&n.onFormClose()},onCancel:()=>{p(),u()},onSubmit:a}),!s.el)throw new Error("Unable to open Feedback dialog");e.appendChild(s.el),l(),n.onFormOpen&&n.onFormOpen(),c()}catch(e){B.error(e)}}function p(){s&&(s.close(),i=!1,n.onFormClose&&n.onFormClose())}function h(){if(s){p();const e=s.el;e&&e.remove(),s=void 0}}function f(){i||d(),l()}return r?r.addEventListener("click",f):t&&(o=kp({buttonLabel:n.buttonLabel,onClick:f}),o.el&&e.appendChild(o.el)),{get actor(){return o},get dialog(){return s},showActor:u,hideActor:l,removeActor:function(){o&&o.el&&o.el.remove()},openDialog:d,closeDialog:p,removeDialog:h}}const Rp=op.document,Mp=e=>new Op(e);class Op{static __initStatic(){this.id="Feedback"}constructor({autoInject:e=!0,id:t="sentry-feedback",isEmailRequired:n=!1,isNameRequired:r=!1,showBranding:o=!0,showEmail:s=!0,showName:i=!0,useSentryUser:a={email:"email",name:"username"},themeDark:c,themeLight:u,colorScheme:l="system",buttonLabel:d="Report a Bug",cancelButtonLabel:p="Cancel",submitButtonLabel:h="Send Bug Report",formTitle:f="Report a Bug",emailPlaceholder:m="your.email@example.org",emailLabel:g="Email",messagePlaceholder:y="What's the bug? What did you expect?",messageLabel:v="Description",namePlaceholder:_="Your Name",nameLabel:b="Name",isRequiredLabel:S="(required)",successMessageText:w="Thank you for your report!",onFormClose:k,onFormOpen:x,onSubmitError:E,onSubmitSuccess:T}={}){this.name=Op.id,this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1,this.options={autoInject:e,showBranding:o,id:t,isEmailRequired:n,isNameRequired:r,showEmail:s,showName:i,useSentryUser:a,colorScheme:l,themeDark:{...lp,...c},themeLight:{...up,...u},buttonLabel:d,cancelButtonLabel:p,submitButtonLabel:h,formTitle:f,emailLabel:g,emailPlaceholder:m,messageLabel:v,messagePlaceholder:y,nameLabel:b,namePlaceholder:_,isRequiredLabel:S,successMessageText:w,onFormClose:k,onFormOpen:x,onSubmitError:E,onSubmitSuccess:T}}setupOnce(){if(Yi())try{this._cleanupWidgetIfExists();const{autoInject:e}=this.options;if(!e)return;this._createWidget(this.options)}catch(e){mp&&B.error(e)}}openDialog(){this._widget||this._createWidget({...this.options,shouldCreateActor:!1}),this._widget&&this._widget.openDialog()}closeDialog(){this._widget&&this._widget.closeDialog()}attachTo(e,t){try{const n=gp(this.options,t||{});return this._ensureShadowHost(n,(({shadow:t})=>{const r="string"==typeof e?Rp.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)return mp&&B.error("[Feedback] Unable to attach to target element"),null;const o=Ip({shadow:t,options:n,attachTo:r});return this._widgets.add(o),this._widget||(this._widget=o),o}))}catch(e){return mp&&B.error(e),null}}createWidget(e){try{return this._createWidget(gp(this.options,e||{}))}catch(e){return mp&&B.error(e),null}}removeWidget(e){if(!e)return!1;try{if(this._widgets.has(e))return e.removeActor(),e.removeDialog(),this._widgets.delete(e),this._widget===e&&(this._widget=null),!0}catch(e){mp&&B.error(e)}return!1}getWidget(){return this._widget}remove(){this._host&&this._host.remove(),this._initialize()}_initialize(){this._host=null,this._shadow=null,this._widget=null,this._widgets=new Set,this._hasInsertedActorStyles=!1}_cleanupWidgetIfExists(){this._host&&this.remove();const e=Rp.querySelector(`#${this.options.id}`);e&&e.remove()}_createWidget(e){return this._ensureShadowHost(e,(({shadow:t})=>{const n=Ip({shadow:t,options:e});return!this._hasInsertedActorStyles&&n.actor&&(t.appendChild(function(e){const t=e.createElement("style");return t.textContent="\n.widget__actor {\n  position: fixed;\n  left: var(--left);\n  right: var(--right);\n  bottom: var(--bottom);\n  top: var(--top);\n  z-index: var(--z-index);\n\n  line-height: 16px;\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  border-radius: var(--border-radius);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  padding: 16px;\n  text-decoration: none;\n  z-index: 9000;\n\n  color: var(--foreground);\n  background-color: var(--background);\n  border: var(--border);\n  box-shadow: var(--box-shadow);\n  opacity: 1;\n  transition: opacity 0.1s ease-in-out;\n}\n\n.widget__actor:hover {\n  background-color: var(--background-hover);\n}\n\n.widget__actor svg {\n  width: 16px;\n  height: 16px;\n}\n\n.widget__actor--hidden {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n\n.widget__actor__text {\n}\n\n@media (max-width: 600px) {\n  .widget__actor__text {\n    display: none;\n  }\n}\n\n.feedback-icon path {\n  fill: var(--foreground);\n}\n",t}(Rp)),this._hasInsertedActorStyles=!0),this._widgets.add(n),this._widget||(this._widget=n),n}))}_ensureShadowHost(e,t){let n=!1;if(!this._shadow||!this._host){const{id:t,colorScheme:r,themeLight:o,themeDark:s}=e,{shadow:i,host:a}=vp({id:t,colorScheme:r,themeLight:o,themeDark:s});this._shadow=i,this._host=a,n=!0}this._host.dataset.sentryFeedbackColorscheme=e.colorScheme;const r=t({shadow:this._shadow,host:this._host});return n&&Rp.body.appendChild(this._host),r}}Op.__initStatic();const Ap="CaptureConsole",Lp=(e={})=>{const t=e.levels||D;return{name:Ap,setupOnce(){},setup(e){"console"in O&&jr((({args:n,level:r})=>{an()===e&&t.includes(r)&&function(e,t){const n={level:oo(t),extra:{arguments:e}};Qt((r=>{if(r.addEventProcessor((e=>(e.logger="console",ke(e,{handled:!1,type:"console"}),e))),"assert"===t&&!1===e[0]){const t=`Assertion failed: ${ae(e.slice(1)," ")||"console.assert"}`;return r.setExtra("arguments",e.slice(1)),void qt(t,n)}const o=e.find((e=>e instanceof Error));if("error"===t&&o)return void Ht(o,n);qt(ae(e," "),n)}))}(n,r)}))}}};_n(Ap,Lp);const Dp=O,Np="ContextLines",Pp=(e={})=>{const t=null!=e.frameContextLines?e.frameContextLines:7;return{name:Np,setupOnce(){},processEvent:e=>function(e,t){const n=Dp.document,r=Dp.location&&(o=Dp.location.href,o.split(/[\?#]/,1)[0]);var o;if(!n||!r)return e;const s=e.exception&&e.exception.values;if(!s||!s.length)return e;const i=n.documentElement.innerHTML;if(!i)return e;const a=["<!DOCTYPE html>","<html>",...i.split("\n"),"</html>"];return s.forEach((e=>{const n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map((e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map((e=>ie(e,0))),t.context_line=ie(e[Math.min(r-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map((e=>ie(e,0)))}(t,e,r),e}(e,a,r,t))))})),e}(e,t)}};_n(Np,Pp);const Bp="Debug",Fp=(e={})=>{const t={debugger:!1,stringify:!1,...e};return{name:Bp,setupOnce(){},setup(e){e.on&&e.on("beforeSendEvent",((e,n)=>{t.debugger,P((()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n))}))}))}}},$p=(_n(Bp,Fp),"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__),jp="Dedupe",Up=()=>{let e;return{name:jp,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!qp(e,t))return!1;if(!Hp(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=zp(t),r=zp(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!qp(e,t))return!1;if(!Hp(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return $p&&B.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){}return e=t}}};_n(jp,Up);function Hp(e,t){let n=Wp(e),r=Wp(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let e=0;e<r.length;e++){const t=r[e],o=n[e];if(t.filename!==o.filename||t.lineno!==o.lineno||t.colno!==o.colno||t.function!==o.function)return!1}return!0}function qp(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(e){return!1}}function zp(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Wp(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}const Yp="ExtraErrorData",Gp=(e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:Yp,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!$(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,s=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const o=e[t];r[t]=$(o)?o.toString():o}if(t&&void 0!==e.cause&&(r.cause=$(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=$(n)?n.toString():n}}return r}catch(e){$p&&B.error("Unable to extract extra data from the Error object:",e)}return null}(t.originalException,r);if(s){const t={...e.contexts},r=Nt(s,n);return Y(r)&&(de(r,"__sentry_skip_normalization__",!0),t[o]=r),{...e,contexts:t}}return e}(e,r,t,n)}};_n(Yp,Gp);const Vp="HttpClient",Jp=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:Vp,setupOnce(){},setup(e){!function(e,t){if(!zn())return;Qr((n=>{if(an()!==e)return;const{response:r,args:o}=n,[s,i]=o;r&&function(e,t,n,r){if(Zp(e,n.status,n.url)){const e=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t)}(t,r);let o,s,i,a;eh()&&([{headers:o,cookies:i},{headers:s,cookies:a}]=[{cookieHeader:"Cookie",obj:e},{cookieHeader:"Set-Cookie",obj:n}].map((({cookieHeader:e,obj:t})=>{const n=function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(t.headers);let r;try{const t=n[e]||n[e.toLowerCase()]||void 0;t&&(r=Xp(t))}catch(t){$p&&B.log(`Could not extract cookies from header ${e}`)}return{headers:n,cookies:r}})));zt(Qp({url:e.url,method:e.method,status:n.status,requestHeaders:o,responseHeaders:s,requestCookies:i,responseCookies:a}))}}(t,s,r,i)}))}(e,t),function(e,t){if(!("XMLHttpRequest"in O))return;Xr((n=>{if(an()!==e)return;const r=n.xhr,o=r[Kr];if(!o)return;const{method:s,request_headers:i}=o;try{!function(e,t,n,r){if(Zp(e,t.status,t.responseURL)){let e,o,s;if(eh()){try{const e=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;e&&(o=Xp(e))}catch(e){$p&&B.log("Could not extract cookies from response headers")}try{s=function(e){const t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce(((e,t)=>{const[n,r]=t.split(": ");return e[n]=r,e}),{})}(t)}catch(e){$p&&B.log("Could not extract headers from response")}e=r}zt(Qp({url:t.responseURL,method:n,status:t.status,requestHeaders:e,responseHeaders:s,responseCookies:o}))}}(t,r,s,i)}catch(e){$p&&B.warn("Error while extracting response event form XHR response",e)}}))}(e,t)}}};_n(Vp,Jp);function Kp(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function Xp(e){return e.split("; ").reduce(((e,t)=>{const[n,r]=t.split("=");return e[n]=r,e}),{})}function Zp(e,t,n){return function(e,t){return e.some((e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]))}(e.failedRequestStatusCodes,t)&&(r=e.failedRequestTargets,o=n,r.some((e=>"string"==typeof e?o.includes(e):e.test(o))))&&!qi(n,an());var r,o}function Qp(e){const t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:Kp(e.responseHeaders)}}};return ke(n,{type:"http.client",handled:!1}),n}function eh(){const e=an();return!!e&&Boolean(e.getOptions().sendDefaultPii)}const th=O,nh="ReportingObserver",rh=new WeakMap,oh=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(e){if(rh.has(an()))for(const t of e)Qt((e=>{e.setExtra("url",t.url);const n=`ReportingObserver [${t.type}]`;let r="No details available";if(t.body){const n={};for(const e in t.body)n[e]=t.body[e];if(e.setExtra("body",n),"crash"===t.type){const e=t.body;r=[e.crashId||"",e.reason||""].join(" ").trim()||r}else{r=t.body.message||r}}qt(`${n}: ${r}`)}))}return{name:nh,setupOnce(){if(!("ReportingObserver"in Un))return;new th.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(e){rh.set(e,!0)}}};_n(nh,oh);function sh(e,t){let n=0;for(let t=e.length-1;t>=0;t--){const r=e[t];"."===r?e.splice(t,1):".."===r?(e.splice(t,1),n++):n&&(e.splice(t,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const ih=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function ah(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=ih.exec(t);return n?n.slice(1):[]}function ch(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n="/"===o.charAt(0))}return t=sh(t.split("/").filter((e=>!!e)),!n).join("/"),(n?"/":"")+t||"."}function uh(e){let t=0;for(;t<e.length&&""===e[t];t++);let n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}const lh="RewriteFrames",dh=(e={})=>{const t=e.root,n=e.prefix||"app:///",r=e.iteratee||(e=>{if(!e.filename)return e;const r=/^[a-zA-Z]:\\/.test(e.filename)||e.filename.includes("\\")&&!e.filename.includes("/"),o=/^\//.test(e.filename);if(r||o){const o=r?e.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):e.filename,s=t?function(e,t){e=ch(e).slice(1),t=ch(t).slice(1);const n=uh(e.split("/")),r=uh(t.split("/")),o=Math.min(n.length,r.length);let s=o;for(let e=0;e<o;e++)if(n[e]!==r[e]){s=e;break}let i=[];for(let e=s;e<n.length;e++)i.push("..");return i=i.concat(r.slice(s)),i.join("/")}(t,o):function(e,t){let n=ah(e)[2];return t&&n.slice(-1*t.length)===t&&(n=n.slice(0,n.length-t.length)),n}(o);e.filename=`${n}${s}`}return e});return{name:lh,setupOnce(){},processEvent(e){let t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map((e=>{return{...e,...e.stacktrace&&{stacktrace:(t=e.stacktrace,{...t,frames:t&&t.frames&&t.frames.map((e=>r(e)))})}};var t}))}}}catch(t){return e}}(t)),t}}},ph=(_n(lh,dh),"SessionTiming"),hh=()=>{const e=Date.now();return{name:ph,setupOnce(){},processEvent(t){const n=Date.now();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}}}}};_n(ph,hh);function fh(){Ji.document?Ji.document.addEventListener("visibilitychange",(()=>{const e=Ys();if(Ji.document.hidden&&e){const t="cancelled",{op:n,status:r}=it(e);Gi&&B.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n}`),r||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}})):Gi&&B.warn("[Tracing] Could not set up background tab detection due to lack of global document")}function mh(e){return[{type:"span"},e]}function gh(e){return"number"==typeof e&&isFinite(e)}function yh(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}function vh(e){return e/1e3}function _h(){return Ji&&Ji.addEventListener&&Ji.performance}let bh,Sh,wh=0,kh={};function xh(){const e=_h();if(e&&$e){e.mark&&Ji.performance.mark("sentry-tracing-init");const t=Oa("fid",(({metric:e})=>{const t=e.entries[e.entries.length-1];if(!t)return;const n=vh($e),r=vh(t.startTime);Gi&&B.log("[Measurements] Adding FID"),kh.fid={value:e.value,unit:"millisecond"},kh["mark.fid"]={value:n+r,unit:"second"}}),Ca,_a),n=function(e,t=!1){return Oa("cls",e,Ta,va,t)}((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Gi&&B.log("[Measurements] Adding CLS"),kh.cls={value:e.value,unit:""},Sh=t)}),!0),r=ka((({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Gi&&B.log("[Measurements] Adding LCP"),kh.lcp={value:e.value,unit:"millisecond"},bh=t)}),!0),o=function(e){return Oa("ttfb",e,Ra,Sa)}((({metric:e})=>{e.entries[e.entries.length-1]&&(Gi&&B.log("[Measurements] Adding TTFB"),kh.ttfb={value:e.value,unit:"millisecond"})}));return()=>{t(),n(),r(),o()}}return()=>{}}function Eh(){xa("longtask",(({entries:e})=>{for(const t of e){const e=Ys();if(!e)return;const n=vh($e+t.startTime),r=vh(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r})}}))}function Th(){xa("event",(({entries:e})=>{for(const t of e){const e=Ys();if(!e)return;if("click"===t.name){const n=vh($e+t.startTime),r=vh(t.duration),o={description:ee(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:n,endTimestamp:n+r},s=oe(t.target);s&&(o.attributes={"ui.component_name":s}),e.startChild(o)}}}))}function Ch(e,t){if(_h()&&$e){const n=function(e,t){return n=({metric:n})=>{if(void 0===n.value)return;const r=n.entries.find((e=>e.duration===n.value&&void 0!==Ih[e.name])),o=an();if(!r||!o)return;const s=Ih[r.name],i=o.getOptions(),a=vh($e+r.startTime),c=vh(n.value),u=void 0!==r.interactionId?e[r.interactionId]:void 0;if(void 0===u)return;const{routeName:l,parentContext:d,activeTransaction:p,user:h,replayId:f}=u,m=void 0!==h?h.email||h.id||h.ip_address:void 0,g=void 0!==p?p.getProfileId():void 0,y=new gi({startTimestamp:a,endTimestamp:a+c,op:`ui.interaction.${s}`,name:ee(r.target),attributes:{release:i.release,environment:i.environment,transaction:l,...void 0!==m&&""!==m?{user:m}:{},...void 0!==g?{profile_id:g}:{},...void 0!==f?{replay_id:f}:{}},exclusiveTime:n.value,measurements:{inp:{value:n.value,unit:"millisecond"}}}),v=function(e,t,n){if(!Xs(t))return!1;let r;return r=void 0!==e&&"function"==typeof t.tracesSampler?t.tracesSampler({transactionContext:e,name:e.name,parentSampled:e.parentSampled,attributes:{...e.data,...e.attributes},location:Ji.location}):void 0!==e&&void 0!==e.sampled?e.sampled:void 0!==t.tracesSampleRate?t.tracesSampleRate:1,ki(r)?!0===r?n:!1===r?0:r*n:(Gi&&B.warn("[Tracing] Discarding interaction span because of invalid sample rate."),!1)}(d,i,t);if(v&&Math.random()<v){const e=y?function(e,t){const n={sent_at:(new Date).toISOString()};return t&&(n.dsn=Ln(t)),tr(n,e.map(mh))}([y],o.getDsn()):void 0,t=o&&o.getTransport();t&&e&&t.send(e).then(null,(e=>{Gi&&B.error("Error while sending interaction:",e)}))}},Oa("inp",n,Ma,wa);var n}(e,t);return()=>{n()}}return()=>{}}const Ih={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Rh(e){const t=_h();if(!t||!Ji.performance.getEntries||!$e)return;Gi&&B.log("[Tracing] Adding & adjusting spans using Performance API");const n=vh($e),r=t.getEntries(),{op:o,start_timestamp:s}=it(e);if(r.slice(wh).forEach((t=>{const r=vh(t.startTime),o=vh(t.duration);if(!("navigation"===e.op&&s&&n+r<s))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((r=>{Mh(e,t,r,n)})),Mh(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),Mh(e,t,"fetch",n,"cache","domainLookupStart"),Mh(e,t,"domainLookup",n,"DNS"),function(e,t,n){t.responseEnd&&(yh(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+vh(t.requestStart),endTimestamp:n+vh(t.responseEnd)}),yh(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+vh(t.responseStart),endTimestamp:n+vh(t.responseEnd)}))}(e,t,n)}(e,t,n);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,o){const s=o+n,i=s+r;yh(e,{description:t.name,endTimestamp:i,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s})}(e,t,r,o,n);const s=na(),i=t.startTime<s.firstHiddenTime;"first-paint"===t.name&&i&&(Gi&&B.log("[Measurements] Adding FP"),kh.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&i&&(Gi&&B.log("[Measurements] Adding FCP"),kh.fcp={value:t.startTime,unit:"millisecond"});break}case"resource":!function(e,t,n,r,o,s){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;const i=so(n),a={};Oh(a,t,"transferSize","http.response_transfer_size"),Oh(a,t,"encodedBodySize","http.response_content_length"),Oh(a,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(a["resource.render_blocking_status"]=t.renderBlockingStatus);i.protocol&&(a["url.scheme"]=i.protocol.split(":").pop());i.host&&(a["server.address"]=i.host);a["url.same_origin"]=n.includes(Ji.location.origin);const c=s+r,u=c+o;yh(e,{description:n.replace(Ji.location.origin,""),endTimestamp:u,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:c,data:a})}(e,t,t.name,r,o,n)}})),wh=Math.max(r.length-1,0),function(e){const t=Ji.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),gh(n.rtt)&&(kh["connection.rtt"]={value:n.rtt,unit:"millisecond"}));gh(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`);gh(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}(e),"pageload"===o){!function(e){const t=Ki();if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(Gi&&B.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}(kh),["fcp","fp","lcp"].forEach((e=>{if(!kh[e]||!s||n>=s)return;const t=kh[e].value,r=n+vh(t),o=Math.abs(1e3*(r-s)),i=o-t;Gi&&B.log(`[Measurements] Normalized ${e} from ${t} to ${o} (${i})`),kh[e].value=o}));const t=kh["mark.fid"];t&&kh.fid&&(yh(e,{description:"first input delay",endTimestamp:t.value+vh(kh.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:t.value}),delete kh["mark.fid"]),"fcp"in kh||delete kh.cls,Object.keys(kh).forEach((e=>{Ui(e,kh[e].value,kh[e].unit)})),function(e){bh&&(Gi&&B.log("[Measurements] Adding LCP Data"),bh.element&&e.setTag("lcp.element",ee(bh.element)),bh.id&&e.setTag("lcp.id",bh.id),bh.url&&e.setTag("lcp.url",bh.url.trim().slice(0,200)),e.setTag("lcp.size",bh.size));Sh&&Sh.sources&&(Gi&&B.log("[Measurements] Adding CLS Data"),Sh.sources.forEach(((t,n)=>e.setTag(`cls.source.${n+1}`,ee(t.node)))))}(e)}bh=void 0,Sh=void 0,kh={}}function Mh(e,t,n,r,o,s){const i=s?t[s]:t[`${n}End`],a=t[`${n}Start`];a&&i&&yh(e,{op:"browser",origin:"auto.browser.browser.metrics",description:o||n,startTimestamp:r+vh(a),endTimestamp:r+vh(i)})}function Oh(e,t,n,r){const o=t[n];null!=o&&o<2147483647&&(e[r]=o)}function Ah(e,t,n,r,o="auto.http.browser"){if(!Xs()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const t=e.fetchData.__span;if(!t)return;const n=r[t];return void(n&&(!function(e,t){if(t.response){fi(e,t.response.status);const n=t.response&&t.response.headers&&t.response.headers.get("content-length");if(n){const t=parseInt(n);t>0&&e.setAttribute("http.response_content_length",t)}}else t.error&&e.setStatus("internal_error");e.end()}(n,e),delete r[t]))}const i=un(),a=an(),{method:c,url:u}=e.fetchData,l=function(e){try{return new URL(e).href}catch(e){return}}(u),d=l?so(l).host:void 0,p=s?ti({name:`${c} ${u}`,onlyIfParent:!0,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[Ws]:o},op:"http.client"}):void 0;if(p&&(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p),n(e.fetchData.url)&&a){const t=e.args[0];e.args[1]=e.args[1]||{};const n=e.args[1];n.headers=function(e,t,n,r,o){const s=o||n.getSpan(),i=kt(),{traceId:a,spanId:c,sampled:u,dsc:l}={...i.getPropagationContext(),...n.getPropagationContext()},d=s?rt(s):et(a,c,u),p=Je(l||(s?ut(s):ct(a,t,n))),h=r.headers||("undefined"!=typeof Request&&K(e,Request)?e.headers:void 0);if(h){if("undefined"!=typeof Headers&&K(h,Headers)){const e=new Headers(h);return e.append("sentry-trace",d),p&&e.append(ze,p),e}if(Array.isArray(h)){const e=[...h,["sentry-trace",d]];return p&&e.push([ze,p]),e}{const e="baggage"in h?h.baggage:void 0,t=[];return Array.isArray(e)?t.push(...e):e&&t.push(e),p&&t.push(p),{...h,"sentry-trace":d,baggage:t.length>0?t.join(","):void 0}}}return{"sentry-trace":d,baggage:p}}(t,a,i,n,p)}return p}const Lh=["localhost",/^\/(?!\/)/],Dh={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Lh,tracePropagationTargets:Lh};function Nh(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:o,shouldCreateSpanForRequest:s,enableHTTPTimings:i}={traceFetch:Dh.traceFetch,traceXHR:Dh.traceXHR,...e},a="function"==typeof s?s:e=>!0,c=e=>function(e,t){return ue(e,t||Lh)}(e,r||o),u={};t&&Qr((e=>{const t=Ah(e,a,c,u);if(t){const n=Fh(e.fetchData.url),r=n?so(n).host:void 0;t.setAttributes({"http.url":n,"server.address":r})}i&&t&&Ph(t)})),n&&Xr((e=>{const t=function(e,t,n,r){const o=e.xhr,s=o&&o[Kr];if(!Xs()||!o||o.__sentry_own_request__||!s)return;const i=t(s.url);if(e.endTimestamp&&i){const e=o.__sentry_xhr_span_id__;if(!e)return;const t=r[e];return void(t&&void 0!==s.status_code&&(fi(t,s.status_code),t.end(),delete r[e]))}const a=un(),c=kt(),u=Fh(s.url),l=u?so(u).host:void 0,d=i?ti({name:`${s.method} ${s.url}`,onlyIfParent:!0,attributes:{type:"xhr","http.method":s.method,"http.url":u,url:s.url,"server.address":l,[Ws]:"auto.http.browser"},op:"http.client"}):void 0;d&&(o.__sentry_xhr_span_id__=d.spanContext().spanId,r[o.__sentry_xhr_span_id__]=d);const p=an();if(o.setRequestHeader&&n(s.url)&&p){const{traceId:e,spanId:t,sampled:n,dsc:r}={...c.getPropagationContext(),...a.getPropagationContext()};!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(ze,n)}catch(e){}}(o,d?rt(d):et(e,t,n),Je(r||(d?ut(d):ct(e,p,a))))}return d}(e,a,c,u);i&&t&&Ph(t)}))}function Ph(e){const{url:t}=it(e).data||{};if(!t||"string"!=typeof t)return;const n=xa("resource",(({entries:r})=>{r.forEach((r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType)}(r)&&r.name.endsWith(t)){(function(e){const{name:t,version:n}=function(e){let t="unknown",n="unknown",r="";for(const o of e){if("/"===o){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t="h"===r?"http":r,n=e.split(r)[1];break}r+=o}r===e&&(t=r);return{name:t,version:n}}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!$e)return r;return[...r,["http.request.redirect_start",Bh(e.redirectStart)],["http.request.fetch_start",Bh(e.fetchStart)],["http.request.domain_lookup_start",Bh(e.domainLookupStart)],["http.request.domain_lookup_end",Bh(e.domainLookupEnd)],["http.request.connect_start",Bh(e.connectStart)],["http.request.secure_connection_start",Bh(e.secureConnectionStart)],["http.request.connection_end",Bh(e.connectEnd)],["http.request.request_start",Bh(e.requestStart)],["http.request.response_start",Bh(e.responseStart)],["http.request.response_end",Bh(e.responseEnd)]]})(r).forEach((t=>e.setAttribute(...t))),setTimeout(n)}}))}))}function Bh(e=0){return(($e||performance.timeOrigin)+e)/1e3}function Fh(e){try{return new URL(e,Ji.location.origin).href}catch(e){return}}const $h={...vi,markBackgroundTransactions:!0,routingInstrumentation:function(e,t=!0,n=!0){if(!Ji||!Ji.location)return void(Gi&&B.warn("Could not initialize routing instrumentation due to invalid location"));let r,o=Ji.location.href;t&&(r=e({name:Ji.location.pathname,startTimestamp:$e?$e/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Qn((({to:t,from:n})=>{void 0===n&&o&&-1!==o.indexOf(t)?o=void 0:n!==t&&(o=void 0,r&&(Gi&&B.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.end()),r=e({name:Ji.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))}))},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Dh};class jh{constructor(e){this.name="BrowserTracing",this._hasSetTracePropagationTargets=!1,Ci(),Gi&&(this._hasSetTracePropagationTargets=!(!e||!e.tracePropagationTargets&&!e.tracingOrigins)),this.options={...$h,...e},void 0!==this.options._experiments.enableLongTask&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=xh(),this._interactionIdToRouteNameMapping={},this.options.enableInp&&Ch(this._interactionIdToRouteNameMapping,this.options.interactionsSampleRate),this.options.enableLongTask&&Eh(),this.options._experiments.enableInteractions&&Th(),this._latestRoute={name:void 0,context:void 0}}setupOnce(e,t){this._getCurrentHub=t;const n=t().getClient(),r=n&&n.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:s,startTransactionOnPageLoad:i,markBackgroundTransactions:a,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:p}=this.options,h=r&&r.tracePropagationTargets,f=h||this.options.tracePropagationTargets;Gi&&this._hasSetTracePropagationTargets&&h&&B.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o((e=>{const n=this._createRouteTransaction(e);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(n,e,t),n}),i,s),a&&fh(),p.enableInteractions&&this._registerInteractionListener(),this.options.enableInp&&this._registerInpInteractionListener(),Nh({traceFetch:c,traceXHR:u,tracePropagationTargets:f,shouldCreateSpanForRequest:l,enableHTTPTimings:d})}_createRouteTransaction(e){if(!this._getCurrentHub)return void(Gi&&B.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`));const t=this._getCurrentHub(),{beforeNavigate:n,idleTimeout:r,finalTimeout:o,heartbeatInterval:s}=this.options,i="pageload"===e.op;let a;if(i){const t=i?Uh("sentry-trace"):"",n=i?Uh("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:s,sampled:c}=Qe(t,n);a={traceId:r,parentSpanId:s,parentSampled:c,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else a={trimEnd:!0,...e};const c="function"==typeof n?n(a):a,u=void 0===c?{...a,sampled:!1}:c;u.metadata=u.name!==a.name?{...u.metadata,source:"custom"}:u.metadata,this._latestRoute.name=u.name,this._latestRoute.context=u,!1===u.sampled&&Gi&&B.log(`[Tracing] Will not send ${u.op} transaction because of beforeNavigate.`),Gi&&B.log(`[Tracing] Starting ${u.op} transaction on scope`);const{location:l}=Ji,d=Ti(t,u,r,o,!0,{location:l},s,i);return i&&Ji.document&&(Ji.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Ji.document.readyState)&&d.sendAutoFinishSignal()})),["interactive","complete"].includes(Ji.document.readyState)&&d.sendAutoFinishSignal()),d.registerBeforeFinishCallback((e=>{this._collectWebVitals(),Rh(e)})),d}_registerInteractionListener(){let e;const t=()=>{const{idleTimeout:t,finalTimeout:n,heartbeatInterval:r}=this.options,o="ui.action.click",s=Ys();if(s&&s.op&&["navigation","pageload"].includes(s.op))return void(Gi&&B.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`));if(e&&(e.setFinishReason("interactionInterrupted"),e.end(),e=void 0),!this._getCurrentHub)return void(Gi&&B.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`));if(!this._latestRoute.name)return void(Gi&&B.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`));const i=this._getCurrentHub(),{location:a}=Ji,c={name:this._latestRoute.name,op:o,trimEnd:!0,data:{[Hs]:this._latestRoute.context?Hh(this._latestRoute.context):"url"}};e=Ti(i,c,t,n,!0,{location:a},r)};["click"].forEach((e=>{Ji.document&&addEventListener(e,t,{once:!1,capture:!0})}))}_registerInpInteractionListener(){const e=({entries:e})=>{const t=an(),n=void 0!==t&&void 0!==t.getIntegrationByName?t.getIntegrationByName("Replay"):void 0,r=void 0!==n?n.getReplayId():void 0,o=Ys(),s=un(),i=void 0!==s?s.getUser():void 0;e.forEach((e=>{if(function(e){return"duration"in e}(e)){const t=e.interactionId;if(void 0===t)return;const n=this._interactionIdToRouteNameMapping[t],s=e.duration,a=e.startTime,c=Object.keys(this._interactionIdToRouteNameMapping),u=c.length>0?c.reduce(((e,t)=>this._interactionIdToRouteNameMapping[e].duration<this._interactionIdToRouteNameMapping[t].duration?e:t)):void 0;if("first-input"===e.entryType){if(c.map((e=>this._interactionIdToRouteNameMapping[e])).some((e=>e.duration===s&&e.startTime===a)))return}if(!t)return;if(n)n.duration=Math.max(n.duration,s);else if(c.length<10||void 0===u||s>this._interactionIdToRouteNameMapping[u].duration){const e=this._latestRoute.name,n=this._latestRoute.context;e&&n&&(u&&Object.keys(this._interactionIdToRouteNameMapping).length>=10&&delete this._interactionIdToRouteNameMapping[u],this._interactionIdToRouteNameMapping[t]={routeName:e,duration:s,parentContext:n,user:i,activeTransaction:o,replayId:r,startTime:a})}}}))};xa("event",e),xa("first-input",e)}}function Uh(e){const t=re(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}function Hh(e){const t=e.attributes&&e.attributes[Hs],n=e.data&&e.data[Hs],r=e.metadata&&e.metadata.source;return t||n||r}const qh={...vi,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableInp:!1,interactionsSampleRate:1,_experiments:{},...Dh},zh=(e={})=>{const t=!!Gi&&!(!e.tracePropagationTargets&&!e.tracingOrigins);Ci(),!e.tracePropagationTargets&&e.tracingOrigins&&(e.tracePropagationTargets=e.tracingOrigins);const n={...qh,...e},r=xh(),o={};n.enableInp&&Ch(o,n.interactionsSampleRate),n.enableLongTask&&Eh(),n._experiments.enableInteractions&&Th();const s={name:void 0,context:void 0};function i(e){const t=wt(),{beforeStartSpan:o,idleTimeout:i,finalTimeout:a,heartbeatInterval:c}=n,u="pageload"===e.op;let l;if(u){const t=u?Gh("sentry-trace"):"",n=u?Gh("baggage"):void 0,{traceId:r,dsc:o,parentSpanId:s,sampled:i}=Qe(t,n);l={traceId:r,parentSpanId:s,parentSampled:i,...e,metadata:{...e.metadata,dynamicSamplingContext:o},trimEnd:!0}}else l={trimEnd:!0,...e};const d=o?o(l):l;d.metadata=d.name!==l.name?{...d.metadata,source:"custom"}:d.metadata,s.name=d.name,s.context=d,!1===d.sampled&&Gi&&B.log(`[Tracing] Will not send ${d.op} transaction because of beforeNavigate.`),Gi&&B.log(`[Tracing] Starting ${d.op} transaction on scope`);const{location:p}=Ji,h=Ti(t,d,i,a,!0,{location:p},c,u);return u&&Ji.document&&(Ji.document.addEventListener("readystatechange",(()=>{["interactive","complete"].includes(Ji.document.readyState)&&h.sendAutoFinishSignal()})),["interactive","complete"].includes(Ji.document.readyState)&&h.sendAutoFinishSignal()),h.registerBeforeFinishCallback((e=>{r(),Rh(e)})),h}return{name:"BrowserTracing",setupOnce:()=>{},afterAllSetup(e){const r=e.getOptions(),{markBackgroundSpan:a,traceFetch:c,traceXHR:u,shouldCreateSpanForRequest:l,enableHTTPTimings:d,_experiments:p}=n,h=r&&r.tracePropagationTargets,f=h||n.tracePropagationTargets;let m;Gi&&t&&h&&B.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used.");let g=Ji.location&&Ji.location.href;if(e.on&&(e.on("startNavigationSpan",(e=>{m&&(Gi&&B.log(`[Tracing] Finishing current transaction with op: ${it(m).op}`),m.end()),m=i({op:"navigation",...e})})),e.on("startPageLoadSpan",(e=>{m&&(Gi&&B.log(`[Tracing] Finishing current transaction with op: ${it(m).op}`),m.end()),m=i({op:"pageload",...e})}))),n.instrumentPageLoad&&e.emit&&Ji.location){const t={name:Ji.location.pathname,startTimestamp:$e?$e/1e3:void 0,origin:"auto.pageload.browser",attributes:{[Hs]:"url"}};Wh(e,t)}n.instrumentNavigation&&e.emit&&Ji.location&&Qn((({to:t,from:n})=>{if(void 0===n&&g&&-1!==g.indexOf(t))g=void 0;else if(n!==t){g=void 0;const t={name:Ji.location.pathname,origin:"auto.navigation.browser",attributes:{[Hs]:"url"}};Yh(e,t)}})),a&&fh(),p.enableInteractions&&function(e,t){let n;const r=()=>{const{idleTimeout:r,finalTimeout:o,heartbeatInterval:s}=e,i="ui.action.click",a=Ys();if(a&&a.op&&["navigation","pageload"].includes(a.op))return void(Gi&&B.warn(`[Tracing] Did not create ${i} transaction because a pageload or navigation transaction is in progress.`));if(n&&(n.setFinishReason("interactionInterrupted"),n.end(),n=void 0),!t.name)return void(Gi&&B.warn(`[Tracing] Did not create ${i} transaction because _latestRouteName is missing.`));const{location:c}=Ji,u={name:t.name,op:i,trimEnd:!0,data:{[Hs]:t.context?Jh(t.context):"url"}};n=Ti(wt(),u,r,o,!0,{location:c},s)};["click"].forEach((e=>{Ji.document&&addEventListener(e,r,{once:!1,capture:!0})}))}(n,s),n.enableInp&&function(e,t){const n=({entries:n})=>{const r=an(),o=void 0!==r&&void 0!==r.getIntegrationByName?r.getIntegrationByName("Replay"):void 0,s=void 0!==o?o.getReplayId():void 0,i=Ys(),a=un(),c=void 0!==a?a.getUser():void 0;n.forEach((n=>{if(function(e){return"duration"in e}(n)){const r=n.interactionId;if(void 0===r)return;const o=e[r],a=n.duration,u=n.startTime,l=Object.keys(e),d=l.length>0?l.reduce(((t,n)=>e[t].duration<e[n].duration?t:n)):void 0;if("first-input"===n.entryType){if(l.map((t=>e[t])).some((e=>e.duration===a&&e.startTime===u)))return}if(!r)return;if(o)o.duration=Math.max(o.duration,a);else if(l.length<Vh||void 0===d||a>e[d].duration){const n=t.name,o=t.context;n&&o&&(d&&Object.keys(e).length>=Vh&&delete e[d],e[r]={routeName:n,duration:a,parentContext:o,user:c,activeTransaction:i,replayId:s,startTime:u})}}}))};xa("event",n),xa("first-input",n)}(o,s),Nh({traceFetch:c,traceXHR:u,tracePropagationTargets:f,shouldCreateSpanForRequest:l,enableHTTPTimings:d})},options:n}};function Wh(e,t){if(!e.emit)return;e.emit("startPageLoadSpan",t);const n=ni();return"pageload"===(n&&it(n).op)?n:void 0}function Yh(e,t){if(!e.emit)return;e.emit("startNavigationSpan",t);const n=ni();return"navigation"===(n&&it(n).op)?n:void 0}function Gh(e){const t=re(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const Vh=10;function Jh(e){const t=e.attributes&&e.attributes[Hs],n=e.data&&e.data[Hs],r=e.metadata&&e.metadata.source;return t||n||r}const Kh=100,Xh=5e3,Zh=36e5;function Qh(e,t){Te&&B.info(`[Offline]: ${e}`,t)}function ef(e){return t=>{const n=e(t),r=t.createStore?t.createStore(t):void 0;let o,s=Xh;function i(e,n,r){return o=["replay_event","replay_recording","client_report"],!rr(e,((e,t)=>o.includes(t)))&&(!t.shouldStore||t.shouldStore(e,n,r));var o}function a(e){r&&(o&&clearTimeout(o),o=setTimeout((async()=>{o=void 0;const e=await r.pop();e&&(Qh("Attempting to send previously queued event"),u(e).catch((e=>{Qh("Failed to retry sending",e)})))}),e),"number"!=typeof o&&o.unref&&o.unref())}function c(){o||(a(s),s=Math.min(2*s,Zh))}async function u(e){try{const t=await n.send(e);let r=Kh;if(t)if(t.headers&&t.headers["retry-after"])r=hs(t.headers["retry-after"]);else if((t.statusCode||0)>=400)return t;return a(r),s=Xh,t}catch(t){if(r&&await i(e,t,s))return await r.insert(e),c(),Qh("Error sending. Event queued",t),{};throw t}}return t.flushAtStartup&&c(),{send:u,flush:e=>n.flush(e)}}}function tf(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function nf(e){return tf(e.getAllKeys())}function rf(e){let t;function n(){return null==t&&(t=function(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=tf(n);return e=>r.then((n=>e(n.transaction(t,"readwrite").objectStore(t))))}(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{insert:async t=>{try{const r=await sr(t,e.textEncoder);await function(e,t,n){return e((e=>nf(e).then((r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),tf(e.transaction)}))))}(n(),r,e.maxQueueSize||30)}catch(e){}},pop:async()=>{try{const t=await function(e){return e((e=>nf(e).then((t=>{if(0!==t.length)return tf(e.get(t[0])).then((n=>(e.delete(t[0]),tf(e.transaction).then((()=>n)))))}))))}(n());if(t)return function(e,t,n){let r="string"==typeof e?t.encode(e):e;function o(e){const t=r.subarray(0,e);return r=r.subarray(e+1),t}function s(){let e=r.indexOf(10);return e<0&&(e=r.length),JSON.parse(n.decode(o(e)))}const i=s(),a=[];for(;r.length;){const e=s(),t="number"==typeof e.length?e.length:void 0;a.push([e,t?o(t):s()])}return[i,a]}(t,e.textEncoder||new TextEncoder,e.textDecoder||new TextDecoder)}catch(e){}}}}function of(e){return function(e){return t=>e({...t,createStore:rf})}(ef(e))}const sf=1e6,af=String(0),cf="main";let uf="",lf="",df="",pf=Dr.navigator&&Dr.navigator.userAgent||"",hf="";const ff=Dr.navigator&&Dr.navigator.language||Dr.navigator&&Dr.navigator.languages&&Dr.navigator.languages[0]||"";const mf=Dr.navigator&&Dr.navigator.userAgentData;var gf;function yf(e){return function(e){return!("thread_metadata"in e)}(e)?function(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[af]:{name:cf}}};if(!e.samples.length)return r;const o=e.samples[0].timestamp,s="number"==typeof performance.timeOrigin?performance.timeOrigin:$e||0,i=s-($e||s);for(let s=0;s<e.samples.length;s++){const a=e.samples[s];if(void 0===a.stackId){void 0===t&&(t=n,r.stacks[t]=[],n++),r.samples[s]={elapsed_since_start_ns:((a.timestamp+i-o)*sf).toFixed(0),stack_id:t,thread_id:af};continue}let c=e.stacks[a.stackId];const u=[];for(;c;){u.push(c.frameId);const t=e.frames[c.frameId];void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:t.name,abs_path:"number"==typeof t.resourceId?e.resources[t.resourceId]:void 0,lineno:t.line,colno:t.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId]}const l={elapsed_since_start_ns:((a.timestamp+i-o)*sf).toFixed(0),stack_id:n,thread_id:af};r.stacks[n]=u,r.samples[s]=l,n++}return r}(e):e}function vf(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=function(e){const t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&kr&&B.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t}(r),s=yf(n),i=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:Date.now()),a="number"==typeof r.timestamp?1e3*r.timestamp:Date.now();return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||De,runtime:{name:"javascript",version:Dr.navigator.userAgent},os:{name:uf,version:lf,build_number:pf},device:{locale:ff,model:hf,manufacturer:pf,architecture:df,is_emulator:!1},debug_meta:{images:Sf(n.resources)},profile:s,transactions:[{name:r.transaction||"",id:r.event_id||_e(),trace_id:o,active_thread_id:af,relative_start_ns:"0",relative_end_ns:(1e6*(a-i)).toFixed(0)}]}}function _f(e){return"pageload"===e.op}"object"==typeof(gf=mf)&&null!==gf&&"getHighEntropyValues"in gf&&mf.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then((e=>{if(uf=e.platform||"",df=e.architecture||"",hf=e.model||"",lf=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){const t=e.fullVersionList[e.fullVersionList.length-1];pf=`${t.brand} ${t.version}`}})).catch((e=>{}));const bf=new WeakMap;function Sf(e){const t=O._sentryDebugIds;if(!t)return[];const n=an(),r=n&&n.getOptions(),o=r&&r.stackParser;if(!o)return[];let s;const i=bf.get(o);i?s=i:(s=new Map,bf.set(o,s));const a=Object.keys(t).reduce(((e,n)=>{let r;const i=s.get(n);i?r=i:(r=o(n),s.set(n,r));for(let o=r.length-1;o>=0;o--){const s=r[o],i=s&&s.filename;if(s&&i){e[i]=t[n];break}}return e}),{}),c=[];for(const t of e)t&&a[t]&&c.push({type:"sourcemap",code_file:t,debug_id:a[t]});return c}let wf=!1;const kf=3e4;function xf(e){if(wf)return kr&&B.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return kr&&B.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=an(),n=t&&t.getOptions();if(!n)return kr&&B.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;if(!("number"!=typeof(o=r)&&"boolean"!=typeof o||"number"==typeof o&&isNaN(o)?(kr&&B.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),0):!0===o||!1===o||!(o<0||o>1)||(kr&&B.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${o}.`),0)))return kr&&B.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;var o;if(!r)return kr&&B.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(kr&&B.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1)}function Ef(e,t,n,r){return function(e){return e.samples.length<2?(kr&&B.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(kr&&B.log("[Profiling] Discarding profile because it contains no frames"),!1)}(n)?vf(e,t,n,r):null}const Tf=new Map;function Cf(e){const t=Tf.get(e);return t&&Tf.delete(e),t}function If(e){return e?xf(e)?Rf(e):e:(kr&&B.log("[Profiling] Transaction is undefined, skipping profiling"),e)}function Rf(e){let t;_f(e)&&(t=1e3*Be());const n=function(){const e=Dr.Profiler;if("function"!=typeof e)return void(kr&&B.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));const t=Math.floor(kf/10);try{return new e({sampleInterval:10,maxBufferSize:t})}catch(e){kr&&(B.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),B.log("[Profiling] Disabling profiling for current user session.")),wf=!0}}();if(!n)return e;kr&&B.log(`[Profiling] started profiling transaction: ${it(e).description}`);const r=_e();async function o(){return e&&n?n.stop().then((t=>(s&&(Dr.clearTimeout(s),s=void 0),kr&&B.log(`[Profiling] stopped profiling of transaction: ${it(e).description}`),t?(function(e,t){if(Tf.set(e,t),Tf.size>30){const e=Tf.keys().next().value;Tf.delete(e)}}(r,t),null):(kr&&B.log(`[Profiling] profiler returned null profile for: ${it(e).description}`,"this may indicate an overlapping transaction or a call to stopProfiling with a profile title that was never started"),null)))).catch((e=>(kr&&B.log("[Profiling] error while stopping profiler:",e),null))):null}let s=Dr.setTimeout((()=>{kr&&B.log("[Profiling] max profile duration elapsed, stopping profiling for:",it(e).description),o()}),kf);const i=e.end.bind(e);return e.end=function(){return e?(o().then((()=>{e.setContext("profile",{profile_id:r,start_timestamp:t}),i()}),(()=>{i()})),e):i()},e}const Mf="BrowserProfiling",Of=()=>({name:Mf,setupOnce(){},setup(e){const t=un().getTransaction();t&&_f(t)&&xf(t)&&Rf(t),"function"==typeof e.on?(e.on("startTransaction",(e=>{xf(e)&&Rf(e)})),e.on("beforeEnvelope",(e=>{if(!Tf.size)return;const t=function(e){const t=[];return rr(e,((e,n)=>{if("transaction"===n)for(let n=1;n<e.length;n++){const r=e[n];r&&r.contexts&&r.contexts.profile&&r.contexts.profile.profile_id&&t.push(e[n])}})),t}(e);if(!t.length)return;const n=[];for(const e of t){const t=e&&e.contexts,r=t&&t.profile&&t.profile.profile_id,o=t&&t.profile&&t.profile.start_timestamp;if("string"!=typeof r){kr&&B.log("[Profiling] cannot find profile for a transaction without a profile context");continue}if(!r){kr&&B.log("[Profiling] cannot find profile for a transaction without a profile context");continue}t&&t.profile&&delete t.profile;const s=Cf(r);if(!s){kr&&B.log(`[Profiling] Could not retrieve profile for transaction: ${r}`);continue}const i=Ef(r,o,s,e);i&&n.push(i)}!function(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n])}(e,n)}))):B.warn("[Profiling] Client does not support hooks, profiling will be disabled")}}),Af=_n(Mf,Of);let Lf={};Dr.Sentry&&Dr.Sentry.Integrations&&(Lf=Dr.Sentry.Integrations);const Df={...Lf,...Ns,...t};Es({dsn:"https://f0a6e6e8876c45afa9fbc8c8fed53d4e@astrid.1clickvpn.net/44",release:chrome.runtime.getManifest().version,beforeBreadcrumb:function(e,t){return null},integrations:function(e){return e.filter((function(e){return"Breadcrumbs"!==e.name&&"Dedupe"!==e.name}))},beforeSend:function(e){var t,n,r,o=(null==e||null===(t=e.exception)||void 0===t||null===(n=t.values)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.value)||(null==e?void 0:e.message)||"";return(o.includes("FILE_ERROR_NO_SPACE")||o.includes("LOCK: File currently in use")||o.includes("The browser is shutting down")||o.includes("No current window")||o.includes("standalone sidebar"))&&(e.level="warning"),e},sampleRate:.2});const Nf=n;var Pf=["/",":","?","#"],Bf=[".","/","@"];function Ff(e,t){for(var n,r=0,s=0,i=0,a=e.length,c=0;a--&&++c&&!(r&&Pf.indexOf(e[c])>-1);)"."===e[c]&&(++r,s=c);for(n=c,c=s;c--;)if(-1!==Bf.indexOf(e[c])){i=c+1;break}if(0===i&&n>3)return e;if(i>0&&i<2)return"";if(t.tld){for(var u=0,l=["/","@"],d=s;d--;)if(l.indexOf(e[d])>-1){u=d+1;break}return o.e(530).then(o.bind(o,530)).then((function(t){return Promise.resolve(t.get(e.slice(u,n)))})).catch((function(e){throw console.error(e),Error("You must install psl library (https://www.npmjs.com/package/psl) to use `tld` option")}))}return e.slice(i,n)}var $f=["autoProxy"],jf=["autoProxy"];Nf.setTag("context","background-js");var Uf=6e5,Hf={us:_,ca:b,ee:S,fr:w,de:k,it:x,lt:E,gb:T,no:C,nl:I},qf=null,zf=0,Wf=function(){return function(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.requests=[],this.autoProxy={connect:!1,server:null,blocked:[]},this.onAuthRequiredListener=this.onAuthRequiredListener.bind(this),this.onCompletedListener=this.onCompletedListener.bind(this),this.onErrorOccurredListener=this.onErrorOccurredListener.bind(this),this.onProxyErrorListener=this.onProxyErrorListener.bind(this),this.initStorage(),this.initListeners(),this.blackList=["dev.1clickvpn.net"]}),[{key:"persistAutoProxy",value:function(){chrome.storage.session.set({autoProxy:this.autoProxy})}},{key:"setAutoProxy",value:function(e){this.autoProxy=p(p({},this.autoProxy),e),this.persistAutoProxy()}},{key:"onConnect",value:function(e){e&&(this.storage.errorCounter=0,this.storage.connectionStartTimestamp=Date.now(),this.storage.selected=e,this.storage.connected=null,this.setAutoProxy({connect:!1,server:null})),this.onAutoProxy(!1),this.setProxy(),this.debouncedSave(this)}},{key:"onDisconnect",value:function(){this.storage.selected=null,this.storage.connected=null,this.storage.connectionEndTimestamp=Date.now(),this.storage.error=null,this.setProxy(),this.debouncedSave(this)}},{key:"initListeners",value:function(){var e=this,t=this;chrome.runtime.onInstalled.addListener((function(n){var r=n.reason,o=n.previousVersion;"install"===r?setTimeout((function(){t.safeCreateTab({url:"".concat(g,"/download-vpn"),active:!0},{tag:"install"})}),300):("chrome_update"===r||"update"===r&&o!==chrome.runtime.getManifest().version)&&e.openUpdatesPage(),chrome.runtime.setUninstallURL("".concat(g,"/contact/"))})),chrome.runtime.onMessage.addListener((function(t,n,r){switch(t.action){case"connect":e.onConnect(t.server),r();break;case"disconnect":e.onDisconnect(),r();break;case"getConfig":r(e.storage);break;case"rated":e.storage.rated=!0,e.debouncedSave(e);break;case"autoProxy":e.onAutoProxy(t.connect)}}));var n=function(e){return e/6e4};chrome.alarms.clear("icon"),chrome.alarms.clear("sync"),chrome.alarms.create("icon",{delayInMinutes:n(1e3),periodInMinutes:n(1e3)}),chrome.alarms.create("sync",{delayInMinutes:n(Uf),periodInMinutes:n(Uf)}),chrome.alarms.onAlarm.addListener((function(t){"icon"===t.name?e.storage.error&&(chrome.action.setIcon({path:{32:chrome.runtime.getURL("icon-32.png"),64:chrome.runtime.getURL("icon-64.png"),128:chrome.runtime.getURL("icon-128.png")}}),chrome.action.setBadgeBackgroundColor({color:"#c9453f"}),chrome.action.setBadgeText({text:"!"})):"sync"===t.name&&e.sync()})),chrome.webRequest.onCompleted.addListener((function(t){t.url.includes("account/overview?r=payment")&&e.sync()}),{urls:["".concat(g,"/*")]})}},{key:"onAutoProxy",value:function(e){this.setAutoProxy({connectStatus:e}),this.autoProxy.connect=e,this.persistAutoProxy(),!0===e?chrome.webRequest.onErrorOccurred.addListener(this.onErrorOccurredListener,{urls:["<all_urls>"]}):(this.setAutoProxy({server:null,blocked:[]}),chrome.webRequest.onErrorOccurred.removeListener(this.onErrorOccurredListener),chrome.proxy.settings.clear({scope:"regular"})),this.setBadge()}},{key:"generateUUID",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},{key:"initStorage",value:(t=c(i().mark((function e(){var t,n,r=this;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.storage=m(),e.next=3,chrome.storage.local.get("id");case 3:if((t=e.sent)&&t.id){e.next=11;break}return n=crypto.randomUUID&&"function"==typeof crypto.randomUUID?crypto.randomUUID():this.generateUUID(),e.next=8,chrome.storage.local.set({id:n});case 8:this.storage.id=n,e.next=12;break;case 11:this.storage.id=t.id;case 12:chrome.storage.local.get(this.storage,(function(e){e&&"autoProxy"in e&&(delete e.autoProxy,chrome.storage.local.remove("autoProxy")),r.storage=e||r.storage,Nf.setUser({id:r.storage.id}),r.setProxy(),r.debouncedSave(r),r.sync()})),chrome.storage.session.get("autoProxy",(function(e){var t=e.autoProxy;t?(r.autoProxy=t,r.onAutoProxy(!!t.connect)):(r.autoProxy={connect:!1,server:null,blocked:[]},r.persistAutoProxy(),r.onAutoProxy(!1))}));case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"saveStorage",value:function(){var e=this.storage||{},t=(e.autoProxy,r(e,$f));chrome.storage.local.set(t)}},{key:"sync",value:function(){var e=this;fetch("".concat(g,"/api/v1/checks/auth?c=")+this.storage.id).then((function(e){return e.ok?e.json():Promise.reject()})).then((function(t){e.storage.signed=!!t.ok||e.storage.signed,e.debouncedSave(e),chrome.storage.local.set({lastSync:Date.now()})})).catch((function(e){return console.error(e)})),fetch("".concat(g,"/api/v1/servers/?c=")+this.storage.id).then((function(e){return e.json()})).then((function(t){v()(p({},t))!==v()(p({},e.storage.servers))&&(e.storage.servers=t,e.debouncedSave(e),e.setProxy(),chrome.storage.local.set({lastSync:Date.now()}))})).catch((function(e){return console.error(e)}))}},{key:"getDomainFromUrl",value:function(e){try{return new URL(e).hostname}catch(e){return null}}},{key:"setProxy",value:function(e){var t,n=this;if(this.storage.selected&&!e){var r=this.storage.servers.find((function(e){return e.countryCode===n.storage.selected.countryCode}));r&&r.nodes&&r.nodes.length&&(t=r.nodes[0]),t||(this.storage.error=null,this.debouncedSave(this))}if(this.autoProxy.connect&&null===this.autoProxy.server){var o=this.storage.servers.filter((function(e){return e.credentials})),s=o[Math.floor(Math.random()*o.length)];this.setAutoProxy({server:s})}chrome.webRequest.onAuthRequired.removeListener(this.onAuthRequiredListener),chrome.proxy.onProxyError.removeListener(this.onProxyErrorListener),chrome.proxy.settings.clear({scope:"regular"},(function(){if(!(e||n.storage.selected&&t))return n.setBadge(),void n.assertConnection();if(chrome.webRequest.onAuthRequired.addListener(n.onAuthRequiredListener,{urls:["http://*/*","https://*/*"]},["asyncBlocking"]),chrome.webRequest.onCompleted.hasListener(n.onCompletedListener)||chrome.webRequest.onCompleted.addListener(n.onCompletedListener,{urls:["http://*/*","https://*/*"]}),chrome.webRequest.onErrorOccurred.hasListener(n.onErrorOccurredListener)||chrome.webRequest.onErrorOccurred.addListener(n.onErrorOccurredListener,{urls:["http://*/*","https://*/*"]}),e){var r=n.autoProxy,o=r.server,s=r.blocked,i=o.nodes[0],a="\n            function FindProxyForURL(url, host) {\n              var blockedDomains = ".concat(JSON.stringify(s),';\n              for (var i = 0; i < blockedDomains.length; i++) {\n                var item = blockedDomains[i];\n                if (shExpMatch(host, "*." + item) || host === item) {\n                  return "HTTPS ').concat(i.host,":").concat(i.port,'";\n                }\n              }\n            }').trim();chrome.proxy.settings.set({value:{mode:"pac_script",pacScript:{data:a}},scope:"regular"})}else{if(n.storage.servers.filter((function(e){if(e.credentials)return e})).length===n.storage.servers.length&&!t.host.includes("-noad")){var c=t.host.split("."),u=c[0];c.splice(0,1,"".concat(u,"-noad")),t.host=c.join(".")}chrome.proxy.settings.set({value:{mode:"fixed_servers",rules:{singleProxy:{scheme:t.schema.toLowerCase(),host:t.host,port:Number(t.port)},bypassList:[g,"https://astrid.1clickvpn.net"]}},scope:"regular"},(function(){return n.assertConnection()}))}chrome.proxy.onProxyError.addListener(n.onProxyErrorListener)}))}},{key:"addDomainToBlockList",value:function(e){var t=function(e,t){if(void 0===t&&(t={}),"string"==typeof e)return Ff(e,t);if(Array.isArray(e)){for(var n=[],r=e.length,o=0;o<r;o++){var s=Ff(e[o],t);n.push(s)}return n}!function(){throw new TypeError("The given URL is not a string. Please verify your string|array.")}()}(e);this.autoProxy.blocked.length>1e3&&(this.autoProxy.blocked=[]),this.autoProxy.blocked.includes(t)||(this.autoProxy.blocked.push(t),this.persistAutoProxy())}},{key:"onAuthRequiredListener",value:function(e,t){var n=this;if(this.autoProxy.connect){t({authCredentials:this.autoProxy.server.credentials})}else{if(!e.isProxy)return void t({});if(-1!==this.requests.indexOf(e.requestId))return void t({cancel:!0});this.requests.push(e.requestId);var r=this.storage.servers.find((function(e){return e.countryCode===n.storage.selected.countryCode}));if(!r)return this.storage.error={},this.debouncedSave(this),void t({});var o=r.credentials;if(!o)return this.storage.error={},this.debouncedSave(this),void t({});t({authCredentials:o})}}},{key:"onCompletedListener",value:function(e){"outermost_frame"==e.frameType&&"main_frame"==e.type&&(Nf.setContext("req",e),Nf.captureMessage("onCompletedListener"));var t=this.requests.indexOf(e.requestId);t>-1&&this.requests.splice(t,1)}},{key:"onErrorOccurredListener",value:function(e){"outermost_frame"==e.frameType&&"main_frame"==e.type&&(Nf.setContext("req",e),Nf.captureMessage("onErrorOccurredListener"));var t=this.requests.indexOf(e.requestId);t>-1&&this.requests.splice(t,1),!0===this.autoProxy.connect&&(Nf.setContext("req",e),this.rateLimitedReport("onErrorOccurred before autoProxy",{url:e.url,error:e.error}),(e.error.includes("net::ERR_CERT_COMMON_NAME_INVALID")||e.error.includes("net::ERR_NAME_NOT_RESOLVED")||e.error.includes("net::ERR_TIMED_OUT")||e.error.includes("net::ERR_CONNECTION_TIMED_OUT")||e.error.includes("net::DNS_PROBE_FINISHED_NXDOMAIN")||e.error.includes("net::ERR_CERT_AUTHORITY_INVALID"))&&(this.addDomainToBlockList(e.url),this.setProxy(!0,e)))}},{key:"rateLimitedReport",value:function(e,t){var n=Date.now();n-zf>6e4&&(zf=n,Nf.captureMessage(e,{level:"info",extra:t}))}},{key:"onProxyErrorListener",value:function(e){"net::ERR_PROXY_CONNECTION_FAILED"===e.error&&(this.storage.error||("outermost_frame"==e.frameType&&"main_frame"==e.type&&(Nf.setContext("req",e),Nf.captureMessage("onProxyErrorListener")),this.storage.errorCounter++,this.storage.error=!0,this.debouncedSave(this)))}},{key:"assertConnection",value:(e=c(i().mark((function e(){var t,n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.request&&this.request.abort(),e.next=4,fetch("https://api.1clickvpn.net/api/v1/checks/ip/?c="+this.storage.id,{method:"GET",timeout:1e4});case 4:if((t=e.sent).ok){e.next=8;break}return this.storage.selected&&(this.storage.error=!0,this.debouncedSave(this)),e.abrupt("return");case 8:return e.next=10,t.json();case 10:n=e.sent,r=this.storage.servers.find((function(e){return e.countryCode==n.countryCode}))||{},o=r.countryCode,this.storage.selected&&o&&(this.storage.connected={countryCode:o},this.setBadge(),this.debouncedSave(this)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),this.storage.selected&&(this.storage.error=!0,this.debouncedSave(this));case 18:return e.prev=18,this.request=null,e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[0,15,18,21]])}))),function(){return e.apply(this,arguments)})},{key:"setBadge",value:function(){if(this.storage.connected){var e=Hf[this.storage.connected.countryCode.toLowerCase()];e&&chrome.action.setIcon({path:chrome.runtime.getURL(e)}),chrome.action.setBadgeBackgroundColor({color:[5,194,143,100]}),chrome.action.setBadgeText({text:this.storage.connected.countryCode})}else chrome.action.setIcon({path:{32:chrome.runtime.getURL("icon-32.png"),64:chrome.runtime.getURL("icon-64.png"),128:chrome.runtime.getURL("icon-128.png")}}),this.autoProxy&&this.autoProxy.connect?chrome.action.setBadgeText({text:"auto"}):chrome.action.setBadgeText({text:""}),chrome.action.setBadgeBackgroundColor({color:[255,255,255,0]})}},{key:"openUpdatesPage",value:function(){var e=this;chrome.storage.local.get("id").then((function(t){t&&t.id&&setTimeout((function(){e.safeCreateTab({url:"".concat(g,"/pricing?type=modal&u=")+t.id,active:!0},{tag:"update"})}),300)}))}},{key:"safeCreateTab",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).tag;try{chrome.tabs.create(e,(function(){var n=chrome.runtime.lastError;if(n){var r=String(n.message||"");Nf.captureMessage("tabs.create failed",{level:"info",extra:{msg:r,createProps:e,tag:t}})}}))}catch(e){Nf.captureException(e)}}},{key:"debouncedSave",value:function(e){clearTimeout(qf),qf=setTimeout((function(){var t=e.storage||{},n=(t.autoProxy,r(t,jf));chrome.storage.local.set(n,(function(){var e=chrome.runtime.lastError;e&&Nf.captureMessage("chrome.storage.local.set error",{level:"warning",extra:{msg:e.message}})}))}),750)}}]);var e,t}();new Wf})()})();